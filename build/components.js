!function(e,l){if("object"==typeof exports&&"object"==typeof module)module.exports=l();else if("function"==typeof define&&define.amd)define([],l);else{var t=l();for(var s in t)("object"==typeof exports?exports:e)[s]=t[s]}}(this,function(){return function(e){function l(s){if(t[s])return t[s].exports;var o=t[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,l),o.loaded=!0,o.exports}var t={};return l.m=e,l.c=t,l.p="",l(0)}({0:function(e,l,t){e.exports=t(34)},14:function(e,l){"use strict";var t={},s="\n".slice(0,1),o=function(e,l){var o=e+"",r=o+JSON.stringify(l);if(t[r])return t[r];var i;l.padding?(i=l.padding.split(" "),i=i.map(function(e){return parseInt(e)}),i[1]=+(i[1]||i[0]),i[2]=+(i[2]||i[0]),i[3]=+(i[3]||i[1])):i=[0,0,0,0];var n=l.minWidth||l.width||(l.size||16)*o.length+i[1]+i[3]+100,c=o.split("\n").length,a=(l.size||16)*(Math.round(o.length)/n+c-1)*(l.lineHeight||l.size)+i[0]+i[2]+100,u=document.createElement("canvas");u.width=n,u.height=a;var h=u.getContext("2d");if(window.tempCanvas=u,window.tempCtx=h,h.textBaseline="middle",h.font=(l.style?l.style+" ":"")+l.size+"px "+(l.family||"serif"),h.fillStyle=l.color||"#000",h.textAlign=l.textAlign||"left","production"!==process.env.NODE_ENV){var p=[];p.push("var tempCanvas = document.createElement('canvas')"),p.push("tempCanvas.width="+u.width),p.push("tempCanvas.height="+u.height),p.push("var tempCtx = tempCanvas.getContext('2d')"),p.push("tempCtx.textBaseline='"+h.textBaseline+"'"),p.push("tempCtx.font='"+h.font+"'"),p.push("tempCtx.fillStyle='"+h.fillStyle+"'"),p.push("tempCtx.textAlign='"+h.textAlign+"'")}for(var d=0,f=l.lineHeight?(l.lineHeight-l.size)/2:0,v=0,g=1,m=0;;){var y=h.measureText(o.slice(v,g)).width;if(y>l.width){if("ellipsis"===l.overflow){g-=2,h.fillText(o.slice(v,g)+"...",d,f+l.size/2),"production"!==process.env.NODE_ENV&&p.push("tempCtx.fillText('"+o.slice(v,g)+"...', "+d+", "+(f+l.size/2)+")"),f+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:0),m=l.width-i[1]-i[3];break}g-=1,h.fillText(o.slice(v,g),d,f+l.size/2),"production"!==process.env.NODE_ENV&&p.push("tempCtx.fillText('"+o.slice(v,g)+"', "+d+", "+(f+l.size/2)+")"),v=g,g=v+1,f+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:10)}else{if(g>o.length-1){y>m&&(m=y),h.fillText(o.slice(v,g),d,f+l.size/2),"production"!==process.env.NODE_ENV&&p.push("tempCtx.fillText('"+o.slice(v,g)+"', "+d+", "+(f+l.size/2)+")"),f+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:0);break}o.slice(g,g+1)===s&&(h.fillText(o.slice(v,g),d,f+l.size/2),g+=1,v=g,g=v+1,f+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:10)),y>m&&(m=y),g++}}var x=document.createElement("canvas");x.width=Math.max(m+i[1]+i[3],l.minWidth||0),x.height=f+i[0]+i[2];var $=x.getContext("2d");if("production"!==process.env.NODE_ENV&&(p.push("var finalCanvas=document.createElement('canvas')"),p.push("finalCanvas.width="+x.width),p.push("finalCanvas.height="+x.height),p.push("var finalCtx = finalCanvas.getContext('2d')")),l.backgroundColor&&($.fillStyle=l.backgroundColor,$.fillRect(0,0,x.width,x.height),"production"!==process.env.NODE_ENV&&(p.push("finalCtx.fillStyle="+$.fillStyle),p.push("finalCtx.fillRect(0, 0, "+x.width+", "+x.height+")"))),$.drawImage(u,(x.width-m)/2,i[0]),l.border){var w=l.border.split(" ");$.beginPath(),$.moveTo(0,0),$.lineWidth=parseInt(w[0]),$.strokeStyle=w[2]||w[1],$.lineTo(x.width,0),$.lineTo(x.width,x.height),$.lineTo(0,x.height),$.lineTo(0,0),$.stroke()}return"production"!==process.env.NODE_ENV&&(x.$origin=p),t[r]=x,x};e.exports=o},34:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=t(38),r=s(o),i=t(35),n=s(i),c=t(36),a=s(c),u=t(37),h=s(u);e.exports={button:n.default,scroll:a.default,text:r.default,sequence:h.default}},35:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var l=1;arguments.length>l;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=t(14),i=s(r),n="undefined"!=typeof window,c={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},a=void 0,u=function(e,l){e.buttonStyleNormal=o(c,{minWidth:l.style.tw,lineHeight:l.style.th,padding:0},l.props.normal),e.buttonStyleHovered=o({},e.buttonStyleNormal,l.props.hovered),e.buttonStylePressed=o({},e.buttonStyleNormal,l.props.pressed),e.imageNormal=(0,i.default)(l.props.text||"",e.buttonStyleNormal),e.imageHovered=l.props.hovered&&(0,i.default)(l.props.text||"",e.buttonStyleHovered),e.imagePressed=l.props.pressed&&(0,i.default)(l.props.text||"",e.buttonStylePressed)},h=function(e){var l=void 0;e.props=e.props||{};var t={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};u(t,e);var s={};return e.events=e.events||{},s.touchmove=s.mousemove=function(){l.content.img=t.imageHovered||t.imageNormal},s.touchstart=s.mousedown=function(){l.content.img=t.imagePressed||t.imageHovered||t.imageNormal},s.touchend=s.touchout=s.mouseout=function(){l.content.img=t.imageNormal},s.mouseup=function(){l.content.img=t.imageHovered||t.imageNormal},s.click=function(t){e.events.click&&e.events.click.call(l,t)},l=new a.class.sprite({name:e.name||"button_"+e.props.text,content:{img:t.imageNormal},style:e.style,props:e.props,events:s,hooks:e.hooks}),l.update=function(s){this.__proto__.update.call(this,s),u(t,e),l.content.img=t.imageNormal},l},p=function(e,l){return a=e,l&&(e.class[l]=h),h};n&&window.Easycanvas?(a=Easycanvas,Easycanvas.class.button=h):e.exports=p},36:function(e,l){"use strict";var t=Object.assign||function(e){for(var l=1;arguments.length>l;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s="undefined"!=typeof window,o=void 0,r=void 0,i=function(e,l){return Math.abs(e)<Math.abs(l)?e:l},n={loose:function(e){e.$scroll.touching=!1},looper:function(e){if(e.$scroll&&e.$scroll.$scrolling){if(Math.abs(e.$scroll.speedX)>1?e.$scroll.speedX*=e.scroll.smooth||.8:e.$scroll.speedX=0,Math.abs(e.$scroll.speedY)>1?e.$scroll.speedY*=e.scroll.smooth||.8:e.$scroll.speedY=0,Math.abs(e.$scroll.speedX)<=1&&Math.abs(e.$scroll.speedY)<=1)return e.$scroll.$scrolling=!1,void(e.$scroll.$wheeling=!1);if(!e.$scroll.touching){if(e.scroll.scrollY-=e.$scroll.speedY,e.scroll.scrollX-=e.$scroll.speedX,!e.$scroll.touching&&!e.$scroll.$wheeling&&Math.abs(e.$scroll.speedY)<50&&e.scroll.anchors&&e.scroll.anchors.length)for(var l=e.scroll.anchorsRange||400,t=0;e.scroll.anchors.length>t;t++){var s=e.scroll.anchors[t],r=e.scroll.scrollY-s;if(r>0&&l>r&&e.$scroll.speedY>0||0>r&&r>-l&&0>e.$scroll.speedY){e.trigger("scrollTo",s,200),e.$scroll.speedY=0;break}}var i=o.utils.funcOrValue(e.scroll.minScrollX,e),n=o.utils.funcOrValue(e.scroll.maxScrollX,e),c=o.utils.funcOrValue(e.scroll.minScrollY,e),a=o.utils.funcOrValue(e.scroll.maxScrollY,e);!isNaN(c)&&c>e.scroll.scrollY?e.scroll.scrollY=c:!isNaN(a)&&e.scroll.scrollY>a&&(e.scroll.scrollY=a,e.broadcast("scrolledToBottom"),e.$scroll.speedY=0),!isNaN(i)&&i>e.scroll.scrollX?e.scroll.scrollX=i:!isNaN(n)&&e.scroll.scrollX>n&&(e.scroll.scrollX=n)}}},touch:function(e,l){var t=Date.now();if(e.$scroll.$wheeling=!1,e.$scroll.touching){e.$scroll.$scrolling=!0;var s=e.$scroll.startPos.x-l.canvasX,r=e.$scroll.startPos.y-l.canvasY,n=t-e.$scroll.touching;e.$scroll.touching=t;var c=o.utils.funcOrValue(e.scroll.minScrollX,e),a=o.utils.funcOrValue(e.scroll.maxScrollX,e),u=o.utils.funcOrValue(e.scroll.minScrollY,e),h=o.utils.funcOrValue(e.scroll.maxScrollY,e);if((c>e.scroll.scrollX+s||e.scroll.scrollX+s>a)&&(e.scroll.flexible||e.scroll.flexibleX?s>>=3:s=0),(u>e.scroll.scrollY+r||e.scroll.scrollY+r>h)&&(e.scroll.flexible||e.scroll.flexibleY?r>>=3:r=0),o.utils.funcOrValue(e.scroll.scrollableX,e)&&Math.abs(s)>=1&&n>1){var p=(l.canvasX-e.$scroll.startPos.x)/n*25;e.$scroll.lastScrollSpeed*p>0&&Math.abs(p)>15&&(p+=i(p,e.$scroll.lastScrollSpeed)),e.$scroll.speedX=(e.$scroll.lastTouchSpeed+p)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=p,e.scroll.scrollX+=s}if(o.utils.funcOrValue(e.scroll.scrollableY,e)&&Math.abs(r)>=1&&n>1){var d=(l.canvasY-e.$scroll.startPos.y)/n*25;e.$scroll.lastScrollSpeed*d>0&&Math.abs(d)>15&&(d+=i(d,e.$scroll.lastScrollSpeed)),e.$scroll.speedY=(e.$scroll.lastTouchSpeed+d)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=d,e.scroll.scrollY+=r}if(e.$scroll.startPos.x=l.canvasX,e.$scroll.startPos.y=l.canvasY,Math.abs(s)>Math.abs(r)+1)return 1;if(Math.abs(s)<Math.abs(r)-1)return 2}else e.$scroll.touching=t,e.$scroll.quickTouch=t,e.$scroll.lastTouchSpeed=0,e.$scroll.startPos.x=l.canvasX,e.$scroll.startPos.y=l.canvasY,e.$scroll.lastScrollSpeed=e.$scroll.speedX||e.$scroll.speedY,e.$scroll.speedX=0,e.$scroll.speedY=0},wheel:function(e,l){e.$scroll.speedX=o.utils.funcOrValue(e.scroll.scrollableX,e)?l.event.wheelDeltaX:0,e.$scroll.speedY=o.utils.funcOrValue(e.scroll.scrollableY,e)?l.event.wheelDeltaY:0,e.$scroll.$scrolling=!0,e.$scroll.$wheeling=!0,l.stopPropagation()}},c=function(e){var l=!1,s=e||{};s.scroll=t({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var e=this,l=0;return this.getChildren().forEach(function(t){var s=t.getSelfStyle("tx")+t.getSelfStyle("tw")-e.getStyle("tw");s>l&&(l=s)}),l},minScrollY:0,maxScrollY:function(){var e=this,l=0;return this.getChildren().forEach(function(t){var s=t.getSelfStyle("ty")+t.getSelfStyle("th")-e.getStyle("th");s>l&&(l=s)}),l},propagationX:!1,propagationY:!1},e.scroll);var i=function e(){l?a.scroll.scrollY=l():a.off("ticked",e)},c=!1;s.events=t({touchstart:function(e){n.loose(this),c=!0,r=!1,n.touch(this,e),a.scroll.propagationX||a.scroll.propagationY||e.stopPropagation()},touchmove:function(e){if(c&&(!r||this===r)){var l=n.touch(this,e);1===l&&a.scroll.propagationY?(e.stopPropagation(),r=this):2===l&&a.scroll.propagationX&&(e.stopPropagation(),r=this)}},mousewheel:function(e){c=!0,n.wheel(this,e),e.stopPropagation()},touchend:function(){c=!1,n.loose(this)},mouseup:function(){c=!1,n.loose(this)}},s.events||{}),s.scroll.capture&&(s.events.interceptor=function(e){return a.events[e.type]?(a.events[e.type].call(a,e),!1):e});var a=new o.class.sprite(s);a.on("ticked",function(){n.looper(a)}),a.on("scrollTo",function(e,t,s){l=o.transition.pendulum(a.scroll.scrollY,e,2*(t||200),{cycle:.5}).then(function(){l=!1,s&&s()}),a.on("ticked",i)}),a.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var u=a.add({name:"scrolling-element",style:{tx:function(){return-this.$parent.scroll.scrollX},ty:function(){return-this.$parent.scroll.scrollY}}});return a.add=u.add.bind(u),a.clear=u.clear.bind(u),a.getChildren=function(){return u.children},a},a=function(e,l){return o=e,l&&(e.class[l]=c),c};s&&window.Easycanvas?(o=Easycanvas,Easycanvas.class.scroll=c):e.exports=a},37:function(e,l){"use strict";var t="undefined"!=typeof window,s=void 0,o=function(e){var l=new s.class.sprite(e);return e.props.index=e.props.index||0,l.on("beforeTick",function(){var e=this.props,l=s.utils.funcOrValue(this.content.img,this);if(l&&l.width){var t=e.index||0;0>t&&(t=0);var o=void 0,r=void 0;if(e.frameWidth||e.frameHeight){o=0>e.frameWidth?l.width/-e.frameWidth:e.frameWidth,r=0>e.frameHeight?l.height/-e.frameHeight:e.frameHeight;var i=Math.floor(l.width/o),n=Math.floor(l.height/r);this.style.sx=t%i*o,this.style.sy=Math.floor(t/i)%n*r}!e.loop&&t>0&&0===this.style.sx&&0===this.style.sy&&(this.style.img=void 0,e.onOver?e.onOver.call(this):this.remove()),e.lastFrameTime=e.lastFrameTime||0,this.$canvas.$nextTickTime-e.lastFrameTime<s.utils.funcOrValue(e.interval,this)||(e.lastFrameTime=this.$canvas.$nextTickTime,e.index++),this.style.sw=this.style.sw||o,this.style.sh=this.style.sh||r,this.style.tw=this.style.tw||o,this.style.th=this.style.th||r}}),l},r=function(e,l){return s=e,l&&(e.class[l]=o),o};t&&window.Easycanvas?(s=Easycanvas,Easycanvas.class.sequence=o):e.exports=r},38:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var l=1;arguments.length>l;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=t(14),i=s(r),n="undefined"!=typeof window,c={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},a=void 0,u=function(e){e.content.img=e.props?(0,i.default)(e.props.text,o({},c,{lineHeight:e.props.size},e.props)):void 0},h=function(e){var l=void 0;return l=new a.class.sprite(e),u(l),l.update=function(e){this.__proto__.update.call(this,e),u(this)},l},p=function(e,l){return a=e,l&&(e.class[l]=h),h};n&&window.Easycanvas?(a=Easycanvas,Easycanvas.class.text=h):e.exports=p}})});