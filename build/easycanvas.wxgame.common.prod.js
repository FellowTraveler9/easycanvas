!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=45)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){return"function"==typeof e?e.call(t,t):e},execFuncs:function(e,t,n){e&&(r.isArray(n)||(n=[n])),"function"==typeof e?e.apply(t,n):r.isArray(e)&&e.length&&e.forEach(function(e){e&&e.apply(t,n)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,n,r,o,i){return!(e<n||e>r||t<o||t>i)},firstValuable:function(e,t,n){return void 0===e?void 0===t?n:t:e}},o=r;t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=["cutLeft","cutTop","cutWidth","cutHeight"],o=["left","top","width","height"],i=r.concat(o),a=i.concat(["locate","rotateOriginLeft","rotateOriginTop","zIndex","fontSize","fontFamily","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","borderWidth","borderColor","overflow","overflowX","overflowY"]),l={txywh:o,sxywh:r,xywh:i,styles:a,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.8.5"};t["default"]=l},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=n(1);var i=function(e){e.children&&e.children.forEach(function(t,n){t.$id||(e.children[n]=new u(t)),e.$id&&!e.$dom?(e.children[n].$canvas=e.$canvas,e.children[n].$parent=e):e.children[n].$canvas=e,i(e.children[n])})},a=function(e,t){var n=e||{};return n.$id||(n.$id=Math.random().toString(36).substr(2)),n.$tickedTimes=n.$tickedTimes||0,n.content=n.content||{},n.style=n.style||{},n.style.scale=r["default"].firstValuable(n.style.scale,1),n.style.opacity=r["default"].firstValuable(n.style.opacity,1),n.style.borderWidth=r["default"].firstValuable(n.style.borderWidth,0),n.style.zIndex=n.style.zIndex||0,n.style.locate=n.style.locate||"center",t.$cache={},t.$render={},t.$style={},t.$self={},t.$selfChanged=!1,t.$needUpdate={},n.hooks=n.hooks||{},o["default"].styles.concat(["visible"]).forEach(function(e){t.$cache[e]=undefined,t.$style[e]=n.style[e],"function"==typeof n.style[e]&&(t.$style[e]=n.style[e].bind(t)),o["default"].xywh.indexOf(e)>-1?t.$style[e]=t.$style[e]||("width"===e||"height"===e?undefined:0):["opacity","scale"].indexOf(e)>-1&&(t.$style[e]=r["default"].firstValuable(t.$style[e],1)),t.$needUpdate[e]=1,Object.defineProperty(n.style,e,{get:function(){return t.$style[e]},set:function(n){t.$style[e]!==n&&(t.$style[e]=n,t.$needUpdate[e]=1)}})}),n.events=n.events||{},n.children=n.children||[],n.children=function a(e,t){return void 0===t&&(t=1),t?Array.prototype.reduce.call(e,function(e,n){return Array.isArray(n)?e.push.apply(e,a(n,t-1)):e.push(n),e},[]):Array.prototype.slice.call(e)}(n.children,Infinity),i(n),n.$styleCacheTime={},n},l=function(e){var t=this;this.$extendList.forEach(function(n){n.call(t,e)})},u=function(){function e(e){this.$cache={},this.content={},this.style={},this.events={},this.hooks={},this.$parent=null,this.$canvas=null,this.$style=null,this.$extendList=[],this.$combine={},this.children=[];var t=a(e,this);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this[n]=t[n]);return e.ref&&e.ref(this),l.call(this,t),this}return e.prototype.add=function(e){if(e)return this.children.push(e),i(this),this.children[this.children.length-1]},e.prototype.getImage=function(){var e=r["default"].funcOrValue(this.content.img,this);return"string"==typeof e&&this.$canvas?this.$canvas.imgLoader(e):e},e.prototype.getRect=function(e){var t=this,n={};o["default"].txywh.forEach(function(r){n[r]=t.getStyle(r,e)||0});var r=this.getStyle("locate");return"lt"===r||("ld"===r?n.top-=n.height:"rt"===r?n.left-=n.width:"rd"===r?(n.left-=n.width,n.top-=n.height):(n.left-=n.width>>1,n.top-=n.height>>1)),n.right=n.left+n.width,n.bottom=n.top+n.height,n},e.prototype.getSelfStyle=function(e){if(e)return r["default"].funcOrValue(this.style[e],this);var t={};for(var n in this.style)t[n]=r["default"].funcOrValue(this.style[n],this);return t},e.prototype.getStyle=function(e,t){if(t&&this.$cache[e]!==undefined)return this.$cache[e];var n=r["default"].funcOrValue(this.$style[e],this);if(this.$parent){var o=this.$parent.getStyle(e);if("left"===e||"top"===e)return(o=r["default"].firstValuable(o,0))+r["default"].firstValuable(n,0);if("scale"===e||"opacity"===e)return(o=r["default"].firstValuable(o,1))*r["default"].firstValuable(n,1);if("visible"===e)return!1!==o&&n;if("width"===e||"height"===e||void 0===n)return n=this.$cache[e]}return n},e.prototype.remove=function(e){if(e)return this.$canvas.remove(e),void r["default"].execFuncs(e.hooks.removed,e);this.$parent?this.$parent.remove(this):this.$canvas.remove(this),r["default"].execFuncs(this.hooks.removed,this)},e.prototype.update=function(e){if(e){for(var t in e)if("object"==typeof e[t])for(var n in e[t])this[t]||(this[t]={}),this[t][n]=e[t][n];else this[t]=e[t];return this.$canvas&&this.recalculate(!0),this}},e.prototype.getAllChildren=function(e){var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllChildren(!0))}),t},e.prototype.getAllVisibleChildren=function(e){if(!1===r["default"].funcOrValue(this.style.visible,this))return[];var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllVisibleChildren(!0))}),t},e.prototype.combineAsync=function(){return this.$combine?this:(this.off("ticked",this.combine),this.on("ticked",this.combine,100),this)},e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o={},i=[],a="undefined"!=typeof window&&Image,l=0,u=function c(e,t,n){var u=n||{},s=c.cacheCanvas;if("object"===r(e)){var f=e;return u.callbackArgs=u.callbackArgs||[],void c(f.shift(),function(e){u.callbackArgs.push(e),f.length>1?c(f,t,u):c(f[0],function(e){u.callbackArgs.push(e),t(u.callbackArgs)},u)},n)}var d=e+"_"+JSON.stringify(n)+"_"+s;if(o[d])return t?void(o[d].width&&t?t(o[d]):setTimeout(function(){c(e,t,n)},100)):o[d];var h,p=new a;return p._complete=!1,u.block?(p.src=e,l++):0===l?p.src=e:i.push({imgObj:p,src:e}),o[d]=p,(u.canvas||u.alphaColor||s)&&((h=document.createElement("canvas")).width=h.height||0,o[d]=h),p.onload=function(e){if(p._complete=!0,"jpg"===p.src.substr(-3)||"jpeg"===p.src.substr(-3)||"bmp"===p.src.substr(-3)?p.$noAlpha=!0:0===p.src.indexOf("data:image/jpg;")&&(p.$noAlpha=!0),u.block&&0===--l&&(i.forEach(function(e){e.imgObj.src=e.src}),i.splice(0)),h&&(u.canvas||u.alphaColor||s)){var n=h.getContext("2d");if(h.width=p.width,h.height=p.height,h.$noAlpha=p.$noAlpha,n.drawImage(p,0,0),u.alphaColor){for(var r=n.getImageData(0,0,p.width,p.height),o=0;o<r.data.length;o+=4){var a=r.data[o]+r.data[o+1]+r.data[o+2];r.data[o]<1&&r.data[o+1]<1&&r.data[o+2]<1&&(r.data[o+3]=Math.floor(a/255))}n.putImageData(r,0,0),h.$noAlpha=!1}p=h}t&&t(p)},p.onerror=function(){o[d]=p},h||p};u.cacheCanvas=!1;var s=u;t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=function(e){setTimeout(e,1e3/60)},o="undefined"!=typeof requestAnimationFrame&&(requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||r;t["default"]=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=n(0),o=Math.PI,i=function(e){return e.$lastPaintTime||Date.now()},a={linear:function(e,t,n){var r,o=i(this),a=!1,l=function(){var i=(this.$lastPaintTime-o)/n,u=(t-e)*i+e;if(a)if(t>e)for(;u>t;)u-=t-e;else for(;u<t;)u+=e-t;else t>e&&u>t?(l.$done=!0,u=t):t<e&&u<t&&(l.$done=!0,u=t);return i>=1&&r&&(r.call(this,u),r=null),u}.bind(this);return l.loop=function(){return a=!0,l},l.restart=function(){return o=i(this),l},l.then=function(e){return r=e,l},l},pendulum:function(e,t,n,r){var a=i(this),l=r||{};l.start=l.start||0;var u,s=!1,c=l.cycle||1,f=function(){var r=(i(this)-a)/n;s?c&&(r%=c):c?r>c&&(r=c,f.$done=!0,r=c):r>1&&(f.$done=!0,r=1);var d=r*o*2-o/2+l.start/360*o,h=(t-e)*(Math.sin(d)+1)/2+e;return r>=c&&u&&(u.call(this,h),u=null),h}.bind(this);return f.loop=function(){return s=!0,f},f.restart=function(){return a=i(this),f},f.then=function(e){return u=e,f},f},ease:function(e,t,n){return this.pendulum(e,t,2*n,{cycle:.5})},oneByOne:function(e){var t=e,n=!1,r=function(){for(var e=0;e<t.length;e++){if(!t[e].$done)return t[e]();if(!t[e].$nextRestart&&(t[e].$nextRestart=!0,t[e+1]))return t[e+1].restart(),t[e+1]()}if(n){for(var r=0;r<t.length;r++)t[r].$done=!1,t[r].$nextRestart=!1,t[r].restart();return t[0]()}return t[t.length-1]()};return r.loop=function(){return n=!0,r},r}},l=function c(e,t,n,o,i){var l=(0,r.funcOrValue)(e[t]);l=l||0,e[t]=a[n].bind(c)(l,o,i)};for(var u in a)l[u]=a[u];var s=l;t["default"]=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r="processing",o={};var i=function a(e,t){if(e&&e.match(/^data:/))t&&t(e);else if(o[e])o[e]!==r?t(o[e]):setTimeout(function(){a(e,t)},100);else{o[e]=r;var n=new XMLHttpRequest;n.onload=function(){var r=new FileReader;r.onloadend=function(){o[e]=r.result,t&&t(r.result)},r.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()}};t["default"]=i},,,,function(e,t,n){"use strict";t.__esModule=!0;n(1);var r=n(11);t.Painter=r["default"];var o=n(4);t.tick=o["default"];var i=n(0);t.utils=i["default"];var a=n(5);t.Transition=a["default"];var l=n(3);t.ImgLoader=l["default"];var u=n(30);t.ImgPretreat=u["default"];var s=n(2),c=n(31);t.extend=c["default"],n(32);var f=s["default"];t.Sprite=f;var d={Painter:r["default"],ImgLoader:l["default"],ImgPretreat:u["default"],Transition:a["default"],tick:o["default"],use:function(e){var t=d.Painter.prototype.$extendList;t.indexOf(e)>=0||(e.onUse&&e.onUse(d),t.push(e))},utils:i["default"],extend:c["default"],"class":{sprite:s["default"]},sprite:s["default"],Sprite:f,createElement:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=t||{};return o.children=n||[],new e(o,d)}};"undefined"!=typeof window&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):window.Easycanvas=d),t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=l(n(12)),o=l(n(23)),i=l(n(29)),a=l(n(3));function l(e){return e&&e.__esModule?e:{"default":e}}var u=function(e){for(var t in this.imgLoader=a["default"],i["default"])this[t]=this[t]||JSON.parse(JSON.stringify(i["default"][t]));e&&(e.el||(e={el:e}),e.el&&this.register("string"==typeof e.el?document.querySelector(e.el):e.el,e))};for(var s in u.prototype.$extendList=[],o["default"])Object.prototype.hasOwnProperty.call(o["default"],s)&&(u.prototype[s]=o["default"][s]);for(var c in r["default"])Object.prototype.hasOwnProperty.call(r["default"],c)&&(u.prototype[c]=r["default"][c]);var f=u;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r,o=p(n(13)),i=p(n(14)),a=p(n(15)),l=p(n(16)),u=p(n(17)),s=p(n(18)),c=p(n(19)),f=p(n(20)),d=p(n(21)),h=(p(n(22)),p(n(2)));function p(e){return e&&e.__esModule?e:{"default":e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(v(r={start:i["default"],paint:a["default"],add:h["default"].prototype.add,remove:o["default"],register:c["default"],clear:l["default"],setFpsHandler:f["default"],setMaxFps:d["default"],pause:u["default"],on:h["default"].prototype.on,off:h["default"].prototype.off,addEventListener:h["default"].prototype.addEventListener,removeEventListener:h["default"].prototype.removeEventListener},"off",h["default"].prototype.off),v(r,"trigger",h["default"].prototype.trigger),v(r,"broadcast",h["default"].prototype.broadcast),v(r,"nextTick",s["default"]),v(r,"getAllChildren",h["default"].prototype.getAllChildren),r);t["default"]=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){o["default"].execFuncs(e.hooks.beforeRemove,e,e.$tickedTimes++),e.style.visible=!1,e.$removing=!0,e.$parent?e.$parent.children.splice(e.$parent.children.indexOf(e),1):this.children.splice(this.children.indexOf(e),1);e.$canvas&&(o["default"].execFuncs(e.hooks.removed,e,e.$tickedTimes),e.$canvas=undefined,e.$parent=undefined,e.$tickedTimes=undefined,e.$cache={},e.$rendered=!1)};var r,o=(r=n(0))&&r.__esModule?r:{"default":r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return this.fpsCalculateTime=Date.now(),a.call(this),this};var r=i(n(4)),o=i(n(5));function i(e){return e&&e.__esModule?e:{"default":e}}var a=function(){var e=Date.now();o["default"].$lastPaintTime=this.$nextTickTime=e,e-this.fpsCalculateTime>=1e3&&(this.fpsCalculateTime=e,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,r["default"])(l.bind(this))},l=function(e){if(this.$rafTime=e,a.call(this),this.maxFps>0&&this.maxFps<60){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){if(this.$pausing||this.$inBrowser&&document.hidden)return;var e=this;0;o["default"].execFuncs(e.hooks.beforeTick,e,[e.$rafTime]),!1;e.children.forEach(function(e){e.recalculate()}),e.$freezing||(e.$lastTickChildren=e.$children,e.$children=[],this.children.sort(function(e,t){var n=o["default"].funcOrValue(e.style.zIndex,e),r=o["default"].funcOrValue(t.style.zIndex,t);return n===r?0:n>r?1:-1}).forEach(function(t,n){e.$perPaint(t,n)}));0;0;e.$paintContext.clearRect?(e.$paintContext.clearRect(0,0,this.width,this.height),e.$render()):e.$render();0;o["default"].execFuncs(e.hooks.ticked,e,[e.$rafTime]),e.hooks.nextTick&&(o["default"].execFuncs(e.hooks.nextTick,e,[e.$rafTime]),delete e.hooks.nextTick);0};var r,o=(r=n(0))&&r.__esModule?r:{"default":r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){this.children.forEach(function(e){e.remove()}),this.children=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.$pausing=e===undefined||e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.on("ticked",function t(){e.apply(this,arguments),this.off("ticked",t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=this;0;var o=t||{};e=this.$dom=e||this.$dom,!1;for(var i in o)this[i]=o[i];this.name=o.name||e.id||e.classList&&e.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,o.fullScreen&&"undefined"!=typeof document&&(e.width=e.style.width=document.body.clientWidth||document.documentElement.clientWidth,e.height=e.style.height=document.body.clientHeight||document.documentElement.clientHeight,o.dpr&&(e.width*=o.dpr,e.height*=o.dpr));0;e.width=this.width=this.width||o.width||e.width,e.height=this.height=this.height||o.height||e.height,!1;if(this.events=o.events||{},this.hooks=o.hooks||{},this.$inBrowser){["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"].forEach(function(t){e.addEventListener(t,n.$eventHandler.bind(n))})}0;return r.call(this,o),this.$paintContext=this.$paintContext||e.getContext("2d"),this};var r=function(e){var t=this;this.$extendList.forEach(function(n){n.onCreate&&n.onCreate.call(t,e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.fpsHandler=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.maxFps=e||-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=a(n(24)),o=a(n(26)),i=a(n(27));a(n(28));function a(e){return e&&e.__esModule?e:{"default":e}}var l={$render:o["default"],$eventHandler:i["default"],$perPaint:r["default"]};t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(e.$rendered=!1,!1===e.$cache.visible)return;var n=this;a.call(e);var i=e.$render,l=i.text,u=i.img,s=i.childrenInside;if(!(i.settings&&(u||l||i.settings.rotate||i.backgroundColor||i.borderWidth||s))){e.$rendered=undefined;var c=e.children;return void(c.length&&((0,o["default"])(n,c,-1),(0,o["default"])(n,c,1)))}var f=e.children,d=i.settings;if(d.rotate){var h={$id:e.$id,type:"rotateStart",settings:d,props:i};h.$origin=e,n.$children.push(h)}if(d.clip){var p={$id:e.$id,type:"clip",props:i};p.$origin=e,n.$children.push(p)}if(f.length&&(0,o["default"])(n,f,-1),d.fillRect){e.$rendered=!0;var v={$id:e.$id,type:"fillRect",settings:d,props:i};v.$origin=e,n.$children.push(v)}if(i._imgWidth&&0!==i.opacity&&i.cutWidth&&i.cutHeight){e.$rendered=!0;var y={$id:e.$id,type:"img",settings:d,img:u,props:i};y.$origin=e,n.$children.push(y)}if(l){i.fontSize=e.$cache.fontSize,i.fontFamily=e.$cache.fontFamily,i.color=e.$cache.color,i.textAlign=e.$cache.textAlign,i.textVerticalAlign=e.$cache.textVerticalAlign,e.$rendered=!0;var g=i.left,b=i.top,m=i.align||i.textAlign||"left",_=(i.fontSize||14)+"px "+(i.fontFamily||"serif"),w=parseInt(_),O="top";"center"===m?g+=i.width/2:"right"===m&&(g+=i.width),"top"===i.textVerticalAlign?O="top":"bottom"===i.textVerticalAlign?(O="bottom",b+=i.height):"middle"===i.textVerticalAlign&&(b+=i.height>>1,O="middle"),"string"==typeof l||"number"==typeof l?n.$children.push({$id:e.$id,type:"text",settings:d,props:{left:g,top:b,content:String(l),fontsize:w,align:m,baseline:O,font:_,color:i.color,type:i.textToppe},$origin:e}):l.length&&l.forEach(function(t){n.$children.push({$id:e.$id,type:"text",settings:d,props:{left:g+r["default"].funcOrValue(t.left,e),top:b+r["default"].funcOrValue(t.top,e),content:r["default"].funcOrValue(t.content,e),fontsize:w,baseline:O,align:m,font:_,color:i.color,type:i.textToppe},$origin:e})})}u||l||(e.$rendered=undefined);if(f.length&&(0,o["default"])(n,f,1),d.clip){var $={$id:e.$id,type:"clipOver",props:i};$.$origin=e,n.$children.push($)}if(d.line){e.$rendered=!0;var x={$id:e.$id,type:"line",settings:d,props:i};x.$origin=e,n.$children.push(x)}if(d.rotate){var M={$id:e.$id,type:"rotateEnd",settings:d,props:i};M.$origin=e,n.$children.push(M)}};var r=i(n(0)),o=i(n(25));function i(e){return e&&e.__esModule?e:{"default":e}}var a=function(){var e=this;this.$canvas.$extendList.forEach(function(t){t.onPaint&&t.onPaint.call(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){t.filter(function(e){var t=o["default"].funcOrValue(e.style.zIndex,e);return n<0?t<0:t>=0}).sort(function(e,t){var n=o["default"].funcOrValue(e.style.zIndex,e),r=o["default"].funcOrValue(t.style.zIndex,t);return n===r?0:n>r?1:-1}).forEach(function(t,n){e.$perPaint.call(e,t,n)})};var r,o=(r=n(0))&&r.__esModule?r:{"default":r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){var r=this,a=t||r.$children;n||r.webgl||(a=a.filter(function(e){return"img"!==e.type||!1!==e.props.$insight}));a.forEach(function(t,n){var l,u=t.props;if(u&&"clip"!==t.type&&"rotateStart"!==t.type&&"rotateEnd"!==t.type&&"text"!==t.type&&"clipOver"!==t.type&&"line"!==t.type&&(l=u.width*u.height)>4e4&&!t.settings.transform&&!t.settings.rotate)for(var s=a.length,c=n+1;c<s;c++){var f=a[c];if(!f.$cannotCover)if("clip"!==f.type){var d=f.settings;if(f.type&&"img"===f.type||"fillRect"===f.type&&-1===d.fillRect.indexOf("rgba")){var h=f.props;if(h.width*h.height<4e4)f.$cannotCover=!0;else if(!(h.width*h.height<l))if(!f.img||f.img.$noAlpha){if(1!==d.globalAlpha||d.globalCompositeOperation||d.transform||d.rotate)f.$cannotCover=!0;else if(o["default"].pointInRect(u.left,u.top,h.left,h.left+h.width,h.top,h.top+h.height)&&o["default"].pointInRect(u.left+u.width,u.top+u.height,h.left,h.left+h.width,h.top,h.top+h.height))return void 0}else f.$cannotCover=!0}else f.$cannotCover=!0}else for(;c<s&&"clipOver"!==a[++c].type;);}var p=t.settings||{};if(!i.call(r,t,p)){0;var v=e||r.$paintContext;"rotateStart"===t.type&&(v.save(),v.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),v.rotate(p.rotate||0),v.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),"clip"===t.type&&(v.save(),v.beginPath(),v.moveTo(u.left,u.top),v.lineTo(u.left+u.width,u.top),v.lineTo(u.left+u.width,u.top+u.height),v.lineTo(u.left,u.top+u.height),v.lineTo(u.left,u.top),v.closePath(),v.clip());var y=!1;if(p.globalCompositeOperation&&(y||(v.save(),y=!0),v.globalCompositeOperation=p.globalCompositeOperation),v.$globalAlpha!==p.globalAlpha&&(v.$globalAlpha=v.globalAlpha=p.globalAlpha),p.translate&&(y||(v.save(),y=!0),v.translate(p.translate[0]||0,p.translate[1]||0)),p.scale&&(y||(v.save(),y=!0),v.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(y||(v.save(),y=!0),v.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===t.type)v.drawImage(t.img,u.cutLeft,u.cutTop,u.cutWidth,u.cutHeight,u.left,u.top,u.width,u.height);else if("text"===t.type&&u.content)v.font=u.font,v.fillStyle=u.color||"black",v.textAlign=u.align,v.textBaseline=u.baseline,v[u.type||"fillText"](u.content,u.left,u.top);else if("fillRect"===t.type)v.fillStyle=p.fillRect,v.fillRect(u.left,u.top,u.width,u.height);else if("line"===t.type){v.beginPath();var g=u.borderColor||"black";v.strokeStyle=g;var b=v.lineWidth=u.borderWidth||1;v.moveTo(u.left-b,u.top-b),v.lineTo(u.left+u.width+b,u.top-b),v.lineTo(u.left+u.width+b,u.top+u.height+b),v.lineTo(u.left-b,u.top+u.height+b),v.closePath(),v.stroke()}else"rotateEnd"===t.type?(v.$globalAlpha=!1,v.restore()):"clipOver"===t.type&&(v.$globalAlpha=!1,v.restore());y&&(v.$globalAlpha=!1,v.restore())}})};var r,o=(r=n(0))&&r.__esModule?r:{"default":r};var i=function(e,t){var n=this,r=!1;return this.$extendList.forEach(function(o){if(o.onRender){var i=o.onRender.call(n,e,t);i&&(r=i)}}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=o(n(0));o(n(1));function o(e){return e&&e.__esModule?e:{"default":e}}var i="undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),a=function(e){return e.sort(function(e,t){return r["default"].funcOrValue(r["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)<r["default"].funcOrValue(r["default"].firstValuable(t.events.eIndex,t.style.zIndex),t)?1:-1})},l=function(e,t){var n=e.getRect(!0);return r["default"].pointInRect(t.canvasX,t.canvasY,n.left,n.right,n.top,n.bottom)},u=function(e,t){var n=this;this.$extendList.forEach(function(r){r.onEvent&&r.onEvent.call(n,e,t)})},s=function d(e,t,n){n&&n.push(e),e.events[t.type]&&(r["default"].execFuncs(e.events[t.type],e,[t]),t.$stopPropagation)||(e.$parent?d(e.$parent,t,n):e.$canvas&&!t.$stopPropagation&&(d(e.$canvas,t),t.stopPropagation()))},c={x:0,y:0,timeStamp:0},f=function h(e,t){var n,o,f=1,d=1;if(!t){!e.layerX&&e.targetTouches&&e.targetTouches[0]?(n=e.targetTouches[0].pageX-e.currentTarget.offsetLeft,o=e.targetTouches[0].pageY-e.currentTarget.offsetTop):!e.layerX&&e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].pageX-e.currentTarget.offsetLeft,o=e.changedTouches[0].pageY-e.currentTarget.offsetTop):(n=e.layerX,o=e.layerY);if(this.$dom.getBoundingClientRect){var p=this.$dom.getBoundingClientRect();p.width,p.height,this.width,this.height,f=Math.floor(p.width)/this.width,d=Math.floor(p.height)/this.height}}var v=t||{type:e.type,canvasX:n/f,canvasY:o/d,event:e};if(i&&this.fastclick){if("click"===v.type&&!v.$fakeClick)return;"touchstart"===v.type?(c.x=v.canvasX,c.y=v.canvasY,c.timeStamp=Date.now()):"touchend"===v.type&&Math.abs(c.x-v.canvasX)<30&&Math.abs(c.y-v.canvasY)<30&&Date.now()-c.timeStamp<200&&h.call(this,null,{$fakeClick:!0,type:"click",canvasX:c.x,canvasY:c.y,event:e})}if(v.stopPropagation=function(){v.$stopPropagation=!0},v.preventDefault=function(){v.event.preventDefault()},!this.events.interceptor||(r["default"].execFuncs(this.events.interceptor,this,[v]),!e.$stopPropagation)){var y=[];if(function e(t,n,o){if(t&&t.length&&!n.$stopPropagation)for(var i=t.length,u=0;u<i;u++){var c=t[u];if(!1!==r["default"].funcOrValue(c.style.visible,c)&&(!c.events||"none"!==c.events.pointerEvents)){if(l(c,n)){var f=c.events.interceptor;if(f&&(r["default"].execFuncs(f,c,[n]),n.$stopPropagation))return}var d=c.$combine&&c.$combine.children?c.$combine.children:c.children;0;var h=c.$canvas.$lastPaintTime,p=Math.min(50,50*d.length/1e3);if(d.length){var v=c.$cache.aboveChildrenGenTime+p>h&&c.$cache.aboveChildrenInOrder||a(d.filter(function(e){return r["default"].funcOrValue(r["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)>=0}));c.$cache.aboveChildrenInOrder=v,c.$cache.aboveChildrenGenTime=h,e(v,n,o)}if(n.$stopPropagation)break;if(l(c,n))return s(c,n,o),void n.stopPropagation();if(d.length){var y=c.$cache.belowChildrenGenTime+p>h&&c.$cache.aboveChildrenInOrder||a(d.filter(function(e){return!(r["default"].funcOrValue(r["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)>=0)}));c.$cache.belowChildrenInOrder=y,c.$cache.belowChildrenGenTime=h,e(y,n,o)}}}}(a(this.children),v,y),u.call(this,v,y),("mousemove"===v.type||"touchmove"===v.type)&&this.eLastMouseHover&&-1===y.indexOf(this.eLastMouseHover)){var g=this.eLastMouseHover.events.mouseout||this.eLastMouseHover.events.touchout;g&&g.call(this.eLastMouseHover,v)}if(this.eLastMouseHover=y[0],!y.length&&this.eLastMouseHover){var b=this.eLastMouseHover.events.mouseout;b&&b.call(this.eLastMouseHover,v),this.eLastMouseHover=null}var m=this.events[v.type];m&&!v.$stopPropagation&&r["default"].execFuncs(m,this,[v])}};t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){0};r(n(0)),r(n(1));function r(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1};t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n;return(0,o["default"])(e,function(e){return(0,r["default"])(e,function(e){for(var r=e.width,o=e.height,i=e.getContext("2d").getImageData(0,0,r,o),a=i.data,l=a.length-1;l>=0;l-=4)if(t&&t.conversion){var u=t.conversion({r:a[l-3],g:a[l-2],b:a[l-1],a:a[l]},(l+1>>2)%r,Math.floor((l+1>>2)/r));a[l-3]=Math.max(Math.min(u.r,255),0),a[l-2]=Math.max(Math.min(u.g,255),0),a[l-1]=Math.max(Math.min(u.b,255),0),a[l-0]=Math.max(Math.min(u.a,255),0)}e.getContext("2d").clearRect(0,0,r,o),e.getContext("2d").putImageData(i,0,0),n=e},{canvas:!0,cacheFlag:Math.random()})}),function(){return n}};var r=i(n(3)),o=i(n(6));function i(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=o["default"].prototype.$extendList;if(t.indexOf(e)>=0)return;t.push(e)};var r,o=(r=n(2))&&r.__esModule?r:{"default":r}},function(e,t,n){"use strict";r(n(1)),r(n(0));function r(e){return e&&e.__esModule?e:{"default":e}}},,,,,,,,,,,,,function(e,t,n){e.exports=n(46)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,n(47);var o=((r=n(10))&&r.__esModule?r:{"default":r})["default"];t["default"]=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(n(1));var o=GameGlobal;GameGlobal.__isAdapterInjected||(GameGlobal.__isAdapterInjected=!0,function(){r.addEventListener=r.canvas.addEventListener=function(e,t){r.document.addEventListener(e,t)},r.removeEventListener=r.canvas.removeEventListener=function(e,t){r.document.removeEventListener(e,t)};var e=wx.getSystemInfoSync().platform;if("undefined"==typeof __devtoolssubcontext&&"devtools"===e){for(var t in r){var n=Object.getOwnPropertyDescriptor(o,t);n&&!0!==n.configurable||Object.defineProperty(window,t,{value:r[t]})}for(var i in r.document){var a=Object.getOwnPropertyDescriptor(o.document,i);a&&!0!==a.configurable||Object.defineProperty(o.document,i,{value:r.document[i]})}window.parent=window}else{for(var l in r)o[l]=r[l];o.window=r,window=o,window.top=window.parent=window}}())},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelAnimationFrame=t.requestAnimationFrame=t.clearInterval=t.clearTimeout=t.setInterval=t.setTimeout=t.canvas=t.location=t.localStorage=t.HTMLElement=t.FileReader=t.Audio=t.Image=t.WebSocket=t.XMLHttpRequest=t.navigator=t.document=undefined;var r=n(2);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(3);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=y(n(9)),a=y(n(10)),l=y(n(17)),u=y(n(18)),s=y(n(19)),c=y(n(11)),f=y(n(12)),d=y(n(20)),h=y(n(4)),p=y(n(21)),v=y(n(22));function y(e){return e&&e.__esModule?e:{"default":e}}t.document=a["default"],t.navigator=l["default"],t.XMLHttpRequest=u["default"],t.WebSocket=s["default"],t.Image=c["default"],t.Audio=f["default"],t.FileReader=d["default"],t.HTMLElement=h["default"],t.localStorage=p["default"],t.location=v["default"];var g=new i["default"];t.canvas=g,t.setTimeout=setTimeout,t.setInterval=setInterval,t.clearTimeout=clearTimeout,t.clearInterval=clearInterval,t.requestAnimationFrame=requestAnimationFrame,t.cancelAnimationFrame=cancelAnimationFrame},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=wx.getSystemInfoSync(),r=n.screenWidth,o=n.screenHeight,i=n.devicePixelRatio,a=t.innerWidth=r,l=t.innerHeight=o;t.devicePixelRatio=i;t.screen={availWidth:a,availHeight:l},t.performance={now:function(){return Date.now()/1e3}},t.ontouchstart=null,t.ontouchmove=null,t.ontouchend=null},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLCanvasElement=t.HTMLImageElement=undefined;var o,i=n(4),a=(o=i)&&o.__esModule?o:{"default":o};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.HTMLImageElement=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"img"))}return s(t,a["default"]),t}(),t.HTMLCanvasElement=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"canvas"))}return s(t,a["default"]),t}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),l=(o=a)&&o.__esModule?o:{"default":o},u=n(8),s=n(2);var c=function(e){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.className="",n.childern=[],n.style={width:s.innerWidth+"px",height:s.innerHeight+"px"},n.insertBefore=u.noop,n.innerHTML="",n.tagName=e.toUpperCase(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"]),i(t,[{key:"setAttribute",value:function(e,t){this[e]=t}},{key:"getAttribute",value:function(e){return this[e]}},{key:"getBoundingClientRect",value:function(){return{top:0,left:0,width:s.innerWidth,height:s.innerHeight}}},{key:"focus",value:function(){}},{key:"clientWidth",get:function(){var e=parseInt(this.style.fontSize,10)*this.innerHTML.length;return Number.isNaN(e)?0:e}},{key:"clientHeight",get:function(){var e=parseInt(this.style.fontSize,10);return Number.isNaN(e)?0:e}}]),t}();t["default"]=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(6),a=(o=i)&&o.__esModule?o:{"default":o};var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.className="",e.children=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),t}();t["default"]=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),l=(o=a)&&o.__esModule?o:{"default":o};var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.childNodes=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"]),i(t,[{key:"appendChild",value:function(e){if(!(e instanceof t))throw new TypeError("Failed to executed 'appendChild' on 'Node': parameter 1 is not of type 'Node'.");this.childNodes.push(e)}},{key:"cloneNode",value:function(){var e=Object.create(this);return Object.assign(e,this),e}},{key:"removeChild",value:function(e){var t=this.childNodes.findIndex(function(t){return t===e});return t>-1?this.childNodes.splice(t,1):null}}]),t}();t["default"]=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=new WeakMap,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,{})}return n(e,[{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},o=r.get(this);o||(o={},r.set(this,o)),o[e]||(o[e]=[]),o[e].push(t),n.capture&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),n.once&&console.warn("EventTarget.addEventListener: options.once is not implemented."),n.passive&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")}},{key:"removeEventListener",value:function(e,t){var n=r.get(this)[e];if(n&&n.length>0)for(var o=n.length;o--;o>0)if(n[o]===t){n.splice(o,1);break}}},{key:"dispatchEvent",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=r.get(this)[e.type];if(t)for(var n=0;n<t.length;n++)t[n](e)}}]),e}();t["default"]=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=wx.createCanvas();e.type="canvas",e.__proto__.__proto__=new r["default"]("canvas");e.getContext;return e.getBoundingClientRect=function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},e};n(3);var r=o(n(4));o(n(10));function o(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(n(1)),o=u(n(4)),i=u(n(11)),a=u(n(12)),l=u(n(9));function u(e){return e&&e.__esModule?e:{"default":e}}n(15);var s={},c={readyState:"complete",visibilityState:"visible",documentElement:r,hidden:!1,style:{},location:r.location,ontouchstart:null,ontouchmove:null,ontouchend:null,head:new o["default"]("head"),body:new o["default"]("body"),createElement:function(e){return"canvas"===e?new l["default"]:"audio"===e?new a["default"]:"img"===e?new i["default"]:new o["default"](e)},getElementById:function(e){return e===r.canvas.id?r.canvas:null},getElementsByTagName:function(e){return"head"===e?[c.head]:"body"===e?[c.body]:"canvas"===e?[r.canvas]:[]},querySelector:function(e){return"head"===e?c.head:"body"===e?c.body:"canvas"===e?r.canvas:e==="#"+r.canvas.id?r.canvas:null},querySelectorAll:function(e){return"head"===e?[c.head]:"body"===e?[c.body]:"canvas"===e?[r.canvas]:[]},addEventListener:function(e,t){s[e]||(s[e]=[]),s[e].push(t)},removeEventListener:function(e,t){var n=s[e];if(n&&n.length>0)for(var r=n.length;r--;r>0)if(n[r]===t){n.splice(r,1);break}},dispatchEvent:function(e){var t=s[e.type];if(t)for(var n=0;n<t.length;n++)t[n](e)}};t["default"]=c},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return wx.createImage()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(13),l=(o=a)&&o.__esModule?o:{"default":o};var u=0,s=1,c=2,f=3,d=4,h=new WeakMap,p=new WeakMap,v=(new WeakMap,new WeakMap,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.HAVE_NOTHING=u,n.HAVE_METADATA=s,n.HAVE_CURRENT_DATA=c,n.HAVE_FUTURE_DATA=f,n.HAVE_ENOUGH_DATA=d,n.readyState=u,p.set(n,"");var o=wx.createInnerAudioContext();return h.set(n,o),o.onCanplay(function(){n.dispatchEvent({type:"load"}),n.dispatchEvent({type:"loadend"}),n.dispatchEvent({type:"canplay"}),n.dispatchEvent({type:"canplaythrough"}),n.dispatchEvent({type:"loadedmetadata"}),n.readyState=c}),o.onPlay(function(){n.dispatchEvent({type:"play"})}),o.onPause(function(){n.dispatchEvent({type:"pause"})}),o.onEnded(function(){n.dispatchEvent({type:"ended"}),n.readyState=d}),o.onError(function(){n.dispatchEvent({type:"error"})}),e&&(h.get(n).src=e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"]),i(t,[{key:"load",value:function(){console.warn("HTMLAudioElement.load() is not implemented.")}},{key:"play",value:function(){h.get(this).play()}},{key:"pause",value:function(){h.get(this).pause()}},{key:"canPlayType",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return"string"!=typeof e?"":e.indexOf("audio/mpeg")>-1||e.indexOf("audio/mp4")?"probably":""}},{key:"cloneNode",value:function(){var e=new t;return e.loop=h.get(this).loop,e.autoplay=h.get(this).loop,e.src=this.src,e}},{key:"currentTime",get:function(){return h.get(this).currentTime},set:function(e){h.get(this).seek(e)}},{key:"src",get:function(){return p.get(this)},set:function(e){p.set(this,e),h.get(this).src=e}},{key:"loop",get:function(){return h.get(this).loop},set:function(e){h.get(this).loop=e}},{key:"autoplay",get:function(){return h.get(this).autoplay},set:function(e){h.get(this).autoplay=e}},{key:"paused",get:function(){return h.get(this).paused}}]),t}());t["default"]=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(14),a=(o=i)&&o.__esModule?o:{"default":o};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"audio"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"]),t}();t["default"]=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),l=(o=a)&&o.__esModule?o:{"default":o};var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"]),i(t,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),t}();t["default"]=u},function(e,t,n){n(16)},function(e,t,n){var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}(n(1)),i=n(10),a=(r=i)&&r.__esModule?r:{"default":r},l=n(8);var u=function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.target=o.canvas,this.currentTarget=o.canvas,this.touches=[],this.targetTouches=[],this.changedTouches=[],this.preventDefault=l.noop,this.stopPropagation=l.noop,this.type=e},s=0,c=0;function f(e){return function(t){var n=new u(e);n.touches=t.touches,t.touches[0]&&(s=t.touches[0].clientX,c=t.touches[0].clientY),n.layerX=s,n.layerY=c,n.targetTouches=Array.prototype.slice.call(t.touches),n.changedTouches=t.changedTouches,n.timeStamp=t.timeStamp,a["default"].dispatchEvent(n)}}wx.onTouchStart(f("touchstart")),wx.onTouchMove(f("touchmove")),wx.onTouchEnd(f("touchend")),wx.onTouchCancel(f("touchcancel"))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o={platform:wx.getSystemInfoSync().platform,language:"zh-cn",appVersion:"5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN",onLine:!0,geolocation:{getCurrentPosition:r.noop,watchPosition:r.noop,clearWatch:r.noop}};t["default"]=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakMap;function u(e){if("function"==typeof this["on"+e]){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this["on"+e].apply(this,n)}}function s(e){this.readyState=e,u.call(this,"readystatechange")}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onabort=null,this.onerror=null,this.onload=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.onloadend=null,this.onreadystatechange=null,this.readyState=0,this.response=null,this.responseText=null,this.responseType="",this.responseXML=null,this.status=0,this.statusText="",this.upload={},this.withCredentials=!1,i.set(this,{"content-type":"application/x-www-form-urlencoded"}),a.set(this,{})}return n(e,[{key:"abort",value:function(){var e=l.get(this);e&&e.abort()}},{key:"getAllResponseHeaders",value:function(){var e=a.get(this);return Object.keys(e).map(function(t){return t+": "+e[t]}).join("\n")}},{key:"getResponseHeader",value:function(e){return a.get(this)[e]}},{key:"open",value:function(t,n){o.set(this,t),r.set(this,n),s.call(this,e.OPENED)}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(this.readyState!==e.OPENED)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");wx.request({data:n,url:r.get(this),method:o.get(this),header:i.get(this),responseType:this.responseType,success:function(n){var r=n.data,o=n.statusCode,i=n.header;if("string"!=typeof r&&!(r instanceof ArrayBuffer))try{r=JSON.stringify(r)}catch(d){r=r}if(t.status=o,a.set(t,i),u.call(t,"loadstart"),s.call(t,e.HEADERS_RECEIVED),s.call(t,e.LOADING),t.response=r,r instanceof ArrayBuffer){t.responseText="";for(var l=new Uint8Array(r),c=l.byteLength,f=0;f<c;f++)t.responseText+=String.fromCharCode(l[f])}else t.responseText=r;s.call(t,e.DONE),u.call(t,"load"),u.call(t,"loadend")},fail:function(e){var n=e.errMsg;-1!==n.indexOf("abort")?u.call(t,"abort"):u.call(t,"error",n),u.call(t,"loadend")}})}},{key:"setRequestHeader",value:function(e,t){var n=i.get(this);n[e]=t,i.set(this,n)}}]),e}();c.UNSEND=0,c.OPENED=1,c.HEADERS_RECEIVED=2,c.LOADING=3,c.DONE=4,t["default"]=c},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=new WeakMap,o=function(){function e(t){var n=this,o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.binaryType="",this.bufferedAmount=0,this.extensions="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.protocol="",this.readyState=3,"string"!=typeof t||!/(^ws:\/\/)|(^wss:\/\/)/.test(t))throw new TypeError("Failed to construct 'WebSocket': The URL '"+t+"' is invalid");this.url=t,this.readyState=e.CONNECTING;var i=wx.connectSocket({url:t,protocols:Array.isArray(o)?o:[o]});return r.set(this,i),i.onClose(function(t){n.readyState=e.CLOSED,"function"==typeof n.onclose&&n.onclose(t)}),i.onMessage(function(e){"function"==typeof n.onmessage&&n.onmessage(e)}),i.onOpen(function(){n.readyState=e.OPEN,"function"==typeof n.onopen&&n.onopen()}),i.onError(function(e){"function"==typeof n.onerror&&n.onerror(new Error(e.errMsg))}),this}return n(e,[{key:"close",value:function(t,n){this.readyState=e.CLOSING,r.get(this).close({code:t,reason:n})}},{key:"send",value:function(e){if("string"!=typeof e&&!(e instanceof ArrayBuffer))throw new TypeError("Failed to send message: The data "+e+" is invalid");r.get(this).send({data:e})}}]),e}();o.CONNECTING=0,o.OPEN=1,o.CLOSING=2,o.CLOSED=3,t["default"]=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t["default"]=function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={get length(){return wx.getStorageInfoSync().keys.length},key:function(e){return wx.getStorageInfoSync().keys[e]},getItem:function(e){return wx.getStorageSync(e)},setItem:function(e,t){return wx.setStorageSync(e,t)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}};t["default"]=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t["default"]={href:"game.js",reload:function(){}}}])}]));