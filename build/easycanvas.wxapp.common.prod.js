!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=43)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){return"function"==typeof e?e.call(t,t):e},execFuncs:function(e,t,n){e&&(i.isArray(n)||(n=[n])),"function"==typeof e?e.apply(t,n):i.isArray(e)&&e.length&&e.forEach(function(e){e&&e.apply(t,n)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,n,i,r,a){return!(e<n||e>i||t<r||t>a)},firstValuable:function(e,t,n){return void 0===e?void 0===t?n:t:e}},r=i;t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=["cutLeft","cutTop","cutWidth","cutHeight"],r=["left","top","width","height"],a=i.concat(r),o=a.concat(["locate","rotateOriginLeft","rotateOriginTop","zIndex","fontSize","fontFamily","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","borderWidth","borderColor","overflow","overflowX","overflowY"]),l={txywh:r,sxywh:i,xywh:a,styles:o,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.8.5"};t["default"]=l},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(1);var a=function(e){e.children&&e.children.forEach(function(t,n){t.$id||(e.children[n]=new s(t)),e.$id&&!e.$dom?(e.children[n].$canvas=e.$canvas,e.children[n].$parent=e):e.children[n].$canvas=e,a(e.children[n])})},o=function(e,t){var n=e||{};return n.$id||(n.$id=Math.random().toString(36).substr(2)),n.$tickedTimes=n.$tickedTimes||0,n.content=n.content||{},n.style=n.style||{},n.style.scale=i["default"].firstValuable(n.style.scale,1),n.style.opacity=i["default"].firstValuable(n.style.opacity,1),n.style.borderWidth=i["default"].firstValuable(n.style.borderWidth,0),n.style.zIndex=n.style.zIndex||0,n.style.locate=n.style.locate||"center",t.$cache={},t.$render={},t.$style={},t.$self={},t.$selfChanged=!1,t.$needUpdate={},n.hooks=n.hooks||{},r["default"].styles.concat(["visible"]).forEach(function(e){t.$cache[e]=undefined,t.$style[e]=n.style[e],"function"==typeof n.style[e]&&(t.$style[e]=n.style[e].bind(t)),r["default"].xywh.indexOf(e)>-1?t.$style[e]=t.$style[e]||("width"===e||"height"===e?undefined:0):["opacity","scale"].indexOf(e)>-1&&(t.$style[e]=i["default"].firstValuable(t.$style[e],1)),t.$needUpdate[e]=1,Object.defineProperty(n.style,e,{get:function(){return t.$style[e]},set:function(n){t.$style[e]!==n&&(t.$style[e]=n,t.$needUpdate[e]=1)}})}),n.events=n.events||{},n.children=n.children||[],n.children=function o(e,t){return void 0===t&&(t=1),t?Array.prototype.reduce.call(e,function(e,n){return Array.isArray(n)?e.push.apply(e,o(n,t-1)):e.push(n),e},[]):Array.prototype.slice.call(e)}(n.children,Infinity),a(n),n.$styleCacheTime={},n},l=function(e){var t=this;this.$extendList.forEach(function(n){n.call(t,e)})},s=function(){function e(e){this.$cache={},this.content={},this.style={},this.events={},this.hooks={},this.$parent=null,this.$canvas=null,this.$style=null,this.$extendList=[],this.$combine={},this.children=[];var t=o(e,this);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this[n]=t[n]);return e.ref&&e.ref(this),l.call(this,t),this}return e.prototype.add=function(e){if(e)return this.children.push(e),a(this),this.children[this.children.length-1]},e.prototype.getImage=function(){var e=i["default"].funcOrValue(this.content.img,this);return"string"==typeof e&&this.$canvas?this.$canvas.imgLoader(e):e},e.prototype.getRect=function(e){var t=this,n={};r["default"].txywh.forEach(function(i){n[i]=t.getStyle(i,e)||0});var i=this.getStyle("locate");return"lt"===i||("ld"===i?n.top-=n.height:"rt"===i?n.left-=n.width:"rd"===i?(n.left-=n.width,n.top-=n.height):(n.left-=n.width>>1,n.top-=n.height>>1)),n.right=n.left+n.width,n.bottom=n.top+n.height,n},e.prototype.getSelfStyle=function(e){if(e)return i["default"].funcOrValue(this.style[e],this);var t={};for(var n in this.style)t[n]=i["default"].funcOrValue(this.style[n],this);return t},e.prototype.getStyle=function(e,t){if(t&&this.$cache[e]!==undefined)return this.$cache[e];var n=i["default"].funcOrValue(this.$style[e],this);if(this.$parent){var r=this.$parent.getStyle(e);if("left"===e||"top"===e)return(r=i["default"].firstValuable(r,0))+i["default"].firstValuable(n,0);if("scale"===e||"opacity"===e)return(r=i["default"].firstValuable(r,1))*i["default"].firstValuable(n,1);if("visible"===e)return!1!==r&&n;if("width"===e||"height"===e||void 0===n)return n=this.$cache[e]}return n},e.prototype.remove=function(e){if(e)return this.$canvas.remove(e),void i["default"].execFuncs(e.hooks.removed,e);this.$parent?this.$parent.remove(this):this.$canvas.remove(this),i["default"].execFuncs(this.hooks.removed,this)},e.prototype.update=function(e){if(e){for(var t in e)if("object"==typeof e[t])for(var n in e[t])this[t]||(this[t]={}),this[t][n]=e[t][n];else this[t]=e[t];return this.$canvas&&this.recalculate(!0),this}},e.prototype.getAllChildren=function(e){var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllChildren(!0))}),t},e.prototype.getAllVisibleChildren=function(e){if(!1===i["default"].funcOrValue(this.style.visible,this))return[];var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllVisibleChildren(!0))}),t},e.prototype.combineAsync=function(){return this.$combine?this:(this.off("ticked",this.combine),this.on("ticked",this.combine,100),this)},e}();t["default"]=s},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r={},a=[],o="undefined"!=typeof window&&Image,l=0,s=function c(e,t,n){var s=n||{},u=c.cacheCanvas;if("object"===i(e)){var f=e;return s.callbackArgs=s.callbackArgs||[],void c(f.shift(),function(e){s.callbackArgs.push(e),f.length>1?c(f,t,s):c(f[0],function(e){s.callbackArgs.push(e),t(s.callbackArgs)},s)},n)}var d=e+"_"+JSON.stringify(n)+"_"+u;if(r[d])return t?void(r[d].width&&t?t(r[d]):setTimeout(function(){c(e,t,n)},100)):r[d];var h,p=new o;return p._complete=!1,s.block?(p.src=e,l++):0===l?p.src=e:a.push({imgObj:p,src:e}),r[d]=p,(s.canvas||s.alphaColor||u)&&((h=document.createElement("canvas")).width=h.height||0,r[d]=h),p.onload=function(e){if(p._complete=!0,"jpg"===p.src.substr(-3)||"jpeg"===p.src.substr(-3)||"bmp"===p.src.substr(-3)?p.$noAlpha=!0:0===p.src.indexOf("data:image/jpg;")&&(p.$noAlpha=!0),s.block&&0===--l&&(a.forEach(function(e){e.imgObj.src=e.src}),a.splice(0)),h&&(s.canvas||s.alphaColor||u)){var n=h.getContext("2d");if(h.width=p.width,h.height=p.height,h.$noAlpha=p.$noAlpha,n.drawImage(p,0,0),s.alphaColor){for(var i=n.getImageData(0,0,p.width,p.height),r=0;r<i.data.length;r+=4){var o=i.data[r]+i.data[r+1]+i.data[r+2];i.data[r]<1&&i.data[r+1]<1&&i.data[r+2]<1&&(i.data[r+3]=Math.floor(o/255))}n.putImageData(i,0,0),h.$noAlpha=!1}p=h}t&&t(p)},p.onerror=function(){r[d]=p},h||p};s.cacheCanvas=!1;var u=s;t["default"]=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(e){setTimeout(e,1e3/60)},r="undefined"!=typeof requestAnimationFrame&&(requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||i;t["default"]=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=n(0),r=Math.PI,a=function(e){return e.$lastPaintTime||Date.now()},o={linear:function(e,t,n){var i,r=a(this),o=!1,l=function(){var a=(this.$lastPaintTime-r)/n,s=(t-e)*a+e;if(o)if(t>e)for(;s>t;)s-=t-e;else for(;s<t;)s+=e-t;else t>e&&s>t?(l.$done=!0,s=t):t<e&&s<t&&(l.$done=!0,s=t);return a>=1&&i&&(i.call(this,s),i=null),s}.bind(this);return l.loop=function(){return o=!0,l},l.restart=function(){return r=a(this),l},l.then=function(e){return i=e,l},l},pendulum:function(e,t,n,i){var o=a(this),l=i||{};l.start=l.start||0;var s,u=!1,c=l.cycle||1,f=function(){var i=(a(this)-o)/n;u?c&&(i%=c):c?i>c&&(i=c,f.$done=!0,i=c):i>1&&(f.$done=!0,i=1);var d=i*r*2-r/2+l.start/360*r,h=(t-e)*(Math.sin(d)+1)/2+e;return i>=c&&s&&(s.call(this,h),s=null),h}.bind(this);return f.loop=function(){return u=!0,f},f.restart=function(){return o=a(this),f},f.then=function(e){return s=e,f},f},ease:function(e,t,n){return this.pendulum(e,t,2*n,{cycle:.5})},oneByOne:function(e){var t=e,n=!1,i=function(){for(var e=0;e<t.length;e++){if(!t[e].$done)return t[e]();if(!t[e].$nextRestart&&(t[e].$nextRestart=!0,t[e+1]))return t[e+1].restart(),t[e+1]()}if(n){for(var i=0;i<t.length;i++)t[i].$done=!1,t[i].$nextRestart=!1,t[i].restart();return t[0]()}return t[t.length-1]()};return i.loop=function(){return n=!0,i},i}},l=function c(e,t,n,r,a){var l=(0,i.funcOrValue)(e[t]);l=l||0,e[t]=o[n].bind(c)(l,r,a)};for(var s in o)l[s]=o[s];var u=l;t["default"]=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i="processing",r={};var a=function o(e,t){if(e&&e.match(/^data:/))t&&t(e);else if(r[e])r[e]!==i?t(r[e]):setTimeout(function(){o(e,t)},100);else{r[e]=i;var n=new XMLHttpRequest;n.onload=function(){var i=new FileReader;i.onloadend=function(){r[e]=i.result,t&&t(i.result)},i.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()}};t["default"]=a},,,,function(e,t,n){"use strict";t.__esModule=!0;n(1);var i=n(11);t.Painter=i["default"];var r=n(4);t.tick=r["default"];var a=n(0);t.utils=a["default"];var o=n(5);t.Transition=o["default"];var l=n(3);t.ImgLoader=l["default"];var s=n(30);t.ImgPretreat=s["default"];var u=n(2),c=n(31);t.extend=c["default"],n(32);var f=u["default"];t.Sprite=f;var d={Painter:i["default"],ImgLoader:l["default"],ImgPretreat:s["default"],Transition:o["default"],tick:r["default"],use:function(e){var t=d.Painter.prototype.$extendList;t.indexOf(e)>=0||(e.onUse&&e.onUse(d),t.push(e))},utils:a["default"],extend:c["default"],"class":{sprite:u["default"]},sprite:u["default"],Sprite:f,createElement:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=t||{};return r.children=n||[],new e(r,d)}};"undefined"!=typeof window&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):window.Easycanvas=d),t["default"]=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=l(n(12)),r=l(n(23)),a=l(n(29)),o=l(n(3));function l(e){return e&&e.__esModule?e:{"default":e}}var s=function(e){for(var t in this.imgLoader=o["default"],a["default"])this[t]=this[t]||JSON.parse(JSON.stringify(a["default"][t]));e&&(e.el||(e={el:e}),e.el&&this.register("string"==typeof e.el?document.querySelector(e.el):e.el,e))};for(var u in s.prototype.$extendList=[],r["default"])Object.prototype.hasOwnProperty.call(r["default"],u)&&(s.prototype[u]=r["default"][u]);for(var c in i["default"])Object.prototype.hasOwnProperty.call(i["default"],c)&&(s.prototype[c]=i["default"][c]);var f=s;t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,r=p(n(13)),a=p(n(14)),o=p(n(15)),l=p(n(16)),s=p(n(17)),u=p(n(18)),c=p(n(19)),f=p(n(20)),d=p(n(21)),h=(p(n(22)),p(n(2)));function p(e){return e&&e.__esModule?e:{"default":e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(v(i={start:a["default"],paint:o["default"],add:h["default"].prototype.add,remove:r["default"],register:c["default"],clear:l["default"],setFpsHandler:f["default"],setMaxFps:d["default"],pause:s["default"],on:h["default"].prototype.on,off:h["default"].prototype.off,addEventListener:h["default"].prototype.addEventListener,removeEventListener:h["default"].prototype.removeEventListener},"off",h["default"].prototype.off),v(i,"trigger",h["default"].prototype.trigger),v(i,"broadcast",h["default"].prototype.broadcast),v(i,"nextTick",u["default"]),v(i,"getAllChildren",h["default"].prototype.getAllChildren),i);t["default"]=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){r["default"].execFuncs(e.hooks.beforeRemove,e,e.$tickedTimes++),e.style.visible=!1,e.$removing=!0,e.$parent?e.$parent.children.splice(e.$parent.children.indexOf(e),1):this.children.splice(this.children.indexOf(e),1);e.$canvas&&(r["default"].execFuncs(e.hooks.removed,e,e.$tickedTimes),e.$canvas=undefined,e.$parent=undefined,e.$tickedTimes=undefined,e.$cache={},e.$rendered=!1)};var i,r=(i=n(0))&&i.__esModule?i:{"default":i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return this.fpsCalculateTime=Date.now(),o.call(this),this};var i=a(n(4)),r=a(n(5));function a(e){return e&&e.__esModule?e:{"default":e}}var o=function(){var e=Date.now();r["default"].$lastPaintTime=this.$nextTickTime=e,e-this.fpsCalculateTime>=1e3&&(this.fpsCalculateTime=e,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,i["default"])(l.bind(this))},l=function(e){if(this.$rafTime=e,o.call(this),this.maxFps>0&&this.maxFps<60){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){if(this.$pausing||this.$inBrowser&&document.hidden)return;var e=this;0;r["default"].execFuncs(e.hooks.beforeTick,e,[e.$rafTime]),!1;e.children.forEach(function(e){e.recalculate()}),e.$freezing||(e.$lastTickChildren=e.$children,e.$children=[],this.children.sort(function(e,t){var n=r["default"].funcOrValue(e.style.zIndex,e),i=r["default"].funcOrValue(t.style.zIndex,t);return n===i?0:n>i?1:-1}).forEach(function(t,n){e.$perPaint(t,n)}));0;0;e.$paintContext.clearRect?(e.$paintContext.clearRect(0,0,this.width,this.height),e.$render()):e.$render();0;r["default"].execFuncs(e.hooks.ticked,e,[e.$rafTime]),e.hooks.nextTick&&(r["default"].execFuncs(e.hooks.nextTick,e,[e.$rafTime]),delete e.hooks.nextTick);0};var i,r=(i=n(0))&&i.__esModule?i:{"default":i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){this.children.forEach(function(e){e.remove()}),this.children=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.$pausing=e===undefined||e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.on("ticked",function t(){e.apply(this,arguments),this.off("ticked",t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=this;0;var r=t||{};e=this.$dom=e||this.$dom,!1;for(var a in r)this[a]=r[a];this.name=r.name||e.id||e.classList&&e.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,r.fullScreen&&"undefined"!=typeof document&&(e.width=e.style.width=document.body.clientWidth||document.documentElement.clientWidth,e.height=e.style.height=document.body.clientHeight||document.documentElement.clientHeight,r.dpr&&(e.width*=r.dpr,e.height*=r.dpr));0;e.width=this.width=this.width||r.width||e.width,e.height=this.height=this.height||r.height||e.height,!1;if(this.events=r.events||{},this.hooks=r.hooks||{},this.$inBrowser){["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"].forEach(function(t){e.addEventListener(t,n.$eventHandler.bind(n))})}0;return i.call(this,r),this.$paintContext=this.$paintContext||e.getContext("2d"),this};var i=function(e){var t=this;this.$extendList.forEach(function(n){n.onCreate&&n.onCreate.call(t,e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.fpsHandler=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){this.maxFps=e||-1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=o(n(24)),r=o(n(26)),a=o(n(27));o(n(28));function o(e){return e&&e.__esModule?e:{"default":e}}var l={$render:r["default"],$eventHandler:a["default"],$perPaint:i["default"]};t["default"]=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(e.$rendered=!1,!1===e.$cache.visible)return;var n=this;o.call(e);var a=e.$render,l=a.text,s=a.img,u=a.childrenInside;if(!(a.settings&&(s||l||a.settings.rotate||a.backgroundColor||a.borderWidth||u))){e.$rendered=undefined;var c=e.children;return void(c.length&&((0,r["default"])(n,c,-1),(0,r["default"])(n,c,1)))}var f=e.children,d=a.settings;if(d.rotate){var h={$id:e.$id,type:"rotateStart",settings:d,props:a};h.$origin=e,n.$children.push(h)}if(d.clip){var p={$id:e.$id,type:"clip",props:a};p.$origin=e,n.$children.push(p)}if(f.length&&(0,r["default"])(n,f,-1),d.fillRect){e.$rendered=!0;var v={$id:e.$id,type:"fillRect",settings:d,props:a};v.$origin=e,n.$children.push(v)}if(a._imgWidth&&0!==a.opacity&&a.cutWidth&&a.cutHeight){e.$rendered=!0;var g={$id:e.$id,type:"img",settings:d,img:s,props:a};g.$origin=e,n.$children.push(g)}if(l){a.fontSize=e.$cache.fontSize,a.fontFamily=e.$cache.fontFamily,a.color=e.$cache.color,a.textAlign=e.$cache.textAlign,a.textVerticalAlign=e.$cache.textVerticalAlign,e.$rendered=!0;var y=a.left,$=a.top,m=a.align||a.textAlign||"left",b=(a.fontSize||14)+"px "+(a.fontFamily||"serif"),x=parseInt(b),_="top";"center"===m?y+=a.width/2:"right"===m&&(y+=a.width),"top"===a.textVerticalAlign?_="top":"bottom"===a.textVerticalAlign?(_="bottom",$+=a.height):"middle"===a.textVerticalAlign&&($+=a.height>>1,_="middle"),"string"==typeof l||"number"==typeof l?n.$children.push({$id:e.$id,type:"text",settings:d,props:{left:y,top:$,content:String(l),fontsize:x,align:m,baseline:_,font:b,color:a.color,type:a.textToppe},$origin:e}):l.length&&l.forEach(function(t){n.$children.push({$id:e.$id,type:"text",settings:d,props:{left:y+i["default"].funcOrValue(t.left,e),top:$+i["default"].funcOrValue(t.top,e),content:i["default"].funcOrValue(t.content,e),fontsize:x,baseline:_,align:m,font:b,color:a.color,type:a.textToppe},$origin:e})})}s||l||(e.$rendered=undefined);if(f.length&&(0,r["default"])(n,f,1),d.clip){var w={$id:e.$id,type:"clipOver",props:a};w.$origin=e,n.$children.push(w)}if(d.line){e.$rendered=!0;var O={$id:e.$id,type:"line",settings:d,props:a};O.$origin=e,n.$children.push(O)}if(d.rotate){var M={$id:e.$id,type:"rotateEnd",settings:d,props:a};M.$origin=e,n.$children.push(M)}};var i=a(n(0)),r=a(n(25));function a(e){return e&&e.__esModule?e:{"default":e}}var o=function(){var e=this;this.$canvas.$extendList.forEach(function(t){t.onPaint&&t.onPaint.call(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){t.filter(function(e){var t=r["default"].funcOrValue(e.style.zIndex,e);return n<0?t<0:t>=0}).sort(function(e,t){var n=r["default"].funcOrValue(e.style.zIndex,e),i=r["default"].funcOrValue(t.style.zIndex,t);return n===i?0:n>i?1:-1}).forEach(function(t,n){e.$perPaint.call(e,t,n)})};var i,r=(i=n(0))&&i.__esModule?i:{"default":i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){var i=this,o=t||i.$children;n||i.webgl||(o=o.filter(function(e){return"img"!==e.type||!1!==e.props.$insight}));o.forEach(function(t,n){var l,s=t.props;if(s&&"clip"!==t.type&&"rotateStart"!==t.type&&"rotateEnd"!==t.type&&"text"!==t.type&&"clipOver"!==t.type&&"line"!==t.type&&(l=s.width*s.height)>4e4&&!t.settings.transform&&!t.settings.rotate)for(var u=o.length,c=n+1;c<u;c++){var f=o[c];if(!f.$cannotCover)if("clip"!==f.type){var d=f.settings;if(f.type&&"img"===f.type||"fillRect"===f.type&&-1===d.fillRect.indexOf("rgba")){var h=f.props;if(h.width*h.height<4e4)f.$cannotCover=!0;else if(!(h.width*h.height<l))if(!f.img||f.img.$noAlpha){if(1!==d.globalAlpha||d.globalCompositeOperation||d.transform||d.rotate)f.$cannotCover=!0;else if(r["default"].pointInRect(s.left,s.top,h.left,h.left+h.width,h.top,h.top+h.height)&&r["default"].pointInRect(s.left+s.width,s.top+s.height,h.left,h.left+h.width,h.top,h.top+h.height))return void 0}else f.$cannotCover=!0}else f.$cannotCover=!0}else for(;c<u&&"clipOver"!==o[++c].type;);}var p=t.settings||{};if(!a.call(i,t,p)){0;var v=e||i.$paintContext;"rotateStart"===t.type&&(v.save(),v.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),v.rotate(p.rotate||0),v.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),"clip"===t.type&&(v.save(),v.beginPath(),v.moveTo(s.left,s.top),v.lineTo(s.left+s.width,s.top),v.lineTo(s.left+s.width,s.top+s.height),v.lineTo(s.left,s.top+s.height),v.lineTo(s.left,s.top),v.closePath(),v.clip());var g=!1;if(p.globalCompositeOperation&&(g||(v.save(),g=!0),v.globalCompositeOperation=p.globalCompositeOperation),v.$globalAlpha!==p.globalAlpha&&(v.$globalAlpha=v.globalAlpha=p.globalAlpha),p.translate&&(g||(v.save(),g=!0),v.translate(p.translate[0]||0,p.translate[1]||0)),p.scale&&(g||(v.save(),g=!0),v.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(g||(v.save(),g=!0),v.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===t.type)v.drawImage(t.img,s.cutLeft,s.cutTop,s.cutWidth,s.cutHeight,s.left,s.top,s.width,s.height);else if("text"===t.type&&s.content)v.font=s.font,v.fillStyle=s.color||"black",v.textAlign=s.align,v.textBaseline=s.baseline,v[s.type||"fillText"](s.content,s.left,s.top);else if("fillRect"===t.type)v.fillStyle=p.fillRect,v.fillRect(s.left,s.top,s.width,s.height);else if("line"===t.type){v.beginPath();var y=s.borderColor||"black";v.strokeStyle=y;var $=v.lineWidth=s.borderWidth||1;v.moveTo(s.left-$,s.top-$),v.lineTo(s.left+s.width+$,s.top-$),v.lineTo(s.left+s.width+$,s.top+s.height+$),v.lineTo(s.left-$,s.top+s.height+$),v.closePath(),v.stroke()}else"rotateEnd"===t.type?(v.$globalAlpha=!1,v.restore()):"clipOver"===t.type&&(v.$globalAlpha=!1,v.restore());g&&(v.$globalAlpha=!1,v.restore())}})};var i,r=(i=n(0))&&i.__esModule?i:{"default":i};var a=function(e,t){var n=this,i=!1;return this.$extendList.forEach(function(r){if(r.onRender){var a=r.onRender.call(n,e,t);a&&(i=a)}}),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(n(0));r(n(1));function r(e){return e&&e.__esModule?e:{"default":e}}var a="undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=function(e){return e.sort(function(e,t){return i["default"].funcOrValue(i["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)<i["default"].funcOrValue(i["default"].firstValuable(t.events.eIndex,t.style.zIndex),t)?1:-1})},l=function(e,t){var n=e.getRect(!0);return i["default"].pointInRect(t.canvasX,t.canvasY,n.left,n.right,n.top,n.bottom)},s=function(e,t){var n=this;this.$extendList.forEach(function(i){i.onEvent&&i.onEvent.call(n,e,t)})},u=function d(e,t,n){n&&n.push(e),e.events[t.type]&&(i["default"].execFuncs(e.events[t.type],e,[t]),t.$stopPropagation)||(e.$parent?d(e.$parent,t,n):e.$canvas&&!t.$stopPropagation&&(d(e.$canvas,t),t.stopPropagation()))},c={x:0,y:0,timeStamp:0},f=function h(e,t){var n,r,f=1,d=1;if(!t){!e.layerX&&e.targetTouches&&e.targetTouches[0]?(n=e.targetTouches[0].pageX-e.currentTarget.offsetLeft,r=e.targetTouches[0].pageY-e.currentTarget.offsetTop):!e.layerX&&e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].pageX-e.currentTarget.offsetLeft,r=e.changedTouches[0].pageY-e.currentTarget.offsetTop):(n=e.layerX,r=e.layerY);if(this.$dom.getBoundingClientRect){var p=this.$dom.getBoundingClientRect();p.width,p.height,this.width,this.height,f=Math.floor(p.width)/this.width,d=Math.floor(p.height)/this.height}}var v=t||{type:e.type,canvasX:n/f,canvasY:r/d,event:e};if(a&&this.fastclick){if("click"===v.type&&!v.$fakeClick)return;"touchstart"===v.type?(c.x=v.canvasX,c.y=v.canvasY,c.timeStamp=Date.now()):"touchend"===v.type&&Math.abs(c.x-v.canvasX)<30&&Math.abs(c.y-v.canvasY)<30&&Date.now()-c.timeStamp<200&&h.call(this,null,{$fakeClick:!0,type:"click",canvasX:c.x,canvasY:c.y,event:e})}if(v.stopPropagation=function(){v.$stopPropagation=!0},v.preventDefault=function(){v.event.preventDefault()},!this.events.interceptor||(i["default"].execFuncs(this.events.interceptor,this,[v]),!e.$stopPropagation)){var g=[];if(function e(t,n,r){if(t&&t.length&&!n.$stopPropagation)for(var a=t.length,s=0;s<a;s++){var c=t[s];if(!1!==i["default"].funcOrValue(c.style.visible,c)&&(!c.events||"none"!==c.events.pointerEvents)){if(l(c,n)){var f=c.events.interceptor;if(f&&(i["default"].execFuncs(f,c,[n]),n.$stopPropagation))return}var d=c.$combine&&c.$combine.children?c.$combine.children:c.children;0;var h=c.$canvas.$lastPaintTime,p=Math.min(50,50*d.length/1e3);if(d.length){var v=c.$cache.aboveChildrenGenTime+p>h&&c.$cache.aboveChildrenInOrder||o(d.filter(function(e){return i["default"].funcOrValue(i["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)>=0}));c.$cache.aboveChildrenInOrder=v,c.$cache.aboveChildrenGenTime=h,e(v,n,r)}if(n.$stopPropagation)break;if(l(c,n))return u(c,n,r),void n.stopPropagation();if(d.length){var g=c.$cache.belowChildrenGenTime+p>h&&c.$cache.aboveChildrenInOrder||o(d.filter(function(e){return!(i["default"].funcOrValue(i["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)>=0)}));c.$cache.belowChildrenInOrder=g,c.$cache.belowChildrenGenTime=h,e(g,n,r)}}}}(o(this.children),v,g),s.call(this,v,g),("mousemove"===v.type||"touchmove"===v.type)&&this.eLastMouseHover&&-1===g.indexOf(this.eLastMouseHover)){var y=this.eLastMouseHover.events.mouseout||this.eLastMouseHover.events.touchout;y&&y.call(this.eLastMouseHover,v)}if(this.eLastMouseHover=g[0],!g.length&&this.eLastMouseHover){var $=this.eLastMouseHover.events.mouseout;$&&$.call(this.eLastMouseHover,v),this.eLastMouseHover=null}var m=this.events[v.type];m&&!v.$stopPropagation&&i["default"].execFuncs(m,this,[v])}};t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){0};i(n(0)),i(n(1));function i(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1};t["default"]=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n;return(0,r["default"])(e,function(e){return(0,i["default"])(e,function(e){for(var i=e.width,r=e.height,a=e.getContext("2d").getImageData(0,0,i,r),o=a.data,l=o.length-1;l>=0;l-=4)if(t&&t.conversion){var s=t.conversion({r:o[l-3],g:o[l-2],b:o[l-1],a:o[l]},(l+1>>2)%i,Math.floor((l+1>>2)/i));o[l-3]=Math.max(Math.min(s.r,255),0),o[l-2]=Math.max(Math.min(s.g,255),0),o[l-1]=Math.max(Math.min(s.b,255),0),o[l-0]=Math.max(Math.min(s.a,255),0)}e.getContext("2d").clearRect(0,0,i,r),e.getContext("2d").putImageData(a,0,0),n=e},{canvas:!0,cacheFlag:Math.random()})}),function(){return n}};var i=a(n(3)),r=a(n(6));function a(e){return e&&e.__esModule?e:{"default":e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=r["default"].prototype.$extendList;if(t.indexOf(e)>=0)return;t.push(e)};var i,r=(i=n(2))&&i.__esModule?i:{"default":i}},function(e,t,n){"use strict";i(n(1)),i(n(0));function i(e){return e&&e.__esModule?e:{"default":e}}},,,,,,,,,,,function(e,t,n){e.exports=n(44)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,r=(i=n(10))&&i.__esModule?i:{"default":i};var a,o,l={},s=function(e,t){if(l[e])return l[e];var n={width:0,height:0};return l[e]=n,wx.getImageInfo({src:e,success:function(e){n.width=e.width,n.height=e.height,n.url=e.path,t&&t(n)}}),n},u=function(e){a=e.touches[0]?e.touches[0].x:a,o=e.touches[0]?e.touches[0].y:o;var t={type:e.type,targetTouches:[{pageX:a,pageY:o}],currentTarget:{offsetLeft:0,offsetTop:0},preventDefault:function(){}};if("touchmove"!==e.type&&"longtap"!==e.type,this.$eventHandler(t),"touchend"===e.type){t={type:"click",targetTouches:[{pageX:a,pageY:o}],currentTarget:{offsetLeft:0,offsetTop:0},preventDefault:function(){!1}};this.$eventHandler(t)}};r["default"].use({onUse:function(){r["default"].ImgLoader=s},onRender:function(e,t){e.img&&(e.img=e.img.url)},onCreate:function(){this.imgLoader=s,this.handle=u}});var c=r["default"];t["default"]=c}]));