!function(l,s){if("object"==typeof exports&&"object"==typeof module)module.exports=s();else if("function"==typeof define&&define.amd)define([],s);else{var o=s();for(var r in o)("object"==typeof exports?exports:l)[r]=o[r]}}(this,function(){return function(l){function s(r){if(o[r])return o[r].exports;var e=o[r]={exports:{},id:r,loaded:!1};return l[r].call(e.exports,e,e.exports,s),e.loaded=!0,e.exports}var o={};return s.m=l,s.c=o,s.p="",s(0)}({0:function(l,s,o){l.exports=o(31)},31:function(l,s){"use strict";var o=Object.assign||function(l){for(var s=1;arguments.length>s;s++){var o=arguments[s];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(l[r]=o[r])}return l},r="undefined"!=typeof window,e={},c=!1,t=void 0,n={loose:function(l){c=!1},looper:function(l){if(l.$scroll&&l.$scroll.$scrolling&&!c){if(Math.abs(l.$scroll.speedX)>1?l.$scroll.speedX*=l.scroll.smooth||.8:l.$scroll.speedX=0,Math.abs(l.$scroll.speedY)>1?l.$scroll.speedY*=l.scroll.smooth||.8:l.$scroll.speedY=0,Math.abs(l.$scroll.speedX)<=2&&Math.abs(l.$scroll.speedY)<=2)return void(l.$scroll.$scrolling=!1);l.scroll.scrollY-=l.$scroll.speedY,l.scroll.scrollX-=l.$scroll.speedX;var s=t.utils.funcOrValue(l.scroll.minScrollX,l),o=t.utils.funcOrValue(l.scroll.maxScrollX,l),r=t.utils.funcOrValue(l.scroll.minScrollY,l),e=t.utils.funcOrValue(l.scroll.maxScrollY,l);!isNaN(r)&&r>l.scroll.scrollY?l.scroll.scrollY=r:!isNaN(e)&&l.scroll.scrollY>e&&(l.scroll.scrollY=e),!isNaN(s)&&s>l.scroll.scrollX?l.scroll.scrollX=s:!isNaN(o)&&l.scroll.scrollX>o&&(l.scroll.scrollX=o)}},touch:function(l,s){if(!l.scroll.scrollable)return!1;var o=Date.now();if(c){l.$scroll.$scrolling=!0;var r=Math.abs(s.canvasX-e.x),t=Math.abs(s.canvasY-e.y),n=o-c;return c=o,r>=1&&n>1&&(l.$scroll.speedX+=(s.canvasX-e.x)/n*10),t>=1&&n>1&&(l.$scroll.speedY=(s.canvasY-e.y)/n*50,l.scroll.scrollY+=e.y-s.canvasY),e.x=s.canvasX,e.y=s.canvasY,!0}c=o,e.x=s.canvasX,e.y=s.canvasY,l.$scroll.speedX=0,l.$scroll.speedY=0},wheel:function(l,s){return!!l.scroll.scrollable&&(l.$scroll.$scrolling=!0,l.$scroll.speedX=s.event.wheelDeltaX,l.$scroll.speedY=s.event.wheelDeltaY,!0)}},a=function(l){var s=l||{};s.scroll=o({scrollX:0,scrollY:0,scrollable:!0,minScrollX:0,maxScrollX:0,minScrollY:0,maxScrollY:0},l.scroll),s.events={interceptor:function(l){return"touchmove"===l.type?n.touch(this,l):"mousewheel"===l.type?n.wheel(this,l):"touchend"!==l.type&&"mouseup"!==l.type||n.loose(this),l.$stopPropagation=!0,l}};var r=new t.class.sprite(s);r.on("ticked",function(){n.looper(r)}),r.$scroll={speedX:0,speedY:0};var e=r.add({name:"scrolling-element",style:{tx:function(){return-this.$parent.scroll.scrollX},ty:function(){return-this.$parent.scroll.scrollY}}});return r.add=e.add.bind(e),r},i=function(l,s){t=l,l.class[s]=a};r&&window.Easycanvas?(t=Easycanvas,Easycanvas.class.scroll=a):l.exports=i}})});