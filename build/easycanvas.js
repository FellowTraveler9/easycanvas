!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(102)},function(t,e){"use strict";var n={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,e){return"function"==typeof t?t.call(e):t},execFuncs:function(t,e,i){t&&(n.isArray(i)||(i=[i])),"function"==typeof t?t.apply(e,i):n.isArray(t)&&t.length&&t.forEach(function(t){t&&t.apply(e,i)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,e,n,i,o,r){return!(n>t||t>i||o>e||e>r)},firstValuable:function(t,e,n){return void 0===t?void 0===e?n:e:t}};t.exports=n},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof window;e.default=function(t,e){n&&window.Easycanvas&&(Easycanvas.class[e]=function(e){return t(Easycanvas.sprite,e)})}},function(t,e){"use strict";var n=["cutLeft","cutTop","cutWidth","cutHeight"],i=["left","top","width","height"],o=n.concat(i),r=o.concat(["locate","rx","ry","zIndex","textFont","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","border","overflow","overflowX","overflowY"]);t.exports={txywh:i,sxywh:n,xywh:o,styles:r,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.7.4"}},,,,,,function(t,e){"use strict";var n=3.141593;t.exports=function(t,e,i,o,r,a){var l=r?-r/180*n:0,s=t,c=e;return r&&(s=(t-i)*Math.cos(l)-(e-o)*Math.sin(l)+i,c=(t-i)*Math.sin(l)+(e-o)*Math.cos(l)+o),a?[s,c]:{x:s,y:c}}},,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},i="\n".slice(0,1),o=function(t,e){var o=t+"",r=o+JSON.stringify(e);if(e.fontSize=e.fontSize||16,n[r])return n[r];var a;e.padding?(a=e.padding.split(" "),a=a.map(function(t){return parseInt(t)}),a[1]=+(a[1]||a[0]),a[2]=+(a[2]||a[0]),a[3]=+(a[3]||a[1])):a=[0,0,0,0];var l=e.minWidth||e.width||(e.fontSize||16)*o.length+a[1]+a[3]+100,s=o.split("\n").length,c=e.fontSize*(Math.round(o.length)/l+s-1)*(e.lineHeight||e.fontSize)+a[0]+a[2]+100,u=document.createElement("canvas");u.width=l,u.height=c;var f=u.getContext("2d");if(window.tempCanvas=u,window.tempCtx=f,f.textBaseline="middle",f.font=(e.fontStyle?e.fontStyle+" ":"")+e.fontSize+"px "+(e.family||"serif"),f.fillStyle=e.color||"#000",f.textAlign=e.textAlign||"left","production"!==process.env.NODE_ENV){var d=[];d.push("var tempCanvas = document.createElement('canvas')"),d.push("tempCanvas.width="+u.width),d.push("tempCanvas.height="+u.height),d.push("var tempCtx = tempCanvas.getContext('2d')"),d.push("tempCtx.textBaseline='"+f.textBaseline+"'"),d.push("tempCtx.font='"+f.font+"'"),d.push("tempCtx.fillStyle='"+f.fillStyle+"'"),d.push("tempCtx.textAlign='"+f.textAlign+"'")}for(var h=0,p=e.lineHeight?(e.lineHeight-e.fontSize)/2:0,g=0,v=1,$=0,m=0,y=1;;)if(m=f.measureText(o.slice(g,v)).width,m>e.width){if("ellipsis"===e.textOverflow){v-=2,f.fillText(o.slice(g,v)+"...",h,p+e.fontSize/2),"production"!==process.env.NODE_ENV&&d.push("tempCtx.fillText('"+o.slice(g,v)+"...', "+h+", "+(p+e.fontSize/2)+")"),p+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:0),y++,$=e.width-a[1]-a[3];break}v-=1,f.fillText(o.slice(g,v),h,p+e.fontSize/2),"production"!==process.env.NODE_ENV&&d.push("tempCtx.fillText('"+o.slice(g,v)+"', "+h+", "+(p+e.fontSize/2)+")"),g=v,v=g+1,p+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:10),y++}else{if(v>o.length-1){m>$&&($=m),f.fillText(o.slice(g,v),h,p+e.fontSize/2),"production"!==process.env.NODE_ENV&&d.push("tempCtx.fillText('"+o.slice(g,v)+"', "+h+", "+(p+e.fontSize/2)+")"),p+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:0);break}o.slice(v,v+1)===i&&(f.fillText(o.slice(g,v),h,p+e.fontSize/2),v+=1,g=v,v=g+1,p+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:10),y++),m>$&&($=m),v++}var b=document.createElement("canvas");b.lastLineLeft=m,b.lineCount=y,b.width=Math.max($+a[1]+a[3],e.minWidth||0),b.height=p+a[0]+a[2];var w=b.getContext("2d");if("production"!==process.env.NODE_ENV&&(d.push("var finalCanvas=document.createElement('canvas')"),d.push("finalCanvas.width="+b.width),d.push("finalCanvas.height="+b.height),d.push("var finalCtx = finalCanvas.getContext('2d')")),e.backgroundColor&&(w.fillStyle=e.backgroundColor,w.fillRect(0,0,b.width,b.height),"production"!==process.env.NODE_ENV&&(d.push("finalCtx.fillStyle="+w.fillStyle),d.push("finalCtx.fillRect(0, 0, "+b.width+", "+b.height+")"))),w.drawImage(u,(b.width-$)/2,a[0]),e.border){var x=e.border.split(" "),S=x.pop();"solid"===x[x.length-1]&&x.pop();var E=x[0],_=x[1]||E,O=x[2]||E,T=x[3]||_||E;E=parseInt(E),_=parseInt(_),O=parseInt(O),T=parseInt(T);var k=e.borderRadius||0;if(w.beginPath(),w.strokeStyle=S,E&&(w.lineWidth=E,w.moveTo(T?k:0,0),w.lineTo(b.width-(_?k:0),0)),_&&(w.lineWidth=_,w.moveTo(b.width,E?k:0),w.lineTo(b.width,b.height-(O?k:0))),O&&(w.lineWidth=O,w.moveTo(T?k:0,b.height),w.lineTo(b.width-(_?k:0),b.height)),T&&(w.lineWidth=T,w.moveTo(0,E?k:0),w.lineTo(0,b.height-(O?k:0))),w.stroke(),k){var M=document.createElement("canvas"),A=Math.min(b.width,b.height);M.width=M.height=A;var V=M.getContext("2d");V.beginPath(),V.strokeStyle=S,V.arc(A>>1,A>>1,(A>>1)-1,0,2*Math.PI),V.stroke(),E&&_&&w.drawImage(M,A>>1,0,A>>1,A>>1,b.width-k,0,k,k),O&&_&&w.drawImage(M,A>>1,A>>1,A>>1,A>>1,b.width-k,b.height-k,k,k),E&&T&&w.drawImage(M,0,0,A>>1,A>>1,0,0,k,k),O&&T&&w.drawImage(M,0,A>>1,A>>1,A>>1,0,b.height-k,k,k)}}return"production"!==process.env.NODE_ENV&&(b.$origin=d),n[r]=b,b};e.default=o},function(t,e,n){"use strict";var i=n(1),o=Math.PI,r=function(t){return t.$lastPaintTime||Date.now()},a={linear:function(t,e,n){var i=r(this),o=!1,a=void 0,l=function(){var r=this.$lastPaintTime,s=(r-i)/n,c=(e-t)*s+t;if(o)if(e>t)for(;c>e;)c-=e-t;else for(;e>c;)c+=t-e;else e>t&&c>e?(l.$done=!0,c=e):t>e&&e>c&&(l.$done=!0,c=e);return s>=1&&a&&(a.call(this,c),a=null),c}.bind(this);return l.loop=function(){return o=!0,l},l.restart=function(){return i=r(this),l},l.then=function(t){return a=t,l},l},pendulum:function(t,e,n,i){var a=r(this),l=i||{};l.start=l.start||0;var s=!1,c=void 0,u=l.cycle||1,f=function(){var i=r(this),d=(i-a)/n;s?u&&(d%=u):u?d>u&&(d=u,f.$done=!0,d=u):d>1&&(f.$done=!0,d=1);var h=d*o*2-o/2+l.start/360*o,p=(e-t)*(Math.sin(h)+1)/2+t;return d>=u&&c&&(c.call(this,p),c=null),p}.bind(this);return f.loop=function(){return s=!0,f},f.restart=function(){return a=r(this),f},f.then=function(t){return c=t,f},f},ease:function(t,e,n){return this.pendulum(t,e,2*n,{cycle:.5})},oneByOne:function(t){var e=t,n=!1,i=function(){for(var t=0;e.length>t;t++){if(!e[t].$done)return e[t]();if(!e[t].$nextRestart&&(e[t].$nextRestart=!0,e[t+1]))return e[t+1].restart(),e[t+1]()}if(n){for(var i=0;e.length>i;i++)e[i].$done=!1,e[i].$nextRestart=!1,e[i].restart();return e[0]()}return e[e.length-1]()};return i.loop=function(){return n=!0,i},i}},l=function t(e,n,o,r,l){var s=(0,i.funcOrValue)(e[n]);"production"!==process.env.NODE_ENV&&void 0===s&&console.warn("[Easycanvas] start value in transition is undefined, using 0 instead."),s=s||0,e[n]=a[o].bind(t)(s,r,l)};for(var s in a)l[s]=a[s];t.exports=l},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(10),r=(i(o),n(33)),a=i(r);t.exports=function(t,e,n,i,o,r,l,s,c,u,f){if(!f){if(e>r+s)return!1;if(r>e+i)return!1;if(t>o+l)return!1;if(o>t+n)return!1}var d=(0,a.default)(t,e,o,r,l,s,c,u,f)||(0,a.default)(t+n,e,o,r,l,s,c,u,f)||(0,a.default)(t,e+i,o,r,l,s,c,u,f)||(0,a.default)(t+n,e+i,o,r,l,s,c,u,f);if(d)return!0;var h=(0,a.default)(o,r,t,e,n,i,c,u,-f)||(0,a.default)(o+l,r,t,e,n,i,c,u,-f)||(0,a.default)(o,r+s,t,e,n,i,c,u,-f)||(0,a.default)(o+l,r+s,t,e,n,i,c,u,-f);return!!h||(e>r&&r+s>e+i&&o>t&&t+n>o+l||t>o&&o+l>t+n&&r>e&&e+i>r+s)}},,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(15),a=i(r),l=n(3),s=i(l),c={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(t,e){t.buttonStyleNormal=o(c,{minWidth:e.style.width,lineHeight:e.style.height,padding:0},e.props.normal),t.buttonStyleHovered=o({},t.buttonStyleNormal,e.props.hovered),t.buttonStylePressed=o({},t.buttonStyleNormal,e.props.pressed),t.imageNormal=(0,a.default)(e.props.text||"",t.buttonStyleNormal),t.imageHovered=e.props.hovered&&(0,a.default)(e.props.text||"",t.buttonStyleHovered),t.imagePressed=e.props.pressed&&(0,a.default)(e.props.text||"",t.buttonStylePressed)},f=function(t,e){var n=void 0;e.props=e.props||{};var i={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};u(i,e);var o={};return e.events=e.events||{},o.touchmove=o.mousemove=function(){n.content.img=i.imageHovered||i.imageNormal},o.touchstart=o.mousedown=function(){n.content.img=i.imagePressed||i.imageHovered||i.imageNormal},o.touchend=o.touchout=o.mouseout=function(){n.content.img=i.imageNormal},o.mouseup=function(){n.content.img=i.imageHovered||i.imageNormal},o.click=function(t){e.events.click&&e.events.click.call(n,t)},n=new t({name:e.name||"button_"+e.props.text,content:{img:i.imageNormal},style:e.style,props:e.props,events:o,hooks:e.hooks}),n.update=function(t){this.__proto__.update.call(this,t),u(i,e),n.content.img=i.imageNormal},n};(0,s.default)(f,"button"),e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=i(o),a=function(t,e){var n=void 0,i=e||{};return i.name=i.name||"Image",n=new t(i),n.content.img=i.src,Object.defineProperty(n,"src",{get:function(){return n.content.img?n.content.img.src:""},set:function(t){n.content.img=t}}),n};(0,r.default)(a,"image"),e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(1),a=n(16),l=i(a),s=n(3),c=i(s),u=void 0,f=function(t,e){return Math.abs(t)<Math.abs(e)?t:e},d={loose:function(t){t.$scroll.touching=!1},looper:function(t){if(t.$scroll&&t.$scroll.$scrolling){if(Math.abs(t.$scroll.speedX)>1?t.$scroll.speedX*=t.scroll.smooth||.8:t.$scroll.speedX=0,Math.abs(t.$scroll.speedY)>1?t.$scroll.speedY*=t.scroll.smooth||.8:t.$scroll.speedY=0,Math.abs(t.$scroll.speedX)<=1&&Math.abs(t.$scroll.speedY)<=1)return t.$scroll.$scrolling=!1,void(t.$scroll.$wheeling=!1);if(!t.$scroll.touching){if(t.scroll.scrollY-=t.$scroll.speedY,t.scroll.scrollX-=t.$scroll.speedX,!t.$scroll.touching&&!t.$scroll.$wheeling&&Math.abs(t.$scroll.speedY)<50&&t.scroll.anchors&&t.scroll.anchors.length)for(var e=t.scroll.anchorsRange||400,n=0;t.scroll.anchors.length>n;n++){var i=t.scroll.anchors[n],o=t.scroll.scrollY-i;if(o>0&&e>o&&t.$scroll.speedY>0||0>o&&o>-e&&0>t.$scroll.speedY){t.trigger("scrollTo",i,200),t.$scroll.speedY=0;break}}var a=(0,r.funcOrValue)(t.scroll.minScrollX,t),l=(0,r.funcOrValue)(t.scroll.maxScrollX,t),s=(0,r.funcOrValue)(t.scroll.minScrollY,t),c=(0,r.funcOrValue)(t.scroll.maxScrollY,t);!isNaN(s)&&s>t.scroll.scrollY?t.scroll.scrollY=s:!isNaN(c)&&t.scroll.scrollY>c&&(t.scroll.scrollY=c,t.broadcast("scrolledToBottom"),t.$scroll.speedY=0),!isNaN(a)&&a>t.scroll.scrollX?t.scroll.scrollX=a:!isNaN(l)&&t.scroll.scrollX>l&&(t.scroll.scrollX=l)}}},touch:function(t,e){var n=Date.now();if(t.$scroll.$wheeling=!1,t.$scroll.touching){t.$scroll.$scrolling=!0;var i=t.$scroll.startPos.x-e.canvasX,o=t.$scroll.startPos.y-e.canvasY,a=n-t.$scroll.touching;t.$scroll.touching=n;var l=(0,r.funcOrValue)(t.scroll.minScrollX,t),s=(0,r.funcOrValue)(t.scroll.maxScrollX,t),c=(0,r.funcOrValue)(t.scroll.minScrollY,t),u=(0,r.funcOrValue)(t.scroll.maxScrollY,t);if((l>t.scroll.scrollX+i||t.scroll.scrollX+i>s)&&(t.scroll.flexible||t.scroll.flexibleX?i>>=3:i=0),(c>t.scroll.scrollY+o||t.scroll.scrollY+o>u)&&(t.scroll.flexible||t.scroll.flexibleY?o>>=3:o=0),(0,r.funcOrValue)(t.scroll.scrollableX,t)&&Math.abs(i)>=1&&a>1){var d=(e.canvasX-t.$scroll.startPos.x)/a*25;t.$scroll.lastScrollSpeed*d>0&&Math.abs(d)>15&&(d+=f(d,t.$scroll.lastScrollSpeed)),t.$scroll.speedX=(t.$scroll.lastTouchSpeed+d)/(t.$scroll.lastTouchSpeed?2:1),t.$scroll.lastTouchSpeed=d,t.scroll.scrollX+=i}if((0,r.funcOrValue)(t.scroll.scrollableY,t)&&Math.abs(o)>=1&&a>1){var h=(e.canvasY-t.$scroll.startPos.y)/a*25;t.$scroll.lastScrollSpeed*h>0&&Math.abs(h)>15&&(h+=f(h,t.$scroll.lastScrollSpeed)),t.$scroll.speedY=(t.$scroll.lastTouchSpeed+h)/(t.$scroll.lastTouchSpeed?2:1),t.$scroll.lastTouchSpeed=h,t.scroll.scrollY+=o}if(t.$scroll.startPos.x=e.canvasX,t.$scroll.startPos.y=e.canvasY,Math.abs(i)>Math.abs(o)+1)return 1;if(Math.abs(i)<Math.abs(o)-1)return 2}else t.$scroll.touching=n,t.$scroll.quickTouch=n,t.$scroll.lastTouchSpeed=0,t.$scroll.startPos.x=e.canvasX,t.$scroll.startPos.y=e.canvasY,t.$scroll.lastScrollSpeed=t.$scroll.speedX||t.$scroll.speedY,t.$scroll.speedX=0,t.$scroll.speedY=0},wheel:function(t,e){t.$scroll.speedX=(0,r.funcOrValue)(t.scroll.scrollableX,t)?e.event.wheelDeltaX:0,t.$scroll.speedY=(0,r.funcOrValue)(t.scroll.scrollableY,t)?e.event.wheelDeltaY:0,t.$scroll.$scrolling=!0,t.$scroll.$wheeling=!0,e.stopPropagation()}},h=function(t,e){var n=!1,i=!1,r=e||{};r.scroll=o({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var t=this,e=0;return this.getChildren().forEach(function(n){var i=n.getSelfStyle("left")+n.getSelfStyle("width")-t.getStyle("width");i>e&&(e=i)}),e},minScrollY:0,maxScrollY:function(){var t=this,e=0;return this.getChildren().forEach(function(n){var i=n.getSelfStyle("top")+n.getSelfStyle("height")-t.getStyle("height");i>e&&(e=i)}),e},propagationX:!1,propagationY:!1},e.scroll);var a=function t(){n&&(c.scroll.scrollX=n()),i&&(c.scroll.scrollY=i()),n||i||c.off("ticked",t)},s=!1;r.events=o({touchstart:function(t){d.loose(this),s=!0,u=!1,d.touch(this,t),c.scroll.propagationX||c.scroll.propagationY||t.stopPropagation()},touchmove:function(t){if(s&&(!u||this===u)){var e=d.touch(this,t);1===e&&c.scroll.propagationY?(t.stopPropagation(),u=this):2===e&&c.scroll.propagationX&&(t.stopPropagation(),u=this)}},mousewheel:function(t){s=!0,d.wheel(this,t),t.stopPropagation()},touchend:function(){s=!1,d.loose(this)},mouseup:function(){s=!1,d.loose(this)}},r.events||{}),r.scroll.capture&&(r.events.interceptor=function(t){return c.events[t.type]?(c.events[t.type].call(c,t),!1):t});var c=new t(r);c.on("ticked",function(){d.looper(c)}),c.on("scrollTo",function(t,e,o){var r=void 0;return n=l.default.ease(c.scroll.scrollY,t,o||200,{cycle:.5}).then(function(){n=!1,r&&r(),r=!1}),i=l.default.ease(c.scroll.scrollY,e,o||200,{cycle:.5}).then(function(){i=!1,r&&r(),r=!1}),c.on("ticked",a),{then:function(t){r=t}}}),c.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var f=c.add({name:"scrolling-element",style:{left:function(){return-this.$parent.scroll.scrollX},top:function(){return-this.$parent.scroll.scrollY}}});return c.add=f.add.bind(f),c.clear=f.clear.bind(f),c.getChildren=function(){return f.children},c};(0,c.default)(h,"scroll"),e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),a=i(r),l=function(t,e){var n=new t(e);return e.props.index=e.props.index||0,n.on("beforeTick",function(){var t=this.props,e=(0,o.funcOrValue)(this.content.img,this);if(e&&e.width){var n=t.index||0;0>n&&(n=0);var i=void 0,r=void 0;if(t.frameWidth||t.frameHeight){i=0>t.frameWidth?e.width/-t.frameWidth:t.frameWidth,r=0>t.frameHeight?e.height/-t.frameHeight:t.frameHeight;var a=Math.floor(e.width/i),l=Math.floor(e.height/r);this.style.cutLeft=n%a*i,this.style.cutTop=Math.floor(n/a)%l*r}!t.loop&&n>0&&0===this.style.cutLeft&&0===this.style.cutTop&&(this.style.img=void 0,t.onOver?t.onOver.call(this):this.remove()),t.lastFrameTime=t.lastFrameTime||0,this.$canvas.$nextTickTime-t.lastFrameTime<(0,o.funcOrValue)(t.interval,this)||(t.lastFrameTime=this.$canvas.$nextTickTime,t.index++),this.style.cutWidth=this.style.cutWidth||i,this.style.cutHeight=this.style.cutHeight||r,this.style.width=this.style.width||i,this.style.height=this.style.height||r}}),n};(0,a.default)(l,"sequence"),e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(15),a=i(r),l=n(3),s=i(l),c={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(t){t.content.img=t.text?(0,a.default)(t.text,o({},c,{lineHeight:t.style.fontSize},t.style)):void 0},f=function(t,e){var n=void 0;return e.name=e.name||"Text",n=new t(e),u(n),Object.defineProperty(n,"text",{get:function(){return n.content.text},set:function(t){n.content.img=text}}),n.update=function(t){this.__proto__.update.call(this,t),u(this)},n};(0,s.default)(f,"text"),e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=i(o),a=function(t,e){var n=void 0,i=e||{};return i.name=i.name||"View",n=new t(i)};(0,r.default)(a,"view"),e.default=a},,,,function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={},o=[],r=Image,a=0,l=function t(e,l,s){var c=s||{},u=t.cacheCanvas;if("object"===(void 0===e?"undefined":n(e))){var f=e;return c.callbackArgs=c.callbackArgs||[],void t(f.shift(),function(e){c.callbackArgs.push(e),f.length>1?t(f,l,c):t(f[0],function(t){c.callbackArgs.push(t),l(c.callbackArgs)},c)},s)}var d=e+"_"+JSON.stringify(s)+"_"+u;if(i[d])return l?void(i[d].width&&l?l(i[d]):setTimeout(function(){t(e,l,s)},100)):i[d];var h=new r;h._complete=!1,c.block?(h.src=e,a++):0===a?h.src=e:o.push({imgObj:h,src:e}),i[d]=h;var p=void 0;return(c.canvas||c.alphaColor||u)&&(p=document.createElement("canvas"),p.width=p.height||0,i[d]=p),h.onload=function(t){if(h._complete=!0,"jpg"===h.src.substr(-3)||"jpeg"===h.src.substr(-3)||"bmp"===h.src.substr(-3)?h.$noAlpha=!0:0===h.src.indexOf("data:image/jpg;")&&(h.$noAlpha=!0),c.block&&(a--,0===a&&(o.forEach(function(t){t.imgObj.src=t.src}),o.splice(0))),p&&(c.canvas||c.alphaColor||u)){var e=p.getContext("2d");if(p.width=h.width,p.height=h.height,p.$noAlpha=h.$noAlpha,e.drawImage(h,0,0),c.alphaColor){for(var n=e.getImageData(0,0,h.width,h.height),i=0;n.data.length>i;i+=4){var r=n.data[i]+n.data[i+1]+n.data[i+2],s=1;s>n.data[i]&&s>n.data[i+1]&&s>n.data[i+2]&&(n.data[i+3]=Math.floor(r/255))}e.putImageData(n,0,0),p.$noAlpha=!1}h=p}l&&l(h)},h.onerror=function(){i[d]=h},p||h};l.cacheCanvas=!1,t.exports=l},function(t,e){"use strict";function n(t,e){if(t&&t.match(/^data:/))return void(e&&e(t));if(o[t])return void(o[t]!==i?e(o[t]):setTimeout(function(){n(t,e)},100));o[t]=i;var r=new XMLHttpRequest;r.onload=function(){var n=new FileReader;n.onloadend=function(){o[t]=n.result,e&&e(n.result)},n.readAsDataURL(r.response)},r.open("GET",t),r.responseType="blob",r.send()}var i="processing",o={};t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(10),r=(i(o),3.141593);t.exports=function(t,e,n,i,o,a,l,s,c){var u=c?-c/180*r:0;return u&&(t=(t-l)*Math.cos(u)-(e-s)*Math.sin(u)+l,e=(t-l)*Math.sin(u)+(e-s)*Math.cos(u)+s),!(n>t||t>n+o||i>e||e>i+a)}},,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(1),a=i(r),l=n(4),s=i(l),c=n(97),u=i(c),f=n(96),d=i(f),h=n(47),p=i(h),g=n(48),v=i(g),$=n(99),m=i($),y=n(92),b=i(y),w=n(94),x=i(w),S=n(95),E=i(S),_=n(93),O=i(_),T=n(100),k=i(T),M=n(98),A=i(M),V=0,N=function t(e){e.children&&e.children.forEach(function(n,i){n.$id||(e.children[i]=new P(n)),e.$id&&!e.$dom?(e.children[i].$canvas=e.$canvas,e.children[i].$parent=e):e.children[i].$canvas=e,t(e.children[i])})},C=function(t,e){var n=t||{};n.$id||(n.$id=Math.random().toString(36).substr(2)),n.$tickedTimes=n.$tickedTimes||0,n.content=n.content||{},n.style=n.style||{},n.style.scale=a.default.firstValuable(n.style.scale,1),n.style.opacity=a.default.firstValuable(n.style.opacity,1),n.style.zIndex=n.style.zIndex||0,n.style.locate=n.style.locate||"center";a.default.funcOrValue(n.content.img);if(e.$cache={},e.$render={},e.$style={},e.$needUpdate={},n.hooks=n.hooks||{},s.default.styles.concat(["visible"]).forEach(function(t){e.$cache[t]=void 0,e.$style[t]=n.style[t],"function"==typeof n.style[t]&&(e.$style[t]=n.style[t].bind(e)),s.default.xywh.indexOf(t)>-1?e.$style[t]=e.$style[t]||0:["opacity","scale"].indexOf(t)>-1&&(e.$style[t]=a.default.firstValuable(e.$style[t],1)),e.$needUpdate[t]=1,Object.defineProperty(n.style,t,{get:function(){return e.$style[t]},set:function(n){e.$style[t]!==n&&(e.$style[t]=n,e.$needUpdate[t]=1)}})}),n.events=n.events||{},"production"!==process.env.NODE_ENV)for(var i in n.events)"function"!=typeof n.events[i]&&"eIndex"!==i&&console.warn("[Easycanvas] Handler "+i+" is not a function.",n.events[i]);if("production"!==process.env.NODE_ENV&&(n.$addIndex=V++),n.events.eIndex=n.events.eIndex,"production"!==process.env.NODE_ENV&&(n.$perf={}),"production"!==process.env.NODE_ENV){if(!n.name&&n.content.img&&n.content.img.src){var o=n.content.img.src.match(/.*\/([^\/]*)$/);o&&o[1]&&(n.name=o[1])}n.name=n.name||"Unnamed Sprite"}return n.children=n.children||[],N(n),n.$styleCacheTime={},n},I=function(t){var e=this;this.$extendList.forEach(function(n){n.call(e,t)})},P=function(t){var e=C(t,this);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=e[n]);return I.call(this,e),this};P.prototype.$extendList=[],P.prototype.add=function(t){if(t)return this.children.push(t),N(this),this.children[this.children.length-1]},P.prototype.getRect=function(t,e){var n=this,i={};if(s.default.txywh.forEach(function(t){i[t]=n.getStyle(t,e)}),0===i.width&&this.content.img&&!t){var o=a.default.funcOrValue(this.content.img,this);i.width=o.width,i.height=o.height}var r=this.getStyle("locate");return"lt"===r||("ld"===r?i.top-=i.height:"rt"===r?i.left-=i.width:"rd"===r?(i.left-=i.width,i.top-=i.height):(i.left-=i.width>>1,i.top-=i.height>>1)),i.right=this.$canvas.width-i.left-i.width,i.bottom=this.$canvas.height-i.top-i.height,i},P.prototype.getSelfStyle=function(t){var e={};if(t)return a.default.funcOrValue(this.style[t],this);for(var n in this.style)e[n]=a.default.funcOrValue(this.style[n],this);return e},P.prototype.getStyle=function(t,e){var n=this;if(e&&void 0!==n.$cache[t])return n.$cache[t];var i=a.default.funcOrValue(n.$style[t],n);if(n.$parent){var o=n.$parent.getStyle(t);if("left"===t||"top"===t)return o=a.default.firstValuable(o,0),o+a.default.firstValuable(i,0);if("scale"===t||"opacity"===t)return o=a.default.firstValuable(o,1),o*a.default.firstValuable(i,1);if("visible"===t)return o!==!1&&i}return i},P.prototype.remove=function(t){return t?(this.$canvas.remove(t),void a.default.execFuncs(t.hooks.removed,t)):(this.$parent?this.$parent.remove(this):this.$canvas.remove(this),void a.default.execFuncs(this.hooks.removed,this))},P.prototype.update=function(t){if(t){for(var e in t)if("object"===o(t[e]))for(var n in t[e])this[e]||(this[e]={}),this[e][n]=t[e][n];else this[e]=t[e];return this.recalculate(!0),this}},P.prototype.hide=function(){return this.style.display="none",this},P.prototype.show=function(){return this.style.display=void 0,this},P.prototype.getAllChildren=function(t){var e=this,n=t?[e]:[];return e.children.forEach(function(t){n=n.concat(t.getAllChildren(!0))}),n},P.prototype.getAllVisibleChildren=function(t){var e=this;if(a.default.funcOrValue(e.style.visible,e)===!1)return[];var n=t?[e]:[];return e.children.forEach(function(t){n=n.concat(t.getAllVisibleChildren(!0))}),n},P.prototype.getOuterRect=E.default,P.prototype.combine=O.default,P.prototype.uncombine=k.default,P.prototype.combineAsync=function(){return this.$combine?this:(this.$combine=9,this.off("ticked",this.combine),this.on("ticked",this.combine,100),this)},P.prototype.recalculate=A.default,P.prototype.refresh=function(){for(var t in $sprite.$style)$sprite.$cache[t]=P.get($sprite.$style[t],$sprite);return this},P.prototype.nextTick=v.default,P.prototype.on=u.default,P.prototype.off=d.default,P.prototype.clear=p.default,P.prototype.trigger=m.default,P.prototype.broadcast=b.default,P.prototype.distribute=x.default,t.exports=P},function(t,e){"use strict";t.exports=function(){this.children.forEach(function(t){t.remove()}),this.children=[]}},function(t,e){"use strict";t.exports=function(t){var e=function e(){t.apply(this,arguments),this.off("ticked",e)};this.on("ticked",e)}},,,,,,,,function(t,e){"use strict";var n=function(t){setTimeout(t,1e3/60)},i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n:n;t.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(4),a=i(r),l=n(1),s=i(l);if("production"!==process.env.NODE_ENV&&!window[a.default.devFlag]){var c=window[a.default.devFlag]={isPaintRecording:!1,selectMode:!1,current:{},version:a.default.version,$canvas:{},$plugin:null},u={getSprite:function(t){if(!c.isPaintRecording)return[];var e={};if(t){var n=c.$canvas[t].children,i=function t(n){if(n.name!==a.default.devFlag){e[n.$id]={name:n.name,$addIndex:n.$addIndex,parent:n.$parent&&n.$parent.$id,style:{},children:n.children.filter(function(t){return t.name!==a.default.devFlag}).map(function(t){return t.$id}),rendered:n.$rendered};for(var i in n.style)e[n.$id].style[i]=s.default.funcOrValue(n.style[i],n);a.default.xywh.forEach(function(t){e[n.$id].style[t]=Math.round(e[n.$id].style[t])}),["physics","$perf"].forEach(function(t){e[n.$id][t]=n[t]}),n.webgl&&(e[n.$id].webgl={},["rx","ry","rz","x","y","z"].forEach(function(t){e[n.$id].webgl[t]=s.default.funcOrValue(n.webgl[t],n)})),n.children&&n.children.sort(function(t,e){return e.$addIndex>t.$addIndex?-1:1}).forEach(t)}};n.sort(function(t,e){return e.$addIndex>t.$addIndex?-1:1}).forEach(i)}else for(var r in c.$canvas)e=o(e,c.$plugin.getSprite(r));return e},selectSpriteById:function(t,e){if(!e){for(var n in c.$canvas){var i=u.selectSpriteById(t,n);if(i)return{$sprite:i.$sprite||i,$canvas:c.$canvas[n]}}return!1}var o=function n(i){for(var o=0;i.length>o;o++){if(i[o].$id===t)return i[o];var r=n(i[o].children);if(r)return{$sprite:r.$sprite||r,$canvas:c.$canvas[e]}}return!1},r=c.$canvas[e].children,a=o(r);if(a)return{$sprite:a.$sprite||a,$canvas:c.$canvas[e]}},updateSprite:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style",n=arguments[2],i=arguments[3],r=u.selectSpriteById(t,i).$sprite;r||console.warn("Sprite "+spriteId+" Not Found."),o(r[e],n)},highlightSprite:function(t,e,n){c.selectMode=!!e;var i=u.selectSpriteById(t,n),o=i.$sprite,r=i.$canvas;e&&r&&o?r.$plugin.selectSprite(!1,r,o):r&&r.$plugin.cancelSelectSprite(r)},sendGlobalHook:function(t,e){var n=u.selectSpriteById(t,e),i=n.$sprite,o=n.$canvas;console.log("%c window.$0 = %c Current Sprite("+i.name+") %c ","background:#4086f4 ; padding: 2px 0; border-radius: 2px 0 0 2px;  color: #fff","background:#41b883 ; padding: 2px; border-radius: 0 2px 2px 0;  color: #fff","background:transparent"),window.$0=i,window.$1=o},pause:function(t,e){var n=c.$canvas[t];n.$pausing=void 0!==e?e:!n.$pausing},getPerf:function(){var t={canvas:[],navigator:{clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight,devicePixelRatio:window.devicePixelRatio}};if(!c.isPaintRecording)return t;for(var e in c.$canvas)t.canvas.push({$id:e,name:c.$canvas[e].name,perf:c.$canvas[e].$perf,fps:c.$canvas[e].lastFps,size:{styleWidth:c.$canvas[e].$dom.getBoundingClientRect().width||parseInt(c.$canvas[e].$dom.style.width)||c.$canvas[e].$dom.width,styleHeight:c.$canvas[e].$dom.getBoundingClientRect().height||parseInt(c.$canvas[e].$dom.style.height)||c.$canvas[e].$dom.height,canvasWidth:c.$canvas[e].$dom.width,canvasHeight:c.$canvas[e].$dom.height}});return t}};c.$plugin=u}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();this.hooks[e]&&r.default.execFuncs(this.hooks[e],this,t),t.unshift(e);var n=this.children;n&&n.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(1),a=i(r),l=n(4),s=(i(l),9),c=1,u=2,f=3;t.exports=function(){var t=this,e=this;return e.$combine!==s?c:(setTimeout(function(){if(e.$combine!==s)return c;if(e.getStyle("visible")===!1)return f;var n=t.$canvas,i=e.getRect(!1,!0);if(i.tw>n.width)return u;if(i.th>n.height)return u;for(var r=e.getAllChildren(!0),l=0;r.length>l;l++){var d=r[l];if(d.content.img&&!d.$render._imgWidth)return f;if(1!==d.getStyle("scale"))return f}var h=void 0;if("hidden"!==a.default.funcOrValue(e.style.overflow,e)){if(h=e.getOuterRect(!1,!0),h.left=Math.floor(h.left),h.top=Math.floor(h.top),h.width=Math.round(h.width),h.height=Math.round(h.height),h.right=Math.round(h.right),h.bottom=Math.round(h.bottom),h.width>n.width)return u;if(h.height>n.height)return u}else h=i;e.off("ticked",t.combine);var p=n.$children.filter(function(t){for(var e=0;r.length>e;e++)if(r[e].$id===t.$id)return!0}),g=e.getStyle("opacity");p.forEach(function(t){t.settings&&(t.settings.$combineGlobalAlpha=t.settings.globalAlpha,t.settings.globalAlpha=g>0?t.settings.globalAlpha/g:1,t.props.$moved||(t.props.$moved=!0,t.props.left-=h.left,t.props.top-=h.top))});var v=n.$combinerCanvas;v||(v=n.$combinerCanvas=document.createElement("canvas"),v.width=n.width,v.height=n.height);var $=v.getContext("2d");$.clearRect(0,0,n.width,n.height),n.$render($,p,!0),p.forEach(function(t){t.settings&&(t.settings.globalAlpha=t.settings.$combineGlobalAlpha)});var m=document.createElement("canvas");m.width=h.width,m.height=h.height;var y=m.getContext("2d");y.drawImage(v,0,0,h.width,h.height,0,0,h.width,h.height),e.$combine={content:e.content,children:e.children,style:o({},e.style)},e.children=[],e.content={img:m};var b=e.getSelfStyle("left")-(Math.floor(i.left)-h.left),w=e.getSelfStyle("top")-(Math.floor(i.top)-h.top);return o(e.style,{
scale:1,left:b,top:w,width:m.width,height:m.height,backgroundColor:void 0}),c}),this)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1);i(o);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();t.unshift(e);var n=this.children;n&&n.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e){"use strict";t.exports=function(t,e){var n=this,i=n.getRect(t,e);return i.right=i.left+i.width,i.bottom=i.top+i.height,this.children.forEach(function(n){if(n.$cache.visible!==!1){var o=n.getOuterRect(t,e);i.left>o.left&&(i.left=o.left),i.top>o.top&&(i.top=o.top),o.right>i.right&&(i.right=o.right),o.bottom>i.bottom&&(i.bottom=o.bottom),i.width=i.right-i.left,i.height=i.bottom-i.top}}),i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(t,e){this.hooks[t]&&(this.hooks[t]!==e&&this.hooks[t].$handle!==e&&e?r.default.isArray(this.hooks[t])&&(this.hooks[t].indexOf(e)<0?this.hooks[t].indexOf(e.$handle)<0||(this.hooks[t][this.hooks[t].indexOf(e.$handle)]=void 0):this.hooks[t][this.hooks[t].indexOf(e)]=void 0):delete this.hooks[t])}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(t,e,n){var i=e;if(n){var o=this;i=function(){var t=Date.now();if(t>i.$lastTriggerTime+n){i.$lastTriggerTime=t;var r=Array.prototype.slice.call(arguments);e.apply(o,r)}},i.$lastTriggerTime=-1,i.$handle=e}this.hooks[t]?r.default.isArray(this.hooks[t])?this.hooks[t].push(i):this.hooks[t]=[this.hooks[t],i]:this.hooks[t]=i}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o),a=n(18),l=i(a),s=n(4),c=i(s),u=function t(e){if(e){var n=r.default.funcOrValue(e.$style.scale,e);return 1!==n?e:t(e.$parent)}};t.exports=function(t){var e=this;if(!t&&r.default.execFuncs(e.hooks.beforeTick,e,[e.$canvas.$rafTime]),r.default.funcOrValue(e.style.visible,e)===!1)return e.$cache.visible=!1,void(!t&&r.default.execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime]));e.$cache.visible=!0,t&&(e.$cache={},c.default.styles.forEach(function(t){e.$needUpdate[t]=1,e.$cache[t]=void 0}));var n=Object.keys(e.$needUpdate).length;if(e.$lastUpdate=e.$needUpdate,n){var i={},o=function(t){var n=e.$cache[t];if("function"==typeof e.$style[t]?(i[t]=1,e.$cache[t]=e.$style[t].call(e)):e.$cache[t]=e.$style[t],"left"===t||"top"===t){var o=e.$parent;o&&(e.$cache[t]+=o.$cache[t]||0)}else if("opacity"===t||"scale"===t){var a=e.$parent;a&&(e.$cache[t]*=r.default.firstValuable(a.$cache[t],1))}n===e.$cache[t]?delete e.$needUpdate[t]:"left"!==t&&"top"!==t&&"opacity"!==t&&"scale"!==t||n!==e.$cache[t]&&e.children.forEach(function(e){e.$needUpdate[t]=1})};for(var a in e.$needUpdate)o(a);n=Object.keys(e.$needUpdate).length,e.$needUpdate=i}!t&&r.default.execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime]);var s=r.default.funcOrValue(e.content.text,e),f=r.default.funcOrValue(e.content.img,e);if(n||e.$cache.text!==s||e.$cache.img!==f||e.content.img&&!e.$render._imgWidth){var d=e.$render;e.$cache.img=d.img=f=r.default.funcOrValue(e.content.img,e),e.$cache.text=d.text=s,"string"==typeof d.img&&(d.img=e.content.img=e.$canvas.imgLoader(d.img)),f&&f._complete===!1&&(f=!1),d.backgroundColor=e.$cache.backgroundColor,d.border=e.$cache.border,d.overflow=e.$cache.overflow,d.overflowX=e.$cache.overflowX,d.overflowY=e.$cache.overflowY,d.locate=e.$cache.locate,d.rotate=e.$cache.rotate,d.scale=e.$cache.scale,d.opacity=e.$cache.opacity,d.$moved=!1,d.childrenInside=(d.overflow||d.overflowX||d.overflowY)&&"visible"!==d.overflow,d.left=e.$cache.left,d.top=e.$cache.top,d.width=e.$cache.width,d.height=e.$cache.height,d._imgWidth=0,d._imgHeight=0,f&&f.width&&(d._imgWidth=f.width||0,d._imgHeight=f.height||0,d.cutLeft=e.$cache.cutLeft||0,d.cutTop=e.$cache.cutTop||0,d.cutWidth=e.$cache.cutWidth||d._imgWidth,d.cutHeight=e.$cache.cutHeight||d._imgHeight,d.cutLeft=Math.round(d.cutLeft),d.cutTop=Math.round(d.cutTop),d.cutWidth=Math.round(d.cutWidth),d.cutHeight=Math.round(d.cutHeight),d.width=d.width||d.cutWidth||0,d.height=d.height||d.cutHeight||0),"lt"===d.locate||("ld"===d.locate?d.top-=d.height:"rt"===d.locate?d.left-=d.width:"rd"===d.locate?(d.left-=d.width,d.top-=d.height):(d.left-=d.width>>1,d.top-=d.height>>1)),d.left=Math.round(d.left),d.top=Math.round(d.top),d.width=Math.round(d.width),d.height=Math.round(d.height);var h=d.settings={};if(h.globalAlpha=r.default.firstValuable(d.opacity,1),d.childrenInside&&(h.clip=!0),1!==e.$cache.scale){var p=d.scale,g=u(e);if(g){var v=g.$render.left+g.$render.width/2,$=g.$render.top+g.$render.height/2;d.left-=(v-d.left)*(p-1),d.top-=($-d.top)*(p-1),d.width*=p,d.height*=p}}if((d.fh||d.fv)&&(d.fh=d.fh||0,d.fv=d.fv||0,d.fx=d.fx||0,d.fy=d.fy||0,h.transform={fh:d.fh,fv:d.fv,fx:-(d.top+(d.height>>1))*d.fv+d.fx,fy:-(d.left+(d.width>>1))*d.fh+d.fy}),d.blend&&(h.globalCompositeOperation="string"==typeof d.blend?d.blend:blend[d.blend]),d.backgroundColor&&(h.fillRect=d.backgroundColor),d.border&&(h.line=d.border),d.mirrX?(h.translate=[$canvas.width,0],h.scale=[-1,1],d.left=$canvas.width-d.left-d.width,d.mirrY&&(h.translate=[$canvas.width,$canvas.height],h.scale=[-1,-1],d.top=$canvas.height-d.top-d.height)):d.mirrY&&(h.translate=[0,$canvas.height],h.scale=[1,-1],d.top=$canvas.height-d.top-d.height),d.rotate){d.rx=r.default.firstValuable(r.default.funcOrValue(e.$cache.rx,e),d.left+.5*d.width),d.ry=r.default.firstValuable(r.default.funcOrValue(e.$cache.ry,e),d.top+.5*d.height);var m=r.default.firstValuable(d.rx,d.left+.5*d.width),y=r.default.firstValuable(d.ry,d.top+.5*d.height);h.beforeRotate=[m,y],h.rotate=-d.rotate*Math.PI/180,h.rotate=+h.rotate.toFixed(4),h.afterRotate=[-m,-y]}d.$insight=(0,l.default)(d.left,d.top,d.width,d.height,0,0,e.$canvas.width,e.$canvas.height,h.beforeRotate&&h.beforeRotate[0],h.beforeRotate&&h.beforeRotate[1],d.rotate)}e.children.forEach(function(e){e.recalculate(t)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this.hooks[e])return r.default.execFuncs(this.hooks[e],this,t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(4);i(o);t.exports=function(){var t=this;if(this.$combine){if(9===this.$combine)return void(this.$combine=!1);this.content=this.$combine.content,this.children=this.$combine.children,Object.keys(this.style).forEach(function(e){t.style[e]=void 0}),Object.keys(this.$combine.style).forEach(function(e){t.style[e]=t.$combine.style[e]}),this.$combine=!1,this.recalculate(!0)}}},,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=i(o),a=n(122),l=i(a),s=n(56),c=i(s),u=n(162),f=i(u),d=n(1),h=i(d),p=n(16),g=i(p),v=n(31),$=i(v),m=n(161),y=i(m),b=n(163),w=i(b),x=n(46),S=i(x),E=n(22),_=i(E),O=n(23),T=i(O),k=n(24),M=i(k),A=n(25),V=i(A),N=n(26),C=i(N),I=n(27),P=i(I),F=n(91),R=(i(F),{painter:l.default,imgLoader:$.default,imgPretreat:y.default,multlineText:w.default,transition:g.default,tick:c.default,utils:h.default,mirror:f.default,class:{sprite:S.default},sprite:S.default,$version:r.default.version,env:process.env.NODE_ENV,Button:_.default,Image:T.default,Scroll:M.default,Sequence:V.default,Text:C.default,View:P.default});R.extend=function(t){var e=R.sprite.prototype.$extendList;e.indexOf(t)<0&&e.push(t)},R.use=function(t){var e=R.painter.prototype.$extendList;e.indexOf(t)<0&&(t.onUse&&t.onUse(R),e.push(t))};var H="undefined"!=typeof window;H&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):"production"!==process.env.NODE_ENV&&setTimeout(function(){console.log("%c Easycanvas %c You are using the develop version "+r.default.version+" %c","background:#4086f4; padding: 2px 0; border-radius: 2px 0 0 2px;  color: #fff","background:#41b883; padding: 2px; border-radius: 0 2px 2px 0;  color: #fff","background:transparent")},500)),e.default=R},,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(110),r=i(o),a=n(111),l=i(a),s=n(108),c=i(s),u=n(121),f=i(u),d={$render:l.default,$eventHandler:c.default,$perPaint:r.default};"production"!==process.env.NODE_ENV&&(d.$plugin=(0,f.default)()),t.exports=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o,r=n(1),a=i(r),l=n(4),s=i(l),c="undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=function(t){return t.sort(function(t,e){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)<a.default.funcOrValue(e.style.zIndex,e)?1:-1:a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)<a.default.funcOrValue(a.default.firstValuable(e.events.eIndex,e.style.zIndex),e)?1:-1})},f=function(t,e){var n=t.getRect();return a.default.pointInRect(e.canvasX,e.canvasY,n.left,n.left+n.width,n.top,n.top+n.height)},d=function t(e,n,i){if(e&&e.length&&!n.$stopPropagation)for(var o=e.length,r=0;o>r;r++){var l=e[r];if(a.default.funcOrValue(l.style.visible,l)!==!1&&(!l.events||"none"!==l.events.pointerEvents)){if(f(l,n)){var c=l.events.interceptor;if("production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode&&(c=!1),c){var d=a.default.firstValuable(c.call(l,n),n);if(!d||d.$stopPropagation)return}}var h=l.$combine&&l.$combine.children?l.$combine.children:l.children;if("production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode&&(h=l.children),h.length&&t(u(h.filter(function(t){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)>=0:a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0})),n,i),n.$stopPropagation)break;if(f(l,n)){if("production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode){if(l.name!==s.default.devFlag&&(n.stopPropagation(),l.$canvas.$plugin.selectSprite("click"===n.type||"touchend"===n.type,l.$canvas,l)))return;continue}return p(l,n,i),void n.stopPropagation()}h.length&&t(u(h.filter(function(t){return"production"!==process.env.NODE_ENV&&window[s.default.devFlag]&&window[s.default.devFlag].selectMode?a.default.funcOrValue(t.style.zIndex,t)<0:!(a.default.funcOrValue(a.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0)})),n,i)}}},h=function(t,e){var n=this;this.$extendList.forEach(function(i){i.onEvent&&i.onEvent.call(n,t,e)})},p=function t(e,n,i){i&&i.push(e),e.events[n.type]&&(e.events[n.type].call(e,n),n.$stopPropagation)||(e.$parent?t(e.$parent,n,i):e.$canvas&&!n.$stopPropagation&&(t(e.$canvas,n),n.stopPropagation()))},g={x:0,y:0,timeStamp:0};o=function(t,e){var n=this,i=void 0,r=void 0,l=1,s=1;if(!e){!t.layerX&&t.targetTouches&&t.targetTouches[0]?(i=t.targetTouches[0].pageX-t.currentTarget.offsetLeft,r=t.targetTouches[0].pageY-t.currentTarget.offsetTop):!t.layerX&&t.changedTouches&&t.changedTouches[0]?(i=t.changedTouches[0].pageX-t.currentTarget.offsetLeft,r=t.changedTouches[0].pageY-t.currentTarget.offsetTop):(i=t.layerX,r=t.layerY);var f=!1;if(this.$dom.getBoundingClientRect){var p=this.$dom.getBoundingClientRect();l=Math.floor(p[f?"height":"width"])/this.width,s=Math.floor(p[f?"width":"height"])/this.height}}var v=e||{type:t.type,canvasX:i/l,canvasY:r/s,event:t};if(c&&n.fastclick){if("click"===v.type&&!v.$fakeClick)return;"touchstart"===v.type?(g.x=v.canvasX,g.y=v.canvasY,g.timeStamp=Date.now()):"touchend"===v.type&&Math.abs(g.x-v.canvasX)<30&&Math.abs(g.y-v.canvasY)<30&&Date.now()-g.timeStamp<200&&o.call(this,null,{$fakeClick:!0,type:"click",canvasX:g.x,canvasY:g.y,event:t})}if(v.stopPropagation=function(){v.$stopPropagation=!0},!n.events.interceptor||(v=a.default.firstValuable(n.events.interceptor.call(n,v),v),v&&!v.$stopPropagation)){var $=[];if(d(u(n.children),v,$),h.call(n,v,$),("mousemove"===v.type||"touchmove"===v.type)&&n.eLastMouseHover&&$.indexOf(n.eLastMouseHover)===-1){var m=n.eLastMouseHover.events.mouseout||n.eLastMouseHover.events.touchout;m&&m.call(n.eLastMouseHover,v)}if(n.eLastMouseHover=$[0],!$.length&&n.eLastMouseHover){var y=n.eLastMouseHover.events.mouseout;y&&y.call(n.eLastMouseHover,v),n.eLastMouseHover=null}var b=n.events[v.type];return b&&!v.$stopPropagation&&b.call(n,v)?(n.eHoldingFlag=!1,!0):void 0}},t.exports=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(t,e,n){e.filter(function(t){var e=r.default.funcOrValue(t.style.zIndex,t);return 0>n?0>e:e>=0}).sort(function(t,e){var n=r.default.funcOrValue(t.style.zIndex,t),i=r.default.funcOrValue(e.style.zIndex,e);return n===i?0:n>i?1:-1}).forEach(function(e,n){t.$perPaint.call(t,e,n)})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o),a=n(4),l=(i(a),n(109)),s=i(l),c=n(18),u=(i(c),function(t){var e=/[^\u4e00-\u9fa5]/;return!e.test(t)}),f=function(){var t=this;this.$canvas.$extendList.forEach(function(e){e.onPaint&&e.onPaint.call(t)})};t.exports=function(t,e){if(t.$rendered=!1,t.$cache.visible!==!1){var n=this;f.call(t);var i=t.$render,o=i.text,a=i.img,l=i.childrenInside;if(!(a||o||i.backgroundColor||i.border||l)){t.$rendered=void 0;var c=t.children;return void(c.length&&((0,s.default)(n,c,-1),(0,s.default)(n,c,1)))}var d=t.children,h=i.settings;if(h.clip){var p={$id:t.$id,type:"clip",props:i};p.$origin=t,n.$children.push(p)}if(d.length&&(0,s.default)(n,d,-1),h.fillRect){t.$rendered=!0;var g={$id:t.$id,type:"fillRect",settings:h,props:i};g.$origin=t,n.$children.push(g)}if(i._imgWidth&&0!==i.opacity&&i.cutWidth&&i.cutHeight){t.$rendered=!0;var v={$id:t.$id,type:"img",settings:h,img:a,props:i};v.$origin=t,n.$children.push(v)}if(o){i.textFont=t.$cache.textFont,i.color=t.$cache.color,i.textAlign=t.$cache.textAlign,i.textVerticalAlign=t.$cache.textVerticalAlign,t.$rendered=!0;var $=i.left,m=i.top,y=i.align||i.textAlign||"left",b=i.textFont||"14px Arial",w=parseInt(b),x="top",S=i.lineHeight||w;if("center"===y?$+=i.width/2:"right"===y&&($+=i.width),"top"===i.textVerticalAlign?x="top":"bottom"===i.textVerticalAlign?(x="bottom",m+=i.height):"middle"===i.textVerticalAlign&&(m+=i.height>>1,x="middle"),"string"==typeof o||"number"==typeof o)n.$children.push({$id:t.$id,type:"text",settings:h,props:{left:$,top:m,content:o+"",fontsize:w,align:y,baseline:x,font:b,color:i.color,type:i.textToppe},$origin:t});else if(o.length)o.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:h,props:{left:$+r.default.funcOrValue(e.left,t),top:m+r.default.funcOrValue(e.top,t),content:r.default.funcOrValue(e.content,t),fontsize:w,baseline:x,align:y,font:b,color:i.color,type:i.textToppe},$origin:t})});else if("multline-text"===o.toppe){var E=o.text.split(/\t|\n/),_=[];E.forEach(function(t,e){t=String.prototype.trim.apply(t),o.config.start&&(t=t.replace(o.config.start,""));for(var n=0,r=i.width;t.length&&t.length>n;)r>0||(r=i.width,_.push(t.substr(0,n)),t=t.substr(n),n=0),n++,r-=w*(u(t[n])?1.05:.6);(t||e)&&_.push(t)}),_.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:h,props:{left:$,top:m,fontsize:w,content:e,baseline:x,align:y,font:b,color:i.color,type:i.textToppe},$origin:t}),m+=S||w})}}if(a||o||(t.$rendered=void 0),d.length&&(0,s.default)(n,d,1),h.clip){var O={$id:t.$id,type:"clipOver",props:i};O.$origin=t,n.$children.push(O)}if(h.line){t.$rendered=!0;var T={$id:t.$id,type:"line",settings:h,props:i};T.$origin=t,n.$children.push(T)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o),a=function(t,e){var n=this,i=!1;return this.$extendList.forEach(function(o){if(o.onRender){var r=o.onRender.call(n,t,e);r&&(i=r)}}),i};t.exports=function(t,e,n){var i=this,o=e||i.$children;n||i.webgl||(o=o.filter(function(t){return t.props.$insight!==!1})),o.forEach(function(e,n){var l=e.props,s=void 0;if(l&&"clip"!==e.type&&"text"!==e.type&&"clipOver"!==e.type&&"line"!==e.type&&(s=l.width*l.height,s>4e4&&!e.settings.transform&&!e.settings.rotate))for(var c=o.length,u=n+1;c>u;u++){var f=o[u];if(!f.$cannotCover)if("clip"!==f.type){var d=f.settings;if(f.type&&"img"===f.type||"fillRect"===f.type&&d.fillRect.indexOf("rgba")===-1){var h=f.props;if(h.width*h.height<4e4)f.$cannotCover=!0;else if(h.width*h.height>=s)if(!f.img||f.img.$noAlpha){if(1!==d.globalAlpha||d.globalCompositeOperation||d.transform||d.rotate)f.$cannotCover=!0;else if(r.default.pointInRect(l.left,l.top,h.left,h.left+h.width,h.top,h.top+h.height)&&r.default.pointInRect(l.left+l.width,l.top+l.height,h.left,h.left+h.width,h.top,h.top+h.height))return void("production"!==process.env.NODE_ENV&&(e.$origin.$useless=!0))}else f.$cannotCover=!0}else f.$cannotCover=!0}else for(;c>u&&"clipOver"!==o[++u].type;);}var p=e.settings||{};if(!a.call(i,e,p)){"production"!==process.env.NODE_ENV&&e.$origin&&(e.$origin.$useless=!1);var g=t||i.$paintContext;"clip"===e.type&&(g.save(),g.beginPath(),g.moveTo(l.left,l.top),g.lineTo(l.left+l.width,l.top),g.lineTo(l.left+l.width,l.top+l.height),g.lineTo(l.left,l.top+l.height),g.lineTo(l.left,l.top),g.closePath(),g.clip());var v=!1;if(p.globalCompositeOperation&&(v||(g.save(),v=!0),g.globalCompositeOperation=p.globalCompositeOperation),g.$globalAlpha!==p.globalAlpha&&(g.$globalAlpha=g.globalAlpha=p.globalAlpha),p.translate&&(v||(g.save(),v=!0),g.translate(p.translate[0]||0,p.translate[1]||0)),p.rotate&&(v||(g.save(),v=!0),g.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),g.rotate(p.rotate||0),g.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),p.scale&&(v||(g.save(),v=!0),g.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(v||(g.save(),v=!0),g.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===e.type)g.drawImage(e.img,l.cutLeft,l.cutTop,l.cutWidth,l.cutHeight,l.left,l.top,l.width,l.height),"production"!==process.env.NODE_ENV&&i.$plugin&&i.$plugin.drawImage(i,l);else if("text"===e.type&&l.content)g.font=l.font,g.fillStyle=l.color||"white",g.textAlign=l.align,g.textBaseline=l.baseline,g[l.type||"fillText"](l.content,l.left,l.top);else if("fillRect"===e.type)g.fillStyle=p.fillRect,g.fillRect(l.left,l.top,l.width,l.height);else if("line"===e.type){g.beginPath();var $=l.border.substr(l.border.indexOf(" "))||"black";g.strokeStyle=$,g.lineWidth=l.border.split(" ")[0]||1,g.moveTo(l.left,l.top),g.lineTo(l.left+l.width,l.top),g.lineTo(l.left+l.width,l.top+l.height),g.lineTo(l.left,l.top+l.height),g.closePath(),g.stroke()}else"clipOver"===e.type&&g.restore();v&&(g.$globalAlpha=!1,g.restore())}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(116),r=i(o),a=n(120),l=i(a),s=n(113),c=i(s),u=n(47),f=i(u),d=n(114),h=i(d),p=n(48),g=i(p),v=n(115),$=i(v),m=n(117),y=i(m),b=n(118),w=i(b),x=n(119),S=i(x),E=n(46),_=i(E),O={start:l.default,paint:c.default,add:_.default.prototype.add,remove:r.default,register:$.default,clear:f.default,setFpsHandler:y.default,setMaxFps:w.default,pause:h.default,on:_.default.prototype.on,off:_.default.prototype.off,trigger:_.default.prototype.trigger,broadcast:_.default.prototype.broadcast,nextTick:g.default,getAllChildren:_.default.prototype.getAllChildren};"production"!==process.env.NODE_ENV&&(O.skeleton=S.default),t.exports=O},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o),a=n(4);i(a);t.exports=function(){if(!(this.$pausing||this.$inBrowser&&document.hidden)){var t=this;"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"custom","START"),r.default.execFuncs(t.hooks.beforeTick,t,[t.$rafTime]),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"preprocessTimeSpend","START"),t.children.forEach(function(t){t.recalculate()}),t.$freezing||(t.$lastTickChildren=t.$children,t.$children=[],this.children.sort(function(t,e){var n=r.default.funcOrValue(t.style.zIndex,t),i=r.default.funcOrValue(e.style.zIndex,e);return n===i?0:n>i?1:-1}).forEach(function(e,n){t.$perPaint(e,n)})),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"preprocessTimeSpend","END"),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"paintTimeSpend","START"),t.$paintContext.clearRect?(t.$paintContext.clearRect(0,0,this.width,this.height),t.$render()):t.$render(),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"paintTimeSpend","END"),r.default.execFuncs(t.hooks.ticked,t,[t.$rafTime]),t.hooks.nextTick&&(r.default.execFuncs(t.hooks.nextTick,t,[t.$rafTime]),delete t.hooks.nextTick),"production"!==process.env.NODE_ENV&&t.$plugin.timeCollect(t,"custom","END")}}},function(t,e){"use strict";t.exports=function(t){this.$pausing=void 0===t||t}},function(t,e){"use strict";var n=function(t){var e=this;this.$extendList.forEach(function(n){n.onCreate&&n.onCreate.call(e,t)})};t.exports=function(t,e){var i=this;"production"!==process.env.NODE_ENV&&(this.fpsHandler=this.fpsHandler||function(t){this.maxFps>0&&this.maxFps-5>t&&40>t&&console.warn("[Easycanvas] Low FPS detected ("+t+"/"+this.maxFps+").")});var o=e||{};t=this.$dom=t||this.$dom,"production"!==process.env.NODE_ENV&&(t||console.error('[Easycanvas] Not found <canvas> element in "register" function.'));for(var r in o)this[r]=o[r];if(this.name=o.name||t.id||t.classList&&t.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,o.fullScreen&&"undefined"!=typeof document&&(t.width=t.style.width=document.body.clientWidth||document.documentElement.clientWidth,t.height=t.style.height=document.body.clientHeight||document.documentElement.clientHeight),"production"!==process.env.NODE_ENV&&(o.width&&t.attributes.width&&o.width!==t.width||o.height&&t.attributes.height&&o.height!==t.height)&&console.warn('[Easycanvas] Canvas size mismatched in "register" function.'),t.width=this.width=this.width||o.width||t.width,t.height=this.height=this.height||o.height||t.height,"production"!==process.env.NODE_ENV&&this.$plugin.register(this),this.events=o.events||{},this.hooks=o.hooks||{},this.$inBrowser){var a=["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"];a.forEach(function(e){t.addEventListener(e,i.$eventHandler.bind(i))})}return"production"!==process.env.NODE_ENV&&this.$paintContext&&console.error("[Easycanvas] Current instance is already registered."),n.call(this,o),this.$paintContext=this.$paintContext||t.getContext("2d"),this}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=i(o);t.exports=function(t,e){r.default.execFuncs(t.hooks.beforeRemove,t,t.$tickedTimes++),t.style.visible=!1,t.$removing=!0,t.$parent?t.$parent.children=t.$parent.children.filter(function(t){return t.$removing!==!0}):this.children=this.children.filter(function(t){return t.$removing!==!0}),t.$canvas&&(t.$canvas=void 0,t.$parent=void 0,t.$tickedTimes=void 0,t.$cache={},t.$rendered=!1,"production"!==process.env.NODE_ENV&&(t.$perf=void 0),r.default.execFuncs(t.hooks.removed,t,t.$tickedTimes)),e&&this.children.splice(this.children.indexOf(t),1)}},function(t,e){"use strict";t.exports=function(t){this.fpsHandler=t}},function(t,e){"use strict";t.exports=function(t){this.maxFps=t||-1}},function(t,e){"use strict";"production"!==process.env.NODE_ENV&&(t.exports=function(){var t=this;t.children[0].__proto__.getAllChildren.call(t).forEach(function(t){t.uncombine(),t.$combine=!0}),t.paint(),t.children[0].__proto__.getAllChildren.call(t).forEach(function(t){t.$combine=!1});var e="";e+="var $SKL=document.getElementsByTagName('canvas')[0];",e+="$SKL.width="+t.width+";$SKL.height="+t.height+";",e+="$SKL.style.width='100%';$SKL.style.width='100%';",e+="var SKLIMG=[];",e+="var SKL = function(){",e+="var _=$SKL.getContext('2d');";var n=t.$children;n.forEach(function(t){var n=t.props,i=t.settings;"img"===t.type?(e+="_.globalAlpha="+i.globalAlpha+";",t.img&&t.img.$origin?(e+=t.img.$origin.join(";")+";",e+="_.drawImage(tempCanvas, "+n.cutLeft+", "+n.cutTop+", "+n.cutWidth+", "+n.cutHeight+", "+n.left+", "+n.top+", "+n.width+", "+n.height+");"):t.img&&t.img.src?(e+="var img = new Image();",e+="var imgUrl='"+t.img.src+"';if(SKLIMG.indexOf(imgUrl)===-1){SKLIMG.push(imgUrl);img.onload=function(){_.clearRect(0,0,$SKL.width,$SKL.height);SKL();}};",e+="img.src=imgUrl;",e+="_.drawImage(img, "+n.cutLeft+", "+n.cutTop+", "+n.cutWidth+", "+n.cutHeight+", "+n.left+", "+n.top+", "+n.width+", "+n.height+");"):(e+="_.fillStyle='#666';",e+="_.fillRect("+n.left+", "+n.top+", "+n.width+", "+n.height+");")):"fillRect"===t.type&&(e+="_.globalAlpha="+i.globalAlpha+";",e+="_.fillStyle='"+i.fillRect+"';",e+="_.fillRect("+n.left+", "+n.top+", "+n.width+", "+n.height+");")}),e+="_.globalAlpha=1;",e+="};SKL($SKL);",console.log(e)})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(56),r=i(o),a=n(16),l=i(a),s=function(){var t=Date.now();l.default.$lastPaintTime=this.$nextTickTime=t,1e3>t-this.fpsCalculateTime||(this.fpsCalculateTime=t,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,r.default)(c.bind(this))},c=function(t){if(this.$rafTime=t,s.call(this),this.maxFps>0&&60>this.maxFps){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()};t.exports=function(){return this.fpsCalculateTime=Date.now(),s.call(this),this}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(1),r=(i(o),n(4)),a=i(r);t.exports=function(){if("production"!==process.env.NODE_ENV){var t="__EASYCANVAS_BRIDGE_TOPANEL__",e=function(e){e.tabId=window[a.default.devFlag].tabId,window.document.dispatchEvent(new CustomEvent(t,{detail:JSON.parse(JSON.stringify(e))}))},n="24px san-serif",i="18px san-serif",o=function(t,e){var i=document.createElement("canvas"),o=i.getContext("2d");return o.font=e||n,o.measureText(t).width};setTimeout(function(){e({name:"init"})});var r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQYV2OYePb/fwAHrQNdl+exzgAAAABJRU5ErkJggg==",l=function(){var t=document.createElement("canvas");t.width=40,t.height=20;var e=t.getContext("2d");return e.beginPath(),e.moveTo(0,20),e.lineTo(40,20),e.lineTo(20,0),e.closePath(),e.fill(),t}(),s=null,c=null,u=["paintArea","paintTimes","paintTimeSpend","preprocessTimeSpend","custom","loadArea","jumpArea"],f={drawImage:function(t,e){window[a.default.devFlag].isPaintRecording&&(e&&(t.$perf.$paintArea+=e[7]*e[8],t.$perf.$loadArea+=e[3]*e[4]),t.$perf.$paintTimes++)},jumpRender:function(t,e){t.$perf.$jumpArea+=e[7]*e[8]},register:function(t){t.$id=Math.random().toString(36).substr(2),t.$perf={},u.forEach(function(e){t.$perf[e]=0,t.$perf["$"+e]=0}),setInterval(function(){u.forEach(function(e){t.$perf[e]=t.$perf["$"+e],t.$perf["$"+e]=0})},1e3),t.$flags.devtoolHanged||(window[a.default.devFlag].$canvas[t.$id]=t,t.$flags.devtoolHanged=!0)},timeCollect:function(t,e,n){t.$perf["$"+e]+=("START"===n||"PAUSE"===n?-1:1)*(performance?performance.now():Date.now())},selectSprite:function(t,u,d){if(window[a.default.devFlag].MaskCanvasBase64=r,!d||!window[a.default.devFlag].selectMode)return f.cancelSelectSprite(u),!1;if(!s){var h=0,p={},g={};s=u.add({name:a.default.devFlag,content:{img:u.imgLoader(r)},style:{border:function(){return this.getStyle("width")<2&&this.getStyle("height")<2?"10 rgba(0, 0, 255, 0.5)":"1 blue"}},webgl:void 0,children:u.$paintContext.clearRect?[{name:a.default.devFlag,data:{},style:{locate:"center",left:function(){var t=p.left+p.width/2;return 10>t-h/2?t=h/2+10:t+h/2>this.$canvas.width-10&&(t=this.$canvas.width-h/2-10),t-this.$parent.$cache.left},top:function(){var t=p.top+p.height+30;return(this.data.above=t+30>this.$canvas.height)&&(t=p.top-32),t-this.$parent.$cache.top},width:function(){return h},height:32,color:"orange",backgroundColor:"black",textVerticalAlign:"top",textAlign:"center",textFont:n},hooks:{beforeTick:function(){p=this.$parent.getRect(),this.content.text="<"+d.name+"> | "+Math.round(this.$parent.getStyle("width"))+"×"+Math.round(this.$parent.getStyle("height")),h=o(this.content.text)+20}},children:[{name:a.default.devFlag,content:{img:l},style:{left:function(){return p.left+p.width/2-this.$parent.$cache.left},top:function(){return this.$parent.data.above?21:-21},width:20,height:10,rotate:function(){return this.$parent.data.above?180:0}}}]},{name:a.default.devFlag,style:{visible:function(){return this.getStyle("width")<this.data.value},locate:"center",left:function(){var t=g.left+(s.getSelfStyle("left")-c.getSelfStyle("left"))/2;return t-this.$parent.$cache.left},top:function(){var t=s.getSelfStyle("top");return t-this.$parent.$cache.top},width:function(){return o(this.content.text,i)+10},height:20,backgroundColor:"#ddd",color:"black",textVerticalAlign:"middle",textAlign:"center",textFont:i},data:{},hooks:{beforeTick:function(){g=c.getRect(),this.data.value=Math.round(s.getSelfStyle("left")-c.getSelfStyle("left")),this.content.text="left: "+(this.data.value+"")}}},{name:a.default.devFlag,style:{visible:function(){return this.getStyle("height")<this.data.value},locate:"center",left:function(){var t=s.getSelfStyle("left");return t-this.$parent.$cache.left},top:function(){var t=g.top+(s.getSelfStyle("top")-c.getSelfStyle("top"))/2;return t-this.$parent.$cache.top},width:function(){return o(this.content.text,i)+10},height:20,backgroundColor:"#ddd",color:"black",textVerticalAlign:"middle",textAlign:"center",textFont:i},data:{},hooks:{beforeTick:function(){g=c.getRect(),this.data.value=Math.round(s.getSelfStyle("top")-c.getSelfStyle("top")),this.content.text="top: "+(this.data.value+"")}}}]:[]}),c=u.add({name:a.default.devFlag,style:{locate:"lt"},children:[{name:a.default.devFlag,style:{locate:"lt",left:0,top:0,width:function(){return s.getSelfStyle("left")-this.$parent.getStyle("left")},height:function(){return s.getSelfStyle("top")-this.$parent.getStyle("top")},backgroundColor:"rgba(140, 205, 255, 0.1)",border:"1 rgba(80, 120, 200, 0.9)"}}]})}if(["left","top","rotate","rx","ry","scale","width","height","locate"].forEach(function(t){!function(t){s.style[t]=function(){return"width"===t||"height"===t?d.getStyle(t)||d.getRect()[t]||.1:d.getStyle(t)}}(t)}),["left","top"].forEach(function(t){!function(t){c.style[t]=function(){return d.$parent?d.$parent.getStyle(t):0}}(t)}),s.style.zIndex=Number.MAX_SAFE_INTEGER,c.style.zIndex=Number.MAX_SAFE_INTEGER-1,s.style.visible=function(){return window[a.default.devFlag].selectMode&&d.$canvas},c.style.visible=function(){return window[a.default.devFlag].selectMode&&d.$parent&&d.$parent.$canvas},s.style.opacity=.8,s.webgl=d.webgl?{}:void 0){for(var v in d.webgl)!function(t){s.webgl[t]=function(){return"function"==typeof d.webgl[t]?d.webgl[t].call(d):d.webgl[t]}}(v);s.webgl.img=u.imgLoader(r),s.webgl.colors=!1,s.style.zIndex=Number.MIN_SAFE_INTEGER}return t&&(u.remove(s),u.remove(c),s=null,e({name:"selectSprite",id:u.$id,value:{sprite:d.$id,canvas:u.$id}}),window[a.default.devFlag].current={$sprite:d,$canvas:u},window[a.default.devFlag].selectMode=!1),!0},cancelSelectSprite:function(t){s&&(t.remove(s),t.remove(c),s=null)}};return f}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(112),r=i(o),a=n(107),l=i(a),s=n(123),c=i(s),u=n(31),f=i(u),d=function(t){this.imgLoader=f.default;for(var e in c.default)this[e]=this[e]||JSON.parse(JSON.stringify(c.default[e]));t&&(t.el||(t={el:t}),t.el&&this.register("string"==typeof t.el?document.querySelector(t.el):t.el,t))};d.prototype.$extendList=[];for(var h in l.default)Object.prototype.hasOwnProperty.call(l.default,h)&&(d.prototype[h]=l.default[h]);for(var p in r.default)Object.prototype.hasOwnProperty.call(r.default,p)&&(d.prototype[p]=r.default[p]);
t.exports=d},function(t,e){"use strict";var n={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1,$flags:{}};t.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(31),r=i(o),a=n(32),l=i(a);t.exports=function(t,e){var n;return(0,l.default)(t,function(t){return(0,r.default)(t,function(t){for(var i=t.width,o=t.height,r=t.getContext("2d").getImageData(0,0,i,o),a=r.data,l=a.length-1;l>=0;l-=4)if(e&&e.conversion){var s=e.conversion({r:a[l-3],g:a[l-2],b:a[l-1],a:a[l]},(l+1>>2)%i,Math.floor((l+1>>2)/i));a[l-3]=s.r,a[l-2]=s.g,a[l-1]=s.b,a[l-0]=s.a}t.getContext("2d").clearRect(0,0,i,o),t.getContext("2d").putImageData(r,0,0),n=t},{canvas:!0,cacheFlag:Math.random()})}),function(){return n}}},function(t,e){"use strict";t.exports=function(t){var e=t.width,n=t.height,i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");o.scale(1,-1),o.translate(0,-n),o.drawImage(t,0,0);var r=o.getImageData(0,0,e,n);return{canvas:o,img:r}}},function(t,e){"use strict";t.exports=function(t,e){return{type:"multline-text",text:t,config:e}}}])});