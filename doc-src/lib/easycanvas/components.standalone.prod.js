!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var l=t();for(var o in l)("object"==typeof exports?exports:e)[o]=l[o]}}(this,function(){return function(e){function t(o){if(l[o])return l[o].exports;var r=l[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var l={};return t.m=e,t.c=l,t.p="",t(0)}({0:function(e,t,l){e.exports=l(101)},1:function(e,t){"use strict";var l={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){return"function"==typeof e?e.call(t):e},execFuncs:function(e,t,o){e&&(l.isArray(o)||(o=[o])),"function"==typeof e?e.apply(t,o):l.isArray(e)&&e.length&&e.forEach(function(e){e&&e.apply(t,o)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,l,o,r,n){return!(e<l||e>o||t<r||t>n)},firstValuable:function(e,t,l){return"undefined"==typeof e?"undefined"==typeof t?l:t:e}};e.exports=l},3:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="undefined"!=typeof window;t.default=function(e,t){l&&window.Easycanvas&&(Easycanvas.class[t]=function(t){return e(Easycanvas.sprite,t)})}},15:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={},r="\n".slice(0,1),n=function(e,t){var l=String(e),n=l+JSON.stringify(t);if(t.fontSize=t.fontSize||16,o[n])return o[n];var i;t.padding?(i=t.padding.split(" "),i=i.map(function(e){return parseInt(e)}),i[1]=Number(i[1]||i[0]),i[2]=Number(i[2]||i[0]),i[3]=Number(i[3]||i[1])):i=[0,0,0,0];var s=t.minWidth||t.width||(t.fontSize||16)*l.length+i[1]+i[3]+100,c=l.split("\n").length,a=t.fontSize*(Math.round(l.length)/s+c-1)*(t.lineHeight||t.fontSize)+i[0]+i[2]+100,u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");window.tempCanvas=u,window.tempCtx=f,f.textBaseline="middle",f.font=(t.fontStyle?t.fontStyle+" ":"")+t.fontSize+"px "+(t.family||"serif"),f.fillStyle=t.color||"#000",f.textAlign=t.textAlign||"left";for(var d=0,h=t.lineHeight?(t.lineHeight-t.fontSize)/2:0,p=0,v=1,g=0,m=0,y=1;;)if(m=f.measureText(l.slice(p,v)).width,m>t.width){if("ellipsis"===t.textOverflow){v-=2,f.fillText(l.slice(p,v)+"...",d,h+t.fontSize/2),h+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:0),y++,g=t.width-i[1]-i[3];break}v-=1,f.fillText(l.slice(p,v),d,h+t.fontSize/2),p=v,v=p+1,h+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:10),y++}else{if(v>l.length-1){m>g&&(g=m),f.fillText(l.slice(p,v),d,h+t.fontSize/2),h+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:0);break}l.slice(v,v+1)===r&&(f.fillText(l.slice(p,v),d,h+t.fontSize/2),v+=1,p=v,v=p+1,h+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:10),y++),m>g&&(g=m),v++}var S=document.createElement("canvas");S.lastLineLeft=m,S.lineCount=y,S.width=Math.max(g+i[1]+i[3],t.minWidth||0),S.height=h+i[0]+i[2];var $=S.getContext("2d");if(t.backgroundColor&&($.fillStyle=t.backgroundColor,$.fillRect(0,0,S.width,S.height)),$.drawImage(u,(S.width-g)/2,i[0]),t.border){var b=t.border.split(" "),w=b.pop();"solid"===b[b.length-1]&&b.pop();var x=b[0],Y=b[1]||x,O=b[2]||x,T=b[3]||Y||x;x=parseInt(x),Y=parseInt(Y),O=parseInt(O),T=parseInt(T);var _=t.borderRadius||0;if($.beginPath(),$.strokeStyle=w,x&&($.lineWidth=x,$.moveTo(T?_:0,0),$.lineTo(S.width-(Y?_:0),0)),Y&&($.lineWidth=Y,$.moveTo(S.width,x?_:0),$.lineTo(S.width,S.height-(O?_:0))),O&&($.lineWidth=O,$.moveTo(T?_:0,S.height),$.lineTo(S.width-(Y?_:0),S.height)),T&&($.lineWidth=T,$.moveTo(0,x?_:0),$.lineTo(0,S.height-(O?_:0))),$.stroke(),_){var M=document.createElement("canvas"),P=Math.min(S.width,S.height);M.width=M.height=P;var X=M.getContext("2d");X.beginPath(),X.strokeStyle=w,X.arc(P>>1,P>>1,(P>>1)-1,0,2*Math.PI),X.stroke(),x&&Y&&$.drawImage(M,P>>1,0,P>>1,P>>1,S.width-_,0,_,_),O&&Y&&$.drawImage(M,P>>1,P>>1,P>>1,P>>1,S.width-_,S.height-_,_,_),x&&T&&$.drawImage(M,0,0,P>>1,P>>1,0,0,_,_),O&&T&&$.drawImage(M,0,P>>1,P>>1,P>>1,0,S.height-_,_,_)}}return o[n]=S,S};t.default=n},16:function(e,t,l){"use strict";var o=l(1),r=Math.PI,n=function(e){return e.$lastPaintTime||Date.now()},i={linear:function(e,t,l){var o=n(this),r=!1,i=void 0,s=function(){var n=this.$lastPaintTime,c=(n-o)/l,a=(t-e)*c+e;if(r)if(t>e)for(;a>t;)a-=t-e;else for(;a<t;)a+=e-t;else t>e&&a>t?(s.$done=!0,a=t):t<e&&a<t&&(s.$done=!0,a=t);return c>=1&&i&&(i.call(this,a),i=null),a}.bind(this);return s.loop=function(){return r=!0,s},s.restart=function(){return o=n(this),s},s.then=function(e){return i=e,s},s},pendulum:function(e,t,l,o){var i=n(this),s=o||{};s.start=s.start||0;var c=!1,a=void 0,u=s.cycle||1,f=function(){var o=n(this),d=(o-i)/l;c?u&&(d%=u):u?d>u&&(d=u,f.$done=!0,d=u):d>1&&(f.$done=!0,d=1);var h=d*r*2-r/2+s.start/360*r,p=(t-e)*(Math.sin(h)+1)/2+e;return d>=u&&a&&(a.call(this,p),a=null),p}.bind(this);return f.loop=function(){return c=!0,f},f.restart=function(){return i=n(this),f},f.then=function(e){return a=e,f},f},ease:function(e,t,l){return this.pendulum(e,t,2*l,{cycle:.5})},oneByOne:function(e){var t=e,l=!1,o=function(){for(var e=0;e<t.length;e++){if(!t[e].$done)return t[e]();if(!t[e].$nextRestart&&(t[e].$nextRestart=!0,t[e+1]))return t[e+1].restart(),t[e+1]()}if(l){for(var o=0;o<t.length;o++)t[o].$done=!1,t[o].$nextRestart=!1,t[o].restart();return t[0]()}return t[t.length-1]()};return o.loop=function(){return l=!0,o},o}},s=function e(t,l,r,n,s){var c=(0,o.funcOrValue)(t[l]);c=c||0,t[l]=i[r].bind(e)(c,n,s)};for(var c in i)s[c]=i[c];e.exports=s},22:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},n=l(15),i=o(n),s=l(3),c=o(s),a={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(e,t){e.buttonStyleNormal=r(a,{minWidth:t.style.width,lineHeight:t.style.height,padding:0},t.props.normal),e.buttonStyleHovered=r({},e.buttonStyleNormal,t.props.hovered),e.buttonStylePressed=r({},e.buttonStyleNormal,t.props.pressed),e.imageNormal=(0,i.default)(t.props.text||"",e.buttonStyleNormal),e.imageHovered=t.props.hovered&&(0,i.default)(t.props.text||"",e.buttonStyleHovered),e.imagePressed=t.props.pressed&&(0,i.default)(t.props.text||"",e.buttonStylePressed)},f=function(e,t){var l=void 0;t.props=t.props||{};var o={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};u(o,t);var r={};return t.events=t.events||{},r.touchmove=r.mousemove=function(){l.content.img=o.imageHovered||o.imageNormal},r.touchstart=r.mousedown=function(){l.content.img=o.imagePressed||o.imageHovered||o.imageNormal},r.touchend=r.touchout=r.mouseout=function(){l.content.img=o.imageNormal},r.mouseup=function(){l.content.img=o.imageHovered||o.imageNormal},r.click=function(e){t.events.click&&t.events.click.call(l,e)},l=new e({name:t.name||"button_"+t.props.text,content:{img:o.imageNormal},style:t.style,props:t.props,events:r,hooks:t.hooks}),l.update=function(e){this.__proto__.update.call(this,e),u(o,t),l.content.img=o.imageNormal},l};(0,c.default)(f,"button"),t.default=f},23:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=l(3),n=o(r),i=function(e,t){var l=void 0,o=t||{};return o.name=o.name||"Image",l=new e(o),l.content.img=o.src,Object.defineProperty(l,"src",{get:function(){return l.content.img?l.content.img.src:""},set:function(e){l.content.img=e}}),l};(0,n.default)(i,"image"),t.default=i},24:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},n=l(1),i=l(16),s=o(i),c=l(3),a=o(c),u=void 0,f=function(e,t){return Math.abs(e)<Math.abs(t)?e:t},d={loose:function(e){e.$scroll.touching=!1},looper:function(e){if(e.$scroll&&e.$scroll.$scrolling){if(Math.abs(e.$scroll.speedX)>1?e.$scroll.speedX*=e.scroll.smooth||.8:e.$scroll.speedX=0,Math.abs(e.$scroll.speedY)>1?e.$scroll.speedY*=e.scroll.smooth||.8:e.$scroll.speedY=0,Math.abs(e.$scroll.speedX)<=1&&Math.abs(e.$scroll.speedY)<=1)return e.$scroll.$scrolling=!1,void(e.$scroll.$wheeling=!1);if(!e.$scroll.touching){if(e.scroll.scrollY-=e.$scroll.speedY,e.scroll.scrollX-=e.$scroll.speedX,!e.$scroll.touching&&!e.$scroll.$wheeling&&Math.abs(e.$scroll.speedY)<50&&e.scroll.anchors&&e.scroll.anchors.length)for(var t=e.scroll.anchorsRange||400,l=0;l<e.scroll.anchors.length;l++){var o=e.scroll.anchors[l],r=e.scroll.scrollY-o;if(r>0&&r<t&&e.$scroll.speedY>0||r<0&&r>-t&&e.$scroll.speedY<0){e.trigger("scrollTo",o,200),e.$scroll.speedY=0;break}}var i=(0,n.funcOrValue)(e.scroll.minScrollX,e),s=(0,n.funcOrValue)(e.scroll.maxScrollX,e),c=(0,n.funcOrValue)(e.scroll.minScrollY,e),a=(0,n.funcOrValue)(e.scroll.maxScrollY,e);!isNaN(c)&&e.scroll.scrollY<c?e.scroll.scrollY=c:!isNaN(a)&&e.scroll.scrollY>a&&(e.scroll.scrollY=a,e.broadcast("scrolledToBottom"),e.$scroll.speedY=0),!isNaN(i)&&e.scroll.scrollX<i?e.scroll.scrollX=i:!isNaN(s)&&e.scroll.scrollX>s&&(e.scroll.scrollX=s)}}},touch:function(e,t){var l=Date.now();if(e.$scroll.$wheeling=!1,e.$scroll.touching){e.$scroll.$scrolling=!0;var o=e.$scroll.startPos.x-t.canvasX,r=e.$scroll.startPos.y-t.canvasY,i=l-e.$scroll.touching;e.$scroll.touching=l;var s=(0,n.funcOrValue)(e.scroll.minScrollX,e),c=(0,n.funcOrValue)(e.scroll.maxScrollX,e),a=(0,n.funcOrValue)(e.scroll.minScrollY,e),u=(0,n.funcOrValue)(e.scroll.maxScrollY,e);if((e.scroll.scrollX+o<s||e.scroll.scrollX+o>c)&&(e.scroll.flexible||e.scroll.flexibleX?o>>=3:o=0),(e.scroll.scrollY+r<a||e.scroll.scrollY+r>u)&&(e.scroll.flexible||e.scroll.flexibleY?r>>=3:r=0),(0,n.funcOrValue)(e.scroll.scrollableX,e)&&Math.abs(o)>=1&&i>1){var d=(t.canvasX-e.$scroll.startPos.x)/i*25;e.$scroll.lastScrollSpeed*d>0&&Math.abs(d)>15&&(d+=f(d,e.$scroll.lastScrollSpeed)),e.$scroll.speedX=(e.$scroll.lastTouchSpeed+d)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=d,e.scroll.scrollX+=o}if((0,n.funcOrValue)(e.scroll.scrollableY,e)&&Math.abs(r)>=1&&i>1){var h=(t.canvasY-e.$scroll.startPos.y)/i*25;e.$scroll.lastScrollSpeed*h>0&&Math.abs(h)>15&&(h+=f(h,e.$scroll.lastScrollSpeed)),e.$scroll.speedY=(e.$scroll.lastTouchSpeed+h)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=h,e.scroll.scrollY+=r}if(e.$scroll.startPos.x=t.canvasX,e.$scroll.startPos.y=t.canvasY,Math.abs(o)>Math.abs(r)+1)return 1;if(Math.abs(o)<Math.abs(r)-1)return 2}else e.$scroll.touching=l,e.$scroll.quickTouch=l,e.$scroll.lastTouchSpeed=0,e.$scroll.startPos.x=t.canvasX,e.$scroll.startPos.y=t.canvasY,e.$scroll.lastScrollSpeed=e.$scroll.speedX||e.$scroll.speedY,e.$scroll.speedX=0,e.$scroll.speedY=0},wheel:function(e,t){e.$scroll.speedX=(0,n.funcOrValue)(e.scroll.scrollableX,e)?t.event.wheelDeltaX:0,e.$scroll.speedY=(0,n.funcOrValue)(e.scroll.scrollableY,e)?t.event.wheelDeltaY:0,e.$scroll.$scrolling=!0,e.$scroll.$wheeling=!0,t.stopPropagation()}},h=function(e,t){var l=!1,o=!1,n=t||{};n.scroll=r({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var e=this,t=0;return this.getChildren().forEach(function(l){var o=l.getSelfStyle("left")+l.getSelfStyle("width")-e.getStyle("width");o>t&&(t=o)}),t},minScrollY:0,maxScrollY:function(){var e=this,t=0;return this.getChildren().forEach(function(l){var o=l.getSelfStyle("top")+l.getSelfStyle("height")-e.getStyle("height");o>t&&(t=o)}),t},propagationX:!1,propagationY:!1},t.scroll);var i=function e(){l&&(a.scroll.scrollX=l()),o&&(a.scroll.scrollY=o()),l||o||a.off("ticked",e)},c=!1;n.events=r({touchstart:function(e){d.loose(this),c=!0,u=!1,d.touch(this,e),a.scroll.propagationX||a.scroll.propagationY||e.stopPropagation()},touchmove:function(e){if(c&&(!u||this===u)){var t=d.touch(this,e);1===t&&a.scroll.propagationY?(e.stopPropagation(),u=this):2===t&&a.scroll.propagationX&&(e.stopPropagation(),u=this)}},mousewheel:function(e){c=!0,d.wheel(this,e),e.stopPropagation()},touchend:function(){c=!1,d.loose(this)},mouseup:function(){c=!1,d.loose(this)}},n.events||{}),n.scroll.capture&&(n.events.interceptor=function(e){return a.events[e.type]?(a.events[e.type].call(a,e),!1):e});var a=new e(n);a.on("ticked",function(){d.looper(a)}),a.on("scrollTo",function(e,t,r){var n=void 0;return l=s.default.ease(a.scroll.scrollY,e,r||200,{cycle:.5}).then(function(){l=!1,n&&n(),n=!1}),o=s.default.ease(a.scroll.scrollY,t,r||200,{cycle:.5}).then(function(){o=!1,n&&n(),n=!1}),a.on("ticked",i),{then:function(e){n=e}}}),a.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var f=a.add({name:"scrolling-element",style:{left:function(){return-this.$parent.scroll.scrollX},top:function(){return-this.$parent.scroll.scrollY}}});return a.add=f.add.bind(f),a.clear=f.clear.bind(f),a.getChildren=function(){return f.children},a};(0,a.default)(h,"scroll"),t.default=h},25:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=l(1),n=l(3),i=o(n),s=function(e,t){var l=new e(t);return t.props.index=t.props.index||0,l.on("beforeTick",function(){var e=this.props,t=(0,r.funcOrValue)(this.content.img,this);if(t&&t.width){var l=e.index||0;l<0&&(l=0);var o=void 0,n=void 0;if(e.frameWidth||e.frameHeight){o=e.frameWidth<0?t.width/-e.frameWidth:e.frameWidth,n=e.frameHeight<0?t.height/-e.frameHeight:e.frameHeight;var i=Math.floor(t.width/o),s=Math.floor(t.height/n);this.style.cutLeft=l%i*o,this.style.cutTop=Math.floor(l/i)%s*n}!e.loop&&l>0&&0===this.style.cutLeft&&0===this.style.cutTop&&(this.style.img=void 0,e.onOver?e.onOver.call(this):this.remove()),e.lastFrameTime=e.lastFrameTime||0,this.$canvas.$nextTickTime-e.lastFrameTime>=(0,r.funcOrValue)(e.interval,this)&&(e.lastFrameTime=this.$canvas.$nextTickTime,e.index++),this.style.cutWidth=this.style.cutWidth||o,this.style.cutHeight=this.style.cutHeight||n,this.style.width=this.style.width||o,this.style.height=this.style.height||n}}),l};(0,i.default)(s,"sequence"),t.default=s},26:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},n=l(15),i=o(n),s=l(3),c=o(s),a={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(e){e.content.img=e.text?(0,i.default)(e.text,r({},a,{lineHeight:e.style.fontSize},e.style)):void 0},f=function(e,t){var l=void 0;return t.name=t.name||"Text",l=new e(t),u(l),Object.defineProperty(l,"text",{get:function(){return l.content.text},set:function(e){l.content.img=text}}),l.update=function(e){this.__proto__.update.call(this,e),u(this)},l};(0,c.default)(f,"text"),t.default=f},27:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=l(3),n=o(r),i=function(e,t){var l=void 0,o=t||{};return o.name=o.name||"View",l=new e(o)};(0,n.default)(i,"view"),t.default=i},101:function(e,t,l){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.Text=t.Sequence=t.Scroll=t.Image=t.Button=void 0;var r=l(22),n=o(r),i=l(23),s=o(i),c=l(24),a=o(c),u=l(25),f=o(u),d=l(26),h=o(d),p=l(27),v=o(p);t.Button=n.default,t.Image=s.default,t.Scroll=a.default,t.Sequence=f.default,t.Text=h.default,t.View=v.default}})});