!function(t,e){for(var i in e)t[i]=e[i]}(window,function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=40)}([function(t,e,i){"use strict";var n={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,e){return"function"==typeof t?t.call(e,e):t},execFuncs:function(t,e,i){t&&(n.isArray(i)||(i=[i])),"function"==typeof t?t.apply(e,i):n.isArray(t)&&t.length&&t.forEach(function(t){t&&t.apply(e,i)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,e,i,n,r,o){return!(t<i||t>n||e<r||e>o)},firstValuable:function(t,e,i){return void 0===t?void 0===e?i:e:t}};t.exports=n},,function(t,e,i){"use strict";t.exports=function(t,e,i,n,r,o){var a=r?-r/180*3.141593:0,l=t,s=e;return r&&(l=(t-i)*Math.cos(a)-(e-n)*Math.sin(a)+i,s=(t-i)*Math.sin(a)+(e-n)*Math.cos(a)+n),o?[l,s]:{x:l,y:s}}},function(t,e,i){"use strict";var n=["cutLeft","cutTop","cutWidth","cutHeight"],r=["left","top","width","height"],o=n.concat(r),a=o.concat(["locate","rotateOriginLeft","rotateOriginTop","zIndex","fontSize","fontFamily","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","borderWidth","borderColor","overflow","overflowX","overflowY"]);t.exports={txywh:r,sxywh:n,xywh:o,styles:a,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.8.4"}},,,,function(t,e,i){"use strict";var n=y(i(0)),r=y(i(3)),o=y(i(52)),a=y(i(53)),l=y(i(54)),s=y(i(55)),c=y(i(19)),f=y(i(20)),u=y(i(56)),h=y(i(57)),d=y(i(58)),p=y(i(59)),g=y(i(60)),v=y(i(61)),$=y(i(62));function y(t){return t&&t.__esModule?t:{"default":t}}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=function k(t){t.children&&t.children.forEach(function(e,i){e.$id||(t.children[i]=new O(e)),t.$id&&!t.$dom?(t.children[i].$canvas=t.$canvas,t.children[i].$parent=t):t.children[i].$canvas=t,k(t.children[i])})},x=function(t,e){var i=t||{};return i.$id||(i.$id=Math.random().toString(36).substr(2)),i.$tickedTimes=i.$tickedTimes||0,i.content=i.content||{},i.style=i.style||{},i.style.scale=n["default"].firstValuable(i.style.scale,1),i.style.opacity=n["default"].firstValuable(i.style.opacity,1),i.style.borderWidth=n["default"].firstValuable(i.style.borderWidth,0),i.style.zIndex=i.style.zIndex||0,i.style.locate=i.style.locate||"center",e.$cache={},e.$render={},e.$style={},e.$self={},e.$selfChanged=!1,e.$needUpdate={},i.hooks=i.hooks||{},r["default"].styles.concat(["visible"]).forEach(function(t){e.$cache[t]=undefined,e.$style[t]=i.style[t],"function"==typeof i.style[t]&&(e.$style[t]=i.style[t].bind(e)),r["default"].xywh.indexOf(t)>-1?e.$style[t]=e.$style[t]||("width"===t||"height"===t?undefined:0):["opacity","scale"].indexOf(t)>-1&&(e.$style[t]=n["default"].firstValuable(e.$style[t],1)),e.$needUpdate[t]=1,Object.defineProperty(i.style,t,{get:function(){return e.$style[t]},set:function(i){e.$style[t]!==i&&(e.$style[t]=i,e.$needUpdate[t]=1)}})}),i.events=i.events||{},i.children=i.children||[],i.children=function o(t){var e=isNaN(arguments[1])?1:Number(arguments[1]);return e?Array.prototype.reduce.call(t,function(t,i){return Array.isArray(i)?t.push.apply(t,o(i,e-1)):t.push(i),t},[]):Array.prototype.slice.call(t)}(i.children,Infinity),b(i),i.$styleCacheTime={},i},w=function(t){var e=this;this.$extendList.forEach(function(i){i.call(e,t)})},O=function(t){var e=x(t,this);for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(this[i]=e[i]);return t.ref&&t.ref(this),w.call(this,e),this};O.prototype.$extendList=[],O.prototype.add=function(t){if(t)return this.children.push(t),b(this),this.children[this.children.length-1]},O.prototype.getImage=function(){var t=n["default"].funcOrValue(this.content.img,this);return"string"==typeof t&&this.$canvas?this.$canvas.imgLoader(t):t},O.prototype.getRect=function(t){var e=this,i={};r["default"].txywh.forEach(function(n){i[n]=e.getStyle(n,t)||0});var n=this.getStyle("locate");return"lt"===n||("ld"===n?i.top-=i.height:"rt"===n?i.left-=i.width:"rd"===n?(i.left-=i.width,i.top-=i.height):(i.left-=i.width>>1,i.top-=i.height>>1)),i.right=i.left+i.width,i.bottom=i.top+i.height,i},O.prototype.getSelfStyle=function(t){if(t)return n["default"].funcOrValue(this.style[t],this);var e={};for(var i in this.style)e[i]=n["default"].funcOrValue(this.style[i],this);return e},O.prototype.getStyle=function(t,e){if(e&&this.$cache[t]!==undefined)return this.$cache[t];var i=n["default"].funcOrValue(this.$style[t],this);if(this.$parent){var r=this.$parent.getStyle(t);if("left"===t||"top"===t)return(r=n["default"].firstValuable(r,0))+n["default"].firstValuable(i,0);if("scale"===t||"opacity"===t)return(r=n["default"].firstValuable(r,1))*n["default"].firstValuable(i,1);if("visible"===t)return!1!==r&&i;if("width"===t||"height"===t||void 0===i)return i=this.$cache[t]}return i},O.prototype.remove=function(t){if(t)return this.$canvas.remove(t),void n["default"].execFuncs(t.hooks.removed,t);this.$parent?this.$parent.remove(this):this.$canvas.remove(this),n["default"].execFuncs(this.hooks.removed,this)},O.prototype.update=function(t){if(t){for(var e in t)if("object"===m(t[e]))for(var i in t[e])this[e]||(this[e]={}),this[e][i]=t[e][i];else this[e]=t[e];return this.$canvas&&this.recalculate(!0),this}},O.prototype.getAllChildren=function(t){var e=t?[this]:[];return this.children.forEach(function(t){e=e.concat(t.getAllChildren(!0))}),e},O.prototype.getAllVisibleChildren=function(t){if(!1===n["default"].funcOrValue(this.style.visible,this))return[];var e=t?[this]:[];return this.children.forEach(function(t){e=e.concat(t.getAllVisibleChildren(!0))}),e},O.prototype.getOuterRect=p["default"],O.prototype.combine=g["default"],O.prototype.uncombine=v["default"],O.prototype.combineAsync=function(){return this.$combine?this:(this.off("ticked",this.combine),this.on("ticked",this.combine,100),this)},O.prototype.recalculate=$["default"],O.prototype.nextTick=f["default"],O.prototype.on=o["default"],O.prototype.off=a["default"],O.prototype.addEventListener=l["default"],O.prototype.removeEventListener=s["default"],O.prototype.clear=c["default"],O.prototype.trigger=u["default"],O.prototype.broadcast=h["default"],O.prototype.distribute=d["default"],t.exports=O},function(t,e,i){"use strict";r(i(2));var n=r(i(9));function r(t){return t&&t.__esModule?t:{"default":t}}t.exports=function(t,e,i,r,o,a,l,s,c,f,u){if(!u){if(e>a+s)return!1;if(a>e+r)return!1;if(t>o+l)return!1;if(o>t+i)return!1}return!!((0,n["default"])(t,e,o,a,l,s,c,f,u)||(0,n["default"])(t+i,e,o,a,l,s,c,f,u)||(0,n["default"])(t,e+r,o,a,l,s,c,f,u)||(0,n["default"])(t+i,e+r,o,a,l,s,c,f,u))||(!!((0,n["default"])(o,a,t,e,i,r,c,f,-u)||(0,n["default"])(o+l,a,t,e,i,r,c,f,-u)||(0,n["default"])(o,a+s,t,e,i,r,c,f,-u)||(0,n["default"])(o+l,a+s,t,e,i,r,c,f,-u))||(e>a&&e+r<a+s&&t<o&&t+i>o+l||t>o&&t+i<o+l&&e<a&&e+r>a+s))}},function(t,e,i){"use strict";var n;(n=i(2))&&n.__esModule;t.exports=function(t,e,i,n,r,o,a,l,s){var c=s?-s/180*3.141593:0;return c&&(e=((t=(t-a)*Math.cos(c)-(e-l)*Math.sin(c)+a)-a)*Math.sin(c)+(e-l)*Math.cos(c)+l),t>=i&&t<=i+r&&e>=n&&e<=n+o}},function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r={},o=[],a="undefined"!=typeof window&&Image,l=0,s=function c(t,e,i){var s=i||{},f=c.cacheCanvas;if("object"===n(t)){var u=t;return s.callbackArgs=s.callbackArgs||[],void c(u.shift(),function(t){s.callbackArgs.push(t),u.length>1?c(u,e,s):c(u[0],function(t){s.callbackArgs.push(t),e(s.callbackArgs)},s)},i)}var h=t+"_"+JSON.stringify(i)+"_"+f;if(r[h])return e?void(r[h].width&&e?e(r[h]):setTimeout(function(){c(t,e,i)},100)):r[h];var d,p=new a;return p._complete=!1,s.block?(p.src=t,l++):0===l?p.src=t:o.push({imgObj:p,src:t}),r[h]=p,(s.canvas||s.alphaColor||f)&&((d=document.createElement("canvas")).width=d.height||0,r[h]=d),p.onload=function(t){if(p._complete=!0,"jpg"===p.src.substr(-3)||"jpeg"===p.src.substr(-3)||"bmp"===p.src.substr(-3)?p.$noAlpha=!0:0===p.src.indexOf("data:image/jpg;")&&(p.$noAlpha=!0),s.block&&0===--l&&(o.forEach(function(t){t.imgObj.src=t.src}),o.splice(0)),d&&(s.canvas||s.alphaColor||f)){var i=d.getContext("2d");if(d.width=p.width,d.height=p.height,d.$noAlpha=p.$noAlpha,i.drawImage(p,0,0),s.alphaColor){for(var n=i.getImageData(0,0,p.width,p.height),r=0;r<n.data.length;r+=4){var a=n.data[r]+n.data[r+1]+n.data[r+2];n.data[r]<1&&n.data[r+1]<1&&n.data[r+2]<1&&(n.data[r+3]=Math.floor(a/255))}i.putImageData(n,0,0),d.$noAlpha=!1}p=d}e&&e(p)},p.onerror=function(){r[h]=p},d||p};s.cacheCanvas=!1,t.exports=s},function(t,e,i){"use strict";var n="processing",r={};t.exports=function o(t,e){if(t&&t.match(/^data:/))e&&e(t);else if(r[t])r[t]!==n?e(r[t]):setTimeout(function(){o(t,e)},100);else{r[t]=n;var i=new XMLHttpRequest;i.onload=function(){var n=new FileReader;n.onloadend=function(){r[t]=n.result,e&&e(n.result)},n.readAsDataURL(i.response)},i.open("GET",t),i.responseType="blob",i.send()}}},,,,,,function(t,e,i){"use strict";var n=function(t){setTimeout(t,1e3/60)},r="undefined"!=typeof requestAnimationFrame&&(requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||n;t.exports=r},function(t,e,i){"use strict";var n=i(0),r=Math.PI,o=function(t){return t.$lastPaintTime||Date.now()},a={linear:function(t,e,i){var n,r=o(this),a=!1,l=function(){var o=(this.$lastPaintTime-r)/i,s=(e-t)*o+t;if(a)if(e>t)for(;s>e;)s-=e-t;else for(;s<e;)s+=t-e;else e>t&&s>e?(l.$done=!0,s=e):e<t&&s<e&&(l.$done=!0,s=e);return o>=1&&n&&(n.call(this,s),n=null),s}.bind(this);return l.loop=function(){return a=!0,l},l.restart=function(){return r=o(this),l},l.then=function(t){return n=t,l},l},pendulum:function(t,e,i,n){var a=o(this),l=n||{};l.start=l.start||0;var s,c=!1,f=l.cycle||1,u=function(){var n=(o(this)-a)/i;c?f&&(n%=f):f?n>f&&(n=f,u.$done=!0,n=f):n>1&&(u.$done=!0,n=1);var h=n*r*2-r/2+l.start/360*r,d=(e-t)*(Math.sin(h)+1)/2+t;return n>=f&&s&&(s.call(this,d),s=null),d}.bind(this);return u.loop=function(){return c=!0,u},u.restart=function(){return a=o(this),u},u.then=function(t){return s=t,u},u},ease:function(t,e,i){return this.pendulum(t,e,2*i,{cycle:.5})},oneByOne:function(t){var e=t,i=!1,n=function(){for(var t=0;t<e.length;t++){if(!e[t].$done)return e[t]();if(!e[t].$nextRestart&&(e[t].$nextRestart=!0,e[t+1]))return e[t+1].restart(),e[t+1]()}if(i){for(var n=0;n<e.length;n++)e[n].$done=!1,e[n].$nextRestart=!1,e[n].restart();return e[0]()}return e[e.length-1]()};return n.loop=function(){return i=!0,n},n}},l=function c(t,e,i,r,o){var l=(0,n.funcOrValue)(t[e]);l=l||0,t[e]=a[i].bind(c)(l,r,o)};for(var s in a)l[s]=a[s];t.exports=l},function(t,e,i){"use strict";t.exports=function(){this.children.forEach(function(t){t.remove()}),this.children=[]}},function(t,e,i){"use strict";t.exports=function(t){this.on("ticked",function e(){t.apply(this,arguments),this.off("ticked",e)})}},,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(41)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Painter",{enumerable:!0,get:function(){return n["default"]}}),Object.defineProperty(e,"tick",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(e,"utils",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(e,"Transition",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(e,"ImgLoader",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(e,"ImgPretreat",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(e,"extend",{enumerable:!0,get:function(){return f["default"]}}),e.Sprite=e["default"]=void 0;u(i(3));var n=u(i(42)),r=u(i(17)),o=u(i(0)),a=u(i(18)),l=u(i(10)),s=u(i(70)),c=u(i(7)),f=u(i(71));function u(t){return t&&t.__esModule?t:{"default":t}}i(72);var h=c["default"];e.Sprite=h;var d={Painter:n["default"],ImgLoader:l["default"],ImgPretreat:s["default"],Transition:a["default"],tick:r["default"],utils:o["default"],extend:f["default"],"class":{sprite:c["default"]},sprite:c["default"],Sprite:h,createElement:function(t,e){for(var i=e||{},n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.children=r||[],new t(i,d)},use:function(t){var e=d.Painter.prototype.$extendList;e.indexOf(t)>=0||(t.onUse&&t.onUse(d),e.push(t))}};"undefined"!=typeof window&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):window.Easycanvas=d);var p=d;e["default"]=p},function(t,e,i){"use strict";var n=l(i(43)),r=l(i(63)),o=l(i(69)),a=l(i(10));function l(t){return t&&t.__esModule?t:{"default":t}}var s=function(t){for(var e in this.imgLoader=a["default"],o["default"])this[e]=this[e]||JSON.parse(JSON.stringify(o["default"][e]));t&&(t.el||(t={el:t}),t.el&&this.register("string"==typeof t.el?document.querySelector(t.el):t.el,t))};for(var c in s.prototype.$extendList=[],r["default"])Object.prototype.hasOwnProperty.call(r["default"],c)&&(s.prototype[c]=r["default"][c]);for(var f in n["default"])Object.prototype.hasOwnProperty.call(n["default"],f)&&(s.prototype[f]=n["default"][f]);t.exports=s},function(t,e,i){"use strict";var n,r=p(i(44)),o=p(i(45)),a=p(i(46)),l=p(i(19)),s=p(i(47)),c=p(i(20)),f=p(i(48)),u=p(i(49)),h=p(i(50)),d=(p(i(51)),p(i(7)));function p(t){return t&&t.__esModule?t:{"default":t}}function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v=(g(n={start:o["default"],paint:a["default"],add:d["default"].prototype.add,remove:r["default"],register:f["default"],clear:l["default"],setFpsHandler:u["default"],setMaxFps:h["default"],pause:s["default"],on:d["default"].prototype.on,off:d["default"].prototype.off,addEventListener:d["default"].prototype.addEventListener,removeEventListener:d["default"].prototype.removeEventListener},"off",d["default"].prototype.off),g(n,"trigger",d["default"].prototype.trigger),g(n,"broadcast",d["default"].prototype.broadcast),g(n,"nextTick",c["default"]),g(n,"getAllChildren",d["default"].prototype.getAllChildren),n);t.exports=v},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e){r["default"].execFuncs(t.hooks.beforeRemove,t,t.$tickedTimes++),t.style.visible=!1,t.$removing=!0,t.$parent?t.$parent.children=t.$parent.children.filter(function(t){return!0!==t.$removing}):this.children=this.children.filter(function(t){return!0!==t.$removing}),t.$canvas&&(r["default"].execFuncs(t.hooks.removed,t,t.$tickedTimes),t.$canvas=undefined,t.$parent=undefined,t.$tickedTimes=undefined,t.$cache={},t.$rendered=!1),e&&this.children.splice(this.children.indexOf(t),1)}},function(t,e,i){"use strict";var n=o(i(17)),r=o(i(18));function o(t){return t&&t.__esModule?t:{"default":t}}var a=function(){var t=Date.now();r["default"].$lastPaintTime=this.$nextTickTime=t,t-this.fpsCalculateTime>=1e3&&(this.fpsCalculateTime=t,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,n["default"])(l.bind(this))},l=function(t){if(this.$rafTime=t,a.call(this),this.maxFps>0&&this.maxFps<60){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()};t.exports=function(){return this.fpsCalculateTime=Date.now(),a.call(this),this}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(){if(!(this.$pausing||this.$inBrowser&&document.hidden)){var t=this;0,r["default"].execFuncs(t.hooks.beforeTick,t,[t.$rafTime]),t.children.forEach(function(t){t.recalculate()}),t.$freezing||(t.$lastTickChildren=t.$children,t.$children=[],this.children.sort(function(t,e){var i=r["default"].funcOrValue(t.style.zIndex,t),n=r["default"].funcOrValue(e.style.zIndex,e);return i===n?0:i>n?1:-1}).forEach(function(e,i){t.$perPaint(e,i)})),t.$paintContext.clearRect?(t.$paintContext.clearRect(0,0,this.width,this.height),t.$render()):t.$render(),r["default"].execFuncs(t.hooks.ticked,t,[t.$rafTime]),t.hooks.nextTick&&(r["default"].execFuncs(t.hooks.nextTick,t,[t.$rafTime]),delete t.hooks.nextTick)}}},function(t,e,i){"use strict";t.exports=function(t){this.$pausing=t===undefined||t}},function(t,e,i){"use strict";var n=function(t){var e=this;this.$extendList.forEach(function(i){i.onCreate&&i.onCreate.call(e,t)})};t.exports=function(t,e){var i=this;var r=e||{};for(var o in t=this.$dom=t||this.$dom,r)this[o]=r[o];if(this.name=r.name||t.id||t.classList&&t.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,r.fullScreen&&"undefined"!=typeof document&&(t.width=t.style.width=document.body.clientWidth||document.documentElement.clientWidth,t.height=t.style.height=document.body.clientHeight||document.documentElement.clientHeight,r.dpr&&(t.width*=r.dpr,t.height*=r.dpr)),t.width=this.width=this.width||r.width||t.width,t.height=this.height=this.height||r.height||t.height,this.events=r.events||{},this.hooks=r.hooks||{},this.$inBrowser){["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"].forEach(function(e){t.addEventListener(e,i.$eventHandler.bind(i))})}return n.call(this,r),this.$paintContext=this.$paintContext||t.getContext("2d"),this}},function(t,e,i){"use strict";t.exports=function(t){this.fpsHandler=t}},function(t,e,i){"use strict";t.exports=function(t){this.maxFps=t||-1}},function(t,e,i){"use strict"},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e,i){var n=e;if(i){var o=this;(n=function(){var t=Date.now();if(t>n.$lastTriggerTime+i){n.$lastTriggerTime=t;var r=Array.prototype.slice.call(arguments);e.apply(o,r)}}).$lastTriggerTime=-1,n.$handle=e}this.hooks[t]?r["default"].isArray(this.hooks[t])?this.hooks[t].push(n):this.hooks[t]=[this.hooks[t],n]:this.hooks[t]=n}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e){this.hooks[t]&&(this.hooks[t]!==e&&this.hooks[t].$handle!==e&&e?r["default"].isArray(this.hooks[t])&&(this.hooks[t].indexOf(e)>=0?this.hooks[t][this.hooks[t].indexOf(e)]=undefined:this.hooks[t].indexOf(e.$handle)>=0&&(this.hooks[t][this.hooks[t].indexOf(e.$handle)]=undefined)):delete this.hooks[t])}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e,i){var n=e;if(i){var o=this;(n=function(){var t=Date.now();if(t>n.$lastTriggerTime+i){n.$lastTriggerTime=t;var r=Array.prototype.slice.call(arguments);e.apply(o,r)}}).$lastTriggerTime=-1,n.$handle=e}this.events[t]?r["default"].isArray(this.events[t])?this.events[t].push(n):this.events[t]=[this.events[t],n]:this.events[t]=n}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e){this.events[t]&&(this.events[t]!==e&&this.events[t].$handle!==e&&e?r["default"].isArray(this.events[t])&&(this.events[t].indexOf(e)>=0?this.events[t][this.events[t].indexOf(e)]=undefined:this.events[t].indexOf(e.$handle)>=0&&(this.events[t][this.events[t].indexOf(e.$handle)]=undefined)):delete this.events[t])}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this.hooks[e])return r["default"].execFuncs(this.hooks[e],this,t)}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();this.hooks[e]&&r["default"].execFuncs(this.hooks[e],this,t),t.unshift(e);var i=this.children;i&&i.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e,i){"use strict";t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();t.unshift(e);var i=this.children;i&&i.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e,i){"use strict";t.exports=function(t,e){var i=this.getRect(e);return this.children.forEach(function(n){if(!1!==n.$cache.visible){var r=n.getOuterRect(t,e);r.left<i.left&&(i.left=r.left),r.top<i.top&&(i.top=r.top),r.right>i.right&&(i.right=r.right),r.bottom>i.bottom&&(i.bottom=r.bottom),i.width=i.right-i.left,i.height=i.bottom-i.top}}),i}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(){var t=this,e=this;return setTimeout(function(){if(!1!==e.getStyle("visible")){var i=t.$canvas,n=e.getRect(!0);if(!(n.tw>i.width||n.th>i.height)){for(var o,a=e.getAllChildren(!0),l=0;l<a.length;l++){var s=a[l];if(s.content.img&&!s.$render._imgWidth)return;if(1!==s.getStyle("scale"))return}if("hidden"!==r["default"].funcOrValue(e.style.overflow,e)){if((o=e.getOuterRect(!1,!0)).left=Math.floor(o.left),o.top=Math.floor(o.top),o.width=Math.round(o.width),o.height=Math.round(o.height),o.right=Math.round(o.right),o.bottom=Math.round(o.bottom),o.width>i.width)return;if(o.height>i.height)return}else o=n;e.off("ticked",t.combine);var c=i.$children.filter(function(t){for(var e=0;e<a.length;e++)if(a[e].$id===t.$id)return!0}),f=e.getStyle("opacity");c.forEach(function(t){t.settings&&(t.settings.$combineGlobalAlpha=t.settings.globalAlpha,t.settings.globalAlpha=f>0?t.settings.globalAlpha/f:1,t.props.$moved||(t.props.$moved=!0,t.props.left-=o.left,t.props.top-=o.top))});var u=i.$combinerCanvas;u||((u=i.$combinerCanvas=document.createElement("canvas")).width=i.width,u.height=i.height);var h=u.getContext("2d");h.clearRect(0,0,i.width,i.height),i.$render(h,c,!0),c.forEach(function(t){t.settings&&(t.settings.globalAlpha=t.settings.$combineGlobalAlpha)});var d=document.createElement("canvas");d.width=o.width,d.height=o.height,d.getContext("2d").drawImage(u,0,0,o.width,o.height,0,0,o.width,o.height),e.$combine={content:e.content,children:e.children,style:Object.assign({},e.$style)},e.children=[],e.content={img:d};var p=e.getSelfStyle("left")-(Math.floor(n.left)-o.left),g=e.getSelfStyle("top")-(Math.floor(n.top)-o.top);Object.assign(e.style,{scale:1,left:p,top:g,width:d.width,height:d.height,backgroundColor:undefined,locate:"lt"})}}}),this}},function(t,e,i){"use strict";t.exports=function(){var t=this;this.off("ticked",this.combine),this.$combine&&(this.content=this.$combine.content,this.children=this.$combine.children,Object.keys(this.style).forEach(function(e){t.style[e]=undefined}),Object.keys(this.$combine.style).forEach(function(e){t.style[e]=t.$combine.style[e]}),this.$combine=!1,this.nextTick(function(){t.recalculate(!0)}))}},function(t,e,i){"use strict";var n=a(i(0)),r=a(i(8)),o=a(i(3));function a(t){return t&&t.__esModule?t:{"default":t}}var l=n["default"].blend;t.exports=function(t){var e=this;if(!t&&n["default"].execFuncs(e.hooks.beforeTick,e,[e.$canvas.$rafTime]),!1!==n["default"].funcOrValue(e.style.visible,e)){e.$cache.visible=!0,e.$selfChanged=!1,t&&(e.$cache={},o["default"].styles.forEach(function(t){e.$needUpdate[t]=1,e.$cache[t]=undefined}));var i=Object.keys(e.$needUpdate).length;if(e.$lastUpdate=e.$needUpdate,i){var a={},s=function(t){var i=e.$cache[t];if("function"==typeof e.$style[t])a[t]=1,e.$cache[t]=e.$style[t].call(e,e);else if("string"==typeof e.$style[t]&&e.$style[t].indexOf("%")>-1){var r=e.$parent&&e.$parent.$cache.width||e.$canvas.width||0,o=e.$parent&&e.$parent.$cache.width||e.$canvas.width||0;"left"===t||"width"===t?e.$cache[t]=Math.floor(parseFloat(e.$style[t])/100*r):"top"===t||"height"===t?e.$cache[t]=Math.floor(parseFloat(e.$style[t])/100*o):"fontSize"===t&&(e.$cache[t]=Math.floor(parseFloat(e.$style[t])/100*e.$canvas.width))}else e.$cache[t]=e.$style[t];if(e.$self[t]!==e.$cache[t]&&(e.$self[t]=e.$cache[t],e.$selfChanged=!0),"left"===t||"top"===t){var l=e.$parent;l&&(e.$cache[t]+=l.$cache[t]||0)}else if("opacity"===t||"scale"===t){var s=e.$parent;s&&(e.$cache[t]*=n["default"].firstValuable(s.$cache[t],1))}i===e.$cache[t]?delete e.$needUpdate[t]:"left"!==t&&"top"!==t&&"opacity"!==t&&"scale"!==t||i!==e.$cache[t]&&e.children.forEach(function(e){e.$needUpdate[t]=1})};for(var c in e.$needUpdate)s(c);i=Object.keys(e.$needUpdate).length,e.$needUpdate=a}var f=n["default"].funcOrValue(e.content.text,e),u=n["default"].funcOrValue(e.content.img,e),h=e.$cache.text!==f||e.$cache.img!==u||e.content.img&&!e.$render._imgWidth;if(h&&(e.$selfChanged=!0),!t&&n["default"].execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime]),i||h){var d=e.$render;e.$cache.img=d.img=u,e.$cache.text=d.text=f,u?("undefined"==typeof e.$cache.width&&u.width&&(e.$cache.width=u.width),"undefined"==typeof e.$cache.height&&u.height&&(e.$cache.height=u.height)):f&&(e.$cache.width=e.$cache.width||0,e.$cache.height=e.$cache.height||0),"string"==typeof d.img&&(u=d.img=e.$canvas.imgLoader(d.img)),u&&!1===u._complete&&(u=!1),d.backgroundColor=e.$cache.backgroundColor,d.borderWidth=e.$cache.borderWidth,d.borderColor=e.$cache.borderColor,d.overflow=e.$cache.overflow,d.overflowX=e.$cache.overflowX,d.overflowY=e.$cache.overflowY,d.locate=e.$cache.locate,d.rotate=e.$cache.rotate,d.scale=e.$cache.scale,d.opacity=e.$cache.opacity,d.$moved=!1,d.childrenInside=(d.overflow||d.overflowX||d.overflowY)&&"visible"!==d.overflow,d.left=e.$cache.left,d.top=e.$cache.top,d.width=e.$cache.width,d.height=e.$cache.height,d._imgWidth=0,d._imgHeight=0,u&&u.width&&(d._imgWidth=u.width||0,d._imgHeight=u.height||0,d.cutLeft=e.$cache.cutLeft||0,d.cutTop=e.$cache.cutTop||0,d.cutWidth=e.$cache.cutWidth||d._imgWidth,d.cutHeight=e.$cache.cutHeight||d._imgHeight,d.cutLeft=Math.round(d.cutLeft),d.cutTop=Math.round(d.cutTop),d.cutWidth=Math.round(d.cutWidth),d.cutHeight=Math.round(d.cutHeight),d.width=d.width||d.cutWidth||0,d.height=d.height||d.cutHeight||0),"lt"===d.locate||("ld"===d.locate?d.top-=d.height:"rt"===d.locate?d.left-=d.width:"rd"===d.locate?(d.left-=d.width,d.top-=d.height):(d.left-=d.width>>1,d.top-=d.height>>1)),d.left=Math.round(d.left),d.top=Math.round(d.top),d.width=Math.round(d.width),d.height=Math.round(d.height);var p=d.settings={};if(p.globalAlpha=n["default"].firstValuable(d.opacity,1),d.childrenInside&&(p.clip=!0),1!==e.$cache.scale){var g=d.scale,v=function t(e){if(e)return 1!==n["default"].funcOrValue(e.$style.scale,e)?e:t(e.$parent)}(e);if(v){var $=v.$render.left+v.$render.width/2,y=v.$render.top+v.$render.height/2;d.left-=($-d.left)*(g-1),d.top-=(y-d.top)*(g-1),d.width*=g,d.height*=g}}if((d.fh||d.fv)&&(d.fh=d.fh||0,d.fv=d.fv||0,d.fx=d.fx||0,d.fy=d.fy||0,p.transform={fh:d.fh,fv:d.fv,fx:-(d.top+(d.height>>1))*d.fv+d.fx,fy:-(d.left+(d.width>>1))*d.fh+d.fy}),d.blend&&("string"==typeof d.blend?p.globalCompositeOperation=d.blend:p.globalCompositeOperation=l[d.blend]),d.backgroundColor&&(p.fillRect=d.backgroundColor),d.borderWidth&&(p.line=d.borderWidth),d.mirrX?(p.translate=[$canvas.width,0],p.scale=[-1,1],d.left=$canvas.width-d.left-d.width,d.mirrY&&(p.translate=[$canvas.width,$canvas.height],p.scale=[-1,-1],d.top=$canvas.height-d.top-d.height)):d.mirrY&&(p.translate=[0,$canvas.height],p.scale=[1,-1],d.top=$canvas.height-d.top-d.height),d.rotate){d.rx=n["default"].firstValuable(n["default"].funcOrValue(e.$cache.rotateOriginLeft,e),d.left+.5*d.width),d.ry=n["default"].firstValuable(n["default"].funcOrValue(e.$cache.rotateOriginTop,e),d.top+.5*d.height);var m=n["default"].firstValuable(d.rx,d.left+.5*d.width),b=n["default"].firstValuable(d.ry,d.top+.5*d.height);p.beforeRotate=[m,b],p.rotate=-d.rotate*Math.PI/180,p.rotate=Number(p.rotate.toFixed(4)),p.afterRotate=[-m,-b]}e.$canvas&&(d.borderWidth?d.$insight=(0,r["default"])(d.left-d.borderWidth,d.top-d.borderWidth,d.width+2*d.borderWidth,d.height+2*d.borderWidth,0,0,e.$canvas.width,e.$canvas.height,p.beforeRotate&&p.beforeRotate[0],p.beforeRotate&&p.beforeRotate[1],d.rotate):d.$insight=(0,r["default"])(d.left,d.top,d.width,d.height,0,0,e.$canvas.width,e.$canvas.height,p.beforeRotate&&p.beforeRotate[0],p.beforeRotate&&p.beforeRotate[1],d.rotate))}e.children.forEach(function(e){e.recalculate(t)})}else{if(e.$cache.visible=!1,!e.$canvas)return;!t&&n["default"].execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime])}}},function(t,e,i){"use strict";var n=a(i(64)),r=a(i(66)),o=a(i(67));a(i(68));function a(t){return t&&t.__esModule?t:{"default":t}}var l={$render:r["default"],$eventHandler:o["default"],$perPaint:n["default"]};t.exports=l},function(t,e,i){"use strict";var n=o(i(0)),r=o(i(65));function o(t){return t&&t.__esModule?t:{"default":t}}var a=function(){var t=this;this.$canvas.$extendList.forEach(function(e){e.onPaint&&e.onPaint.call(t)})};t.exports=function(t,e){if(t.$rendered=!1,!1!==t.$cache.visible){var i=this;a.call(t);var o=t.$render,l=o.text,s=o.img,c=o.childrenInside;if(o.settings&&(s||l||o.settings.rotate||o.backgroundColor||o.borderWidth||c)){var f=t.children,u=o.settings;if(u.rotate){var h={$id:t.$id,type:"rotateStart",settings:u,props:o};h.$origin=t,i.$children.push(h)}if(u.clip){var d={$id:t.$id,type:"clip",props:o};d.$origin=t,i.$children.push(d)}if(f.length&&(0,r["default"])(i,f,-1),u.fillRect){t.$rendered=!0;var p={$id:t.$id,type:"fillRect",settings:u,props:o};p.$origin=t,i.$children.push(p)}if(o._imgWidth&&0!==o.opacity&&o.cutWidth&&o.cutHeight){t.$rendered=!0;var g={$id:t.$id,type:"img",settings:u,img:s,props:o};g.$origin=t,i.$children.push(g)}if(l){o.fontSize=t.$cache.fontSize,o.fontFamily=t.$cache.fontFamily,o.color=t.$cache.color,o.textAlign=t.$cache.textAlign,o.textVerticalAlign=t.$cache.textVerticalAlign,t.$rendered=!0;var v=o.left,$=o.top,y=o.align||o.textAlign||"left",m=(o.fontSize||14)+"px "+(o.fontFamily||"serif"),b=parseInt(m),x="top";"center"===y?v+=o.width/2:"right"===y&&(v+=o.width),"top"===o.textVerticalAlign?x="top":"bottom"===o.textVerticalAlign?(x="bottom",$+=o.height):"middle"===o.textVerticalAlign&&($+=o.height>>1,x="middle"),"string"==typeof l||"number"==typeof l?i.$children.push({$id:t.$id,type:"text",settings:u,props:{left:v,top:$,content:String(l),fontsize:b,align:y,baseline:x,font:m,color:o.color,type:o.textToppe},$origin:t}):l.length&&l.forEach(function(e){i.$children.push({$id:t.$id,type:"text",settings:u,props:{left:v+n["default"].funcOrValue(e.left,t),top:$+n["default"].funcOrValue(e.top,t),content:n["default"].funcOrValue(e.content,t),fontsize:b,baseline:x,align:y,font:m,color:o.color,type:o.textToppe},$origin:t})})}if(s||l||(t.$rendered=undefined),f.length&&(0,r["default"])(i,f,1),u.clip){var w={$id:t.$id,type:"clipOver",props:o};w.$origin=t,i.$children.push(w)}if(u.line){t.$rendered=!0;var O={$id:t.$id,type:"line",settings:u,props:o};O.$origin=t,i.$children.push(O)}if(u.rotate){var k={$id:t.$id,type:"rotateEnd",settings:u,props:o};k.$origin=t,i.$children.push(k)}}else{t.$rendered=undefined;var T=t.children;T.length&&((0,r["default"])(i,T,-1),(0,r["default"])(i,T,1))}}}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};t.exports=function(t,e,i){e.filter(function(t){var e=r["default"].funcOrValue(t.style.zIndex,t);return i<0?e<0:e>=0}).sort(function(t,e){var i=r["default"].funcOrValue(t.style.zIndex,t),n=r["default"].funcOrValue(e.style.zIndex,e);return i===n?0:i>n?1:-1}).forEach(function(e,i){t.$perPaint.call(t,e,i)})}},function(t,e,i){"use strict";var n,r=(n=i(0))&&n.__esModule?n:{"default":n};var o=function(t,e){var i=this,n=!1;return this.$extendList.forEach(function(r){if(r.onRender){var o=r.onRender.call(i,t,e);o&&(n=o)}}),n};t.exports=function(t,e,i){var n=this,a=e||n.$children;i||n.webgl||(a=a.filter(function(t){return"img"!==t.type||!1!==t.props.$insight})),a.forEach(function(e,i){var l,s=e.props;if(s&&"clip"!==e.type&&"rotateStart"!==e.type&&"rotateEnd"!==e.type&&"text"!==e.type&&"clipOver"!==e.type&&"line"!==e.type&&(l=s.width*s.height)>4e4&&!e.settings.transform&&!e.settings.rotate)for(var c=a.length,f=i+1;f<c;f++){var u=a[f];if(!u.$cannotCover)if("clip"!==u.type){var h=u.settings;if(u.type&&"img"===u.type||"fillRect"===u.type&&-1===h.fillRect.indexOf("rgba")){var d=u.props;if(d.width*d.height<4e4)u.$cannotCover=!0;else if(!(d.width*d.height<l))if(!u.img||u.img.$noAlpha){if(1!==h.globalAlpha||h.globalCompositeOperation||h.transform||h.rotate)u.$cannotCover=!0;else if(r["default"].pointInRect(s.left,s.top,d.left,d.left+d.width,d.top,d.top+d.height)&&r["default"].pointInRect(s.left+s.width,s.top+s.height,d.left,d.left+d.width,d.top,d.top+d.height))return void 0}else u.$cannotCover=!0}else u.$cannotCover=!0}else for(;f<c&&"clipOver"!==a[++f].type;);}var p=e.settings||{};if(!o.call(n,e,p)){0;var g=t||n.$paintContext;"rotateStart"===e.type&&(g.save(),g.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),g.rotate(p.rotate||0),g.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),"clip"===e.type&&(g.save(),g.beginPath(),g.moveTo(s.left,s.top),g.lineTo(s.left+s.width,s.top),g.lineTo(s.left+s.width,s.top+s.height),g.lineTo(s.left,s.top+s.height),g.lineTo(s.left,s.top),g.closePath(),g.clip());var v=!1;if(p.globalCompositeOperation&&(v||(g.save(),v=!0),g.globalCompositeOperation=p.globalCompositeOperation),g.$globalAlpha!==p.globalAlpha&&(g.$globalAlpha=g.globalAlpha=p.globalAlpha),p.translate&&(v||(g.save(),v=!0),g.translate(p.translate[0]||0,p.translate[1]||0)),p.scale&&(v||(g.save(),v=!0),g.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(v||(g.save(),v=!0),g.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===e.type)g.drawImage(e.img,s.cutLeft,s.cutTop,s.cutWidth,s.cutHeight,s.left,s.top,s.width,s.height);else if("text"===e.type&&s.content)g.font=s.font,g.fillStyle=s.color||"black",g.textAlign=s.align,g.textBaseline=s.baseline,g[s.type||"fillText"](s.content,s.left,s.top);else if("fillRect"===e.type)g.fillStyle=p.fillRect,g.fillRect(s.left,s.top,s.width,s.height);else if("line"===e.type){g.beginPath();var $=s.borderColor||"black";g.strokeStyle=$;var y=g.lineWidth=s.borderWidth||1;g.moveTo(s.left-y,s.top-y),g.lineTo(s.left+s.width+y,s.top-y),g.lineTo(s.left+s.width+y,s.top+s.height+y),g.lineTo(s.left-y,s.top+s.height+y),g.closePath(),g.stroke()}else"rotateEnd"===e.type?(g.$globalAlpha=!1,g.restore()):"clipOver"===e.type&&(g.$globalAlpha=!1,g.restore());v&&(g.$globalAlpha=!1,g.restore())}})}},function(t,e,i){"use strict";var n=r(i(0));r(i(3));function r(t){return t&&t.__esModule?t:{"default":t}}var o,a="undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=function(t){return t.sort(function(t,e){return n["default"].funcOrValue(n["default"].firstValuable(t.events.eIndex,t.style.zIndex),t)<n["default"].funcOrValue(n["default"].firstValuable(e.events.eIndex,e.style.zIndex),e)?1:-1})},s=function(t,e){var i=t.getRect();return n["default"].pointInRect(e.canvasX,e.canvasY,i.left,i.left+i.width,i.top,i.top+i.height)},c=function(t,e){var i=this;this.$extendList.forEach(function(n){n.onEvent&&n.onEvent.call(i,t,e)})},f=function h(t,e,i){i&&i.push(t),t.events[e.type]&&(n["default"].execFuncs(t.events[e.type],t,[e]),e.$stopPropagation)||(t.$parent?h(t.$parent,e,i):t.$canvas&&!e.$stopPropagation&&(h(t.$canvas,e),e.stopPropagation()))},u={x:0,y:0,timeStamp:0};o=function(t,e){var i,r,h=1,d=1;if(!e){!t.layerX&&t.targetTouches&&t.targetTouches[0]?(i=t.targetTouches[0].pageX-t.currentTarget.offsetLeft,r=t.targetTouches[0].pageY-t.currentTarget.offsetTop):!t.layerX&&t.changedTouches&&t.changedTouches[0]?(i=t.changedTouches[0].pageX-t.currentTarget.offsetLeft,r=t.changedTouches[0].pageY-t.currentTarget.offsetTop):(i=t.layerX,r=t.layerY);if(this.$dom.getBoundingClientRect){var p=this.$dom.getBoundingClientRect();p.width,p.height,this.width,this.height,h=Math.floor(p.width)/this.width,d=Math.floor(p.height)/this.height}}var g=e||{type:t.type,canvasX:i/h,canvasY:r/d,event:t};if(a&&this.fastclick){if("click"===g.type&&!g.$fakeClick)return;"touchstart"===g.type?(u.x=g.canvasX,u.y=g.canvasY,u.timeStamp=Date.now()):"touchend"===g.type&&Math.abs(u.x-g.canvasX)<30&&Math.abs(u.y-g.canvasY)<30&&Date.now()-u.timeStamp<200&&o.call(this,null,{$fakeClick:!0,type:"click",canvasX:u.x,canvasY:u.y,event:t})}if(g.stopPropagation=function(){g.$stopPropagation=!0},g.preventDefault=function(){g.event.preventDefault()},!this.events.interceptor||(n["default"].execFuncs(this.events.interceptor,this,[g]),!t.$stopPropagation)){var v=[];if(function t(e,i,r){if(e&&e.length&&!i.$stopPropagation)for(var o=e.length,a=0;a<o;a++){var c=e[a];if(!1!==n["default"].funcOrValue(c.style.visible,c)&&(!c.events||"none"!==c.events.pointerEvents)){if(s(c,i)){var u=c.events.interceptor;if(u&&(n["default"].execFuncs(u,c,[i]),i.$stopPropagation))return}var h=c.$combine&&c.$combine.children?c.$combine.children:c.children;if(h.length&&t(l(h.filter(function(t){return n["default"].funcOrValue(n["default"].firstValuable(t.events.eIndex,t.style.zIndex),t)>=0})),i,r),i.$stopPropagation)break;if(s(c,i))return f(c,i,r),void i.stopPropagation();h.length&&t(l(h.filter(function(t){return!(n["default"].funcOrValue(n["default"].firstValuable(t.events.eIndex,t.style.zIndex),t)>=0)})),i,r)}}}(l(this.children),g,v),c.call(this,g,v),("mousemove"===g.type||"touchmove"===g.type)&&this.eLastMouseHover&&-1===v.indexOf(this.eLastMouseHover)){var $=this.eLastMouseHover.events.mouseout||this.eLastMouseHover.events.touchout;$&&$.call(this.eLastMouseHover,g)}if(this.eLastMouseHover=v[0],!v.length&&this.eLastMouseHover){var y=this.eLastMouseHover.events.mouseout;y&&y.call(this.eLastMouseHover,g),this.eLastMouseHover=null}var m=this.events[g.type];m&&!g.$stopPropagation&&n["default"].execFuncs(m,this,[g])}},t.exports=o},function(t,e,i){"use strict";n(i(0)),n(i(3));function n(t){return t&&t.__esModule?t:{"default":t}}t.exports=function(){}},function(t,e,i){"use strict";t.exports={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1}},function(t,e,i){"use strict";var n=o(i(10)),r=o(i(11));function o(t){return t&&t.__esModule?t:{"default":t}}t.exports=function(t,e){var i;return(0,r["default"])(t,function(t){return(0,n["default"])(t,function(t){for(var n=t.width,r=t.height,o=t.getContext("2d").getImageData(0,0,n,r),a=o.data,l=a.length-1;l>=0;l-=4)if(e&&e.conversion){var s=e.conversion({r:a[l-3],g:a[l-2],b:a[l-1],a:a[l]},(l+1>>2)%n,Math.floor((l+1>>2)/n));a[l-3]=Math.max(Math.min(s.r,255),0),a[l-2]=Math.max(Math.min(s.g,255),0),a[l-1]=Math.max(Math.min(s.b,255),0),a[l-0]=Math.max(Math.min(s.a,255),0)}t.getContext("2d").clearRect(0,0,n,r),t.getContext("2d").putImageData(o,0,0),i=t},{canvas:!0,cacheFlag:Math.random()})}),function(){return i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){var e=r["default"].prototype.$extendList;if(e.indexOf(t)>=0)return;e.push(t)};var n,r=(n=i(7))&&n.__esModule?n:{"default":n}},function(t,e,i){"use strict";n(i(3)),n(i(0));function n(t){return t&&t.__esModule?t:{"default":t}}}]));