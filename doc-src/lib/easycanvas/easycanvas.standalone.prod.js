!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(102)},function(t,e){"use strict";var o={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,e){return"function"==typeof t?t.call(e):t},execFuncs:function(t,e,i){t&&(o.isArray(i)||(i=[i])),"function"==typeof t?t.apply(e,i):o.isArray(t)&&t.length&&t.forEach(function(t){t&&t.apply(e,i)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,e,o,i,n,r){return!(t<o||t>i||e<n||e>r)},firstValuable:function(t,e,o){return"undefined"==typeof t?"undefined"==typeof e?o:e:t}};t.exports=o},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="undefined"!=typeof window;e.default=function(t,e){o&&window.Easycanvas&&(Easycanvas.class[e]=function(e){return t(Easycanvas.sprite,e)})}},function(t,e){"use strict";var o=["cutLeft","cutTop","cutWidth","cutHeight"],i=["left","top","width","height"],n=o.concat(i),r=n.concat(["locate","rx","ry","zIndex","textFont","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","border","overflow","overflowX","overflowY"]);t.exports={txywh:i,sxywh:o,xywh:n,styles:r,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.7.4"}},,,,,,function(t,e){"use strict";var o=3.141593;t.exports=function(t,e,i,n,r,l){var a=r?-r/180*o:0,s=t,c=e;return r&&(s=(t-i)*Math.cos(a)-(e-n)*Math.sin(a)+i,c=(t-i)*Math.sin(a)+(e-n)*Math.cos(a)+n),l?[s,c]:{x:s,y:c}}},,,,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={},n="\n".slice(0,1),r=function(t,e){var o=String(t),r=o+JSON.stringify(e);if(e.fontSize=e.fontSize||16,i[r])return i[r];var l;e.padding?(l=e.padding.split(" "),l=l.map(function(t){return parseInt(t)}),l[1]=Number(l[1]||l[0]),l[2]=Number(l[2]||l[0]),l[3]=Number(l[3]||l[1])):l=[0,0,0,0];var a=e.minWidth||e.width||(e.fontSize||16)*o.length+l[1]+l[3]+100,s=o.split("\n").length,c=e.fontSize*(Math.round(o.length)/a+s-1)*(e.lineHeight||e.fontSize)+l[0]+l[2]+100,u=document.createElement("canvas");u.width=a,u.height=c;var f=u.getContext("2d");window.tempCanvas=u,window.tempCtx=f,f.textBaseline="middle",f.font=(e.fontStyle?e.fontStyle+" ":"")+e.fontSize+"px "+(e.family||"serif"),f.fillStyle=e.color||"#000",f.textAlign=e.textAlign||"left";for(var h=0,d=e.lineHeight?(e.lineHeight-e.fontSize)/2:0,p=0,v=1,g=0,m=0,$=1;;)if(m=f.measureText(o.slice(p,v)).width,m>e.width){if("ellipsis"===e.textOverflow){v-=2,f.fillText(o.slice(p,v)+"...",h,d+e.fontSize/2),d+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:0),$++,g=e.width-l[1]-l[3];break}v-=1,f.fillText(o.slice(p,v),h,d+e.fontSize/2),p=v,v=p+1,d+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:10),$++}else{if(v>o.length-1){m>g&&(g=m),f.fillText(o.slice(p,v),h,d+e.fontSize/2),d+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:0);break}o.slice(v,v+1)===n&&(f.fillText(o.slice(p,v),h,d+e.fontSize/2),v+=1,p=v,v=p+1,d+=e.fontSize+(e.lineHeight?(e.lineHeight-e.fontSize)/2:10),$++),m>g&&(g=m),v++}var y=document.createElement("canvas");y.lastLineLeft=m,y.lineCount=$,y.width=Math.max(g+l[1]+l[3],e.minWidth||0),y.height=d+l[0]+l[2];var b=y.getContext("2d");if(e.backgroundColor&&(b.fillStyle=e.backgroundColor,b.fillRect(0,0,y.width,y.height)),b.drawImage(u,(y.width-g)/2,l[0]),e.border){var x=e.border.split(" "),w=x.pop();"solid"===x[x.length-1]&&x.pop();var S=x[0],T=x[1]||S,O=x[2]||S,k=x[3]||T||S;S=parseInt(S),T=parseInt(T),O=parseInt(O),k=parseInt(k);var M=e.borderRadius||0;if(b.beginPath(),b.strokeStyle=w,S&&(b.lineWidth=S,b.moveTo(k?M:0,0),b.lineTo(y.width-(T?M:0),0)),T&&(b.lineWidth=T,b.moveTo(y.width,S?M:0),b.lineTo(y.width,y.height-(O?M:0))),O&&(b.lineWidth=O,b.moveTo(k?M:0,y.height),b.lineTo(y.width-(T?M:0),y.height)),k&&(b.lineWidth=k,b.moveTo(0,S?M:0),b.lineTo(0,y.height-(O?M:0))),b.stroke(),M){var _=document.createElement("canvas"),P=Math.min(y.width,y.height);_.width=_.height=P;var V=_.getContext("2d");V.beginPath(),V.strokeStyle=w,V.arc(P>>1,P>>1,(P>>1)-1,0,2*Math.PI),V.stroke(),S&&T&&b.drawImage(_,P>>1,0,P>>1,P>>1,y.width-M,0,M,M),O&&T&&b.drawImage(_,P>>1,P>>1,P>>1,P>>1,y.width-M,y.height-M,M,M),S&&k&&b.drawImage(_,0,0,P>>1,P>>1,0,0,M,M),O&&k&&b.drawImage(_,0,P>>1,P>>1,P>>1,0,y.height-M,M,M)}}return i[r]=y,y};e.default=r},function(t,e,o){"use strict";var i=o(1),n=Math.PI,r=function(t){return t.$lastPaintTime||Date.now()},l={linear:function(t,e,o){var i=r(this),n=!1,l=void 0,a=function(){var r=this.$lastPaintTime,s=(r-i)/o,c=(e-t)*s+t;if(n)if(e>t)for(;c>e;)c-=e-t;else for(;c<e;)c+=t-e;else e>t&&c>e?(a.$done=!0,c=e):e<t&&c<e&&(a.$done=!0,c=e);return s>=1&&l&&(l.call(this,c),l=null),c}.bind(this);return a.loop=function(){return n=!0,a},a.restart=function(){return i=r(this),a},a.then=function(t){return l=t,a},a},pendulum:function(t,e,o,i){var l=r(this),a=i||{};a.start=a.start||0;var s=!1,c=void 0,u=a.cycle||1,f=function(){var i=r(this),h=(i-l)/o;s?u&&(h%=u):u?h>u&&(h=u,f.$done=!0,h=u):h>1&&(f.$done=!0,h=1);var d=h*n*2-n/2+a.start/360*n,p=(e-t)*(Math.sin(d)+1)/2+t;return h>=u&&c&&(c.call(this,p),c=null),p}.bind(this);return f.loop=function(){return s=!0,f},f.restart=function(){return l=r(this),f},f.then=function(t){return c=t,f},f},ease:function(t,e,o){return this.pendulum(t,e,2*o,{cycle:.5})},oneByOne:function(t){var e=t,o=!1,i=function(){for(var t=0;t<e.length;t++){if(!e[t].$done)return e[t]();if(!e[t].$nextRestart&&(e[t].$nextRestart=!0,e[t+1]))return e[t+1].restart(),e[t+1]()}if(o){for(var i=0;i<e.length;i++)e[i].$done=!1,e[i].$nextRestart=!1,e[i].restart();return e[0]()}return e[e.length-1]()};return i.loop=function(){return o=!0,i},i}},a=function t(e,o,n,r,a){var s=(0,i.funcOrValue)(e[o]);s=s||0,e[o]=l[n].bind(t)(s,r,a)};for(var s in l)a[s]=l[s];t.exports=a},,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(10),r=(i(n),o(33)),l=i(r);t.exports=function(t,e,o,i,n,r,a,s,c,u,f){if(!f){if(e>r+s)return!1;if(r>e+i)return!1;if(t>n+a)return!1;if(n>t+o)return!1}var h=(0,l.default)(t,e,n,r,a,s,c,u,f)||(0,l.default)(t+o,e,n,r,a,s,c,u,f)||(0,l.default)(t,e+i,n,r,a,s,c,u,f)||(0,l.default)(t+o,e+i,n,r,a,s,c,u,f);if(h)return!0;var d=(0,l.default)(n,r,t,e,o,i,c,u,-f)||(0,l.default)(n+a,r,t,e,o,i,c,u,-f)||(0,l.default)(n,r+s,t,e,o,i,c,u,-f)||(0,l.default)(n+a,r+s,t,e,o,i,c,u,-f);return!!d||(e>r&&e+i<r+s&&t<n&&t+o>n+a||t>n&&t+o<n+a&&e<r&&e+i>r+s)}},,,,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r=o(15),l=i(r),a=o(3),s=i(a),c={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(t,e){t.buttonStyleNormal=n(c,{minWidth:e.style.width,lineHeight:e.style.height,padding:0},e.props.normal),t.buttonStyleHovered=n({},t.buttonStyleNormal,e.props.hovered),t.buttonStylePressed=n({},t.buttonStyleNormal,e.props.pressed),t.imageNormal=(0,l.default)(e.props.text||"",t.buttonStyleNormal),t.imageHovered=e.props.hovered&&(0,l.default)(e.props.text||"",t.buttonStyleHovered),t.imagePressed=e.props.pressed&&(0,l.default)(e.props.text||"",t.buttonStylePressed)},f=function(t,e){var o=void 0;e.props=e.props||{};var i={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};u(i,e);var n={};return e.events=e.events||{},n.touchmove=n.mousemove=function(){o.content.img=i.imageHovered||i.imageNormal},n.touchstart=n.mousedown=function(){o.content.img=i.imagePressed||i.imageHovered||i.imageNormal},n.touchend=n.touchout=n.mouseout=function(){o.content.img=i.imageNormal},n.mouseup=function(){o.content.img=i.imageHovered||i.imageNormal},n.click=function(t){e.events.click&&e.events.click.call(o,t)},o=new t({name:e.name||"button_"+e.props.text,content:{img:i.imageNormal},style:e.style,props:e.props,events:n,hooks:e.hooks}),o.update=function(t){this.__proto__.update.call(this,t),u(i,e),o.content.img=i.imageNormal},o};(0,s.default)(f,"button"),e.default=f},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(3),r=i(n),l=function(t,e){var o=void 0,i=e||{};return i.name=i.name||"Image",o=new t(i),o.content.img=i.src,Object.defineProperty(o,"src",{get:function(){return o.content.img?o.content.img.src:""},set:function(t){o.content.img=t}}),o};(0,r.default)(l,"image"),e.default=l},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r=o(1),l=o(16),a=i(l),s=o(3),c=i(s),u=void 0,f=function(t,e){return Math.abs(t)<Math.abs(e)?t:e},h={loose:function(t){t.$scroll.touching=!1},looper:function(t){if(t.$scroll&&t.$scroll.$scrolling){if(Math.abs(t.$scroll.speedX)>1?t.$scroll.speedX*=t.scroll.smooth||.8:t.$scroll.speedX=0,Math.abs(t.$scroll.speedY)>1?t.$scroll.speedY*=t.scroll.smooth||.8:t.$scroll.speedY=0,Math.abs(t.$scroll.speedX)<=1&&Math.abs(t.$scroll.speedY)<=1)return t.$scroll.$scrolling=!1,void(t.$scroll.$wheeling=!1);if(!t.$scroll.touching){if(t.scroll.scrollY-=t.$scroll.speedY,t.scroll.scrollX-=t.$scroll.speedX,!t.$scroll.touching&&!t.$scroll.$wheeling&&Math.abs(t.$scroll.speedY)<50&&t.scroll.anchors&&t.scroll.anchors.length)for(var e=t.scroll.anchorsRange||400,o=0;o<t.scroll.anchors.length;o++){var i=t.scroll.anchors[o],n=t.scroll.scrollY-i;if(n>0&&n<e&&t.$scroll.speedY>0||n<0&&n>-e&&t.$scroll.speedY<0){t.trigger("scrollTo",i,200),t.$scroll.speedY=0;break}}var l=(0,r.funcOrValue)(t.scroll.minScrollX,t),a=(0,r.funcOrValue)(t.scroll.maxScrollX,t),s=(0,r.funcOrValue)(t.scroll.minScrollY,t),c=(0,r.funcOrValue)(t.scroll.maxScrollY,t);!isNaN(s)&&t.scroll.scrollY<s?t.scroll.scrollY=s:!isNaN(c)&&t.scroll.scrollY>c&&(t.scroll.scrollY=c,t.broadcast("scrolledToBottom"),t.$scroll.speedY=0),!isNaN(l)&&t.scroll.scrollX<l?t.scroll.scrollX=l:!isNaN(a)&&t.scroll.scrollX>a&&(t.scroll.scrollX=a)}}},touch:function(t,e){var o=Date.now();if(t.$scroll.$wheeling=!1,t.$scroll.touching){t.$scroll.$scrolling=!0;var i=t.$scroll.startPos.x-e.canvasX,n=t.$scroll.startPos.y-e.canvasY,l=o-t.$scroll.touching;t.$scroll.touching=o;var a=(0,r.funcOrValue)(t.scroll.minScrollX,t),s=(0,r.funcOrValue)(t.scroll.maxScrollX,t),c=(0,r.funcOrValue)(t.scroll.minScrollY,t),u=(0,r.funcOrValue)(t.scroll.maxScrollY,t);if((t.scroll.scrollX+i<a||t.scroll.scrollX+i>s)&&(t.scroll.flexible||t.scroll.flexibleX?i>>=3:i=0),(t.scroll.scrollY+n<c||t.scroll.scrollY+n>u)&&(t.scroll.flexible||t.scroll.flexibleY?n>>=3:n=0),(0,r.funcOrValue)(t.scroll.scrollableX,t)&&Math.abs(i)>=1&&l>1){var h=(e.canvasX-t.$scroll.startPos.x)/l*25;t.$scroll.lastScrollSpeed*h>0&&Math.abs(h)>15&&(h+=f(h,t.$scroll.lastScrollSpeed)),t.$scroll.speedX=(t.$scroll.lastTouchSpeed+h)/(t.$scroll.lastTouchSpeed?2:1),t.$scroll.lastTouchSpeed=h,t.scroll.scrollX+=i}if((0,r.funcOrValue)(t.scroll.scrollableY,t)&&Math.abs(n)>=1&&l>1){var d=(e.canvasY-t.$scroll.startPos.y)/l*25;t.$scroll.lastScrollSpeed*d>0&&Math.abs(d)>15&&(d+=f(d,t.$scroll.lastScrollSpeed)),t.$scroll.speedY=(t.$scroll.lastTouchSpeed+d)/(t.$scroll.lastTouchSpeed?2:1),t.$scroll.lastTouchSpeed=d,t.scroll.scrollY+=n}if(t.$scroll.startPos.x=e.canvasX,t.$scroll.startPos.y=e.canvasY,Math.abs(i)>Math.abs(n)+1)return 1;if(Math.abs(i)<Math.abs(n)-1)return 2}else t.$scroll.touching=o,t.$scroll.quickTouch=o,t.$scroll.lastTouchSpeed=0,t.$scroll.startPos.x=e.canvasX,t.$scroll.startPos.y=e.canvasY,t.$scroll.lastScrollSpeed=t.$scroll.speedX||t.$scroll.speedY,t.$scroll.speedX=0,t.$scroll.speedY=0},wheel:function(t,e){t.$scroll.speedX=(0,r.funcOrValue)(t.scroll.scrollableX,t)?e.event.wheelDeltaX:0,t.$scroll.speedY=(0,r.funcOrValue)(t.scroll.scrollableY,t)?e.event.wheelDeltaY:0,t.$scroll.$scrolling=!0,t.$scroll.$wheeling=!0,e.stopPropagation()}},d=function(t,e){var o=!1,i=!1,r=e||{};r.scroll=n({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var t=this,e=0;return this.getChildren().forEach(function(o){var i=o.getSelfStyle("left")+o.getSelfStyle("width")-t.getStyle("width");i>e&&(e=i)}),e},minScrollY:0,maxScrollY:function(){var t=this,e=0;return this.getChildren().forEach(function(o){var i=o.getSelfStyle("top")+o.getSelfStyle("height")-t.getStyle("height");i>e&&(e=i)}),e},propagationX:!1,propagationY:!1},e.scroll);var l=function t(){o&&(c.scroll.scrollX=o()),i&&(c.scroll.scrollY=i()),o||i||c.off("ticked",t)},s=!1;r.events=n({touchstart:function(t){h.loose(this),s=!0,u=!1,h.touch(this,t),c.scroll.propagationX||c.scroll.propagationY||t.stopPropagation()},touchmove:function(t){if(s&&(!u||this===u)){var e=h.touch(this,t);1===e&&c.scroll.propagationY?(t.stopPropagation(),u=this):2===e&&c.scroll.propagationX&&(t.stopPropagation(),u=this)}},mousewheel:function(t){s=!0,h.wheel(this,t),t.stopPropagation()},touchend:function(){s=!1,h.loose(this)},mouseup:function(){s=!1,h.loose(this)}},r.events||{}),r.scroll.capture&&(r.events.interceptor=function(t){return c.events[t.type]?(c.events[t.type].call(c,t),!1):t});var c=new t(r);c.on("ticked",function(){h.looper(c)}),c.on("scrollTo",function(t,e,n){var r=void 0;return o=a.default.ease(c.scroll.scrollY,t,n||200,{cycle:.5}).then(function(){o=!1,r&&r(),r=!1}),i=a.default.ease(c.scroll.scrollY,e,n||200,{cycle:.5}).then(function(){i=!1,r&&r(),r=!1}),c.on("ticked",l),{then:function(t){r=t}}}),c.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var f=c.add({name:"scrolling-element",style:{left:function(){return-this.$parent.scroll.scrollX},top:function(){return-this.$parent.scroll.scrollY}}});return c.add=f.add.bind(f),c.clear=f.clear.bind(f),c.getChildren=function(){return f.children},c};(0,c.default)(d,"scroll"),e.default=d},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(1),r=o(3),l=i(r),a=function(t,e){var o=new t(e);return e.props.index=e.props.index||0,o.on("beforeTick",function(){var t=this.props,e=(0,n.funcOrValue)(this.content.img,this);if(e&&e.width){var o=t.index||0;o<0&&(o=0);var i=void 0,r=void 0;if(t.frameWidth||t.frameHeight){i=t.frameWidth<0?e.width/-t.frameWidth:t.frameWidth,r=t.frameHeight<0?e.height/-t.frameHeight:t.frameHeight;var l=Math.floor(e.width/i),a=Math.floor(e.height/r);this.style.cutLeft=o%l*i,this.style.cutTop=Math.floor(o/l)%a*r}!t.loop&&o>0&&0===this.style.cutLeft&&0===this.style.cutTop&&(this.style.img=void 0,t.onOver?t.onOver.call(this):this.remove()),t.lastFrameTime=t.lastFrameTime||0,this.$canvas.$nextTickTime-t.lastFrameTime>=(0,n.funcOrValue)(t.interval,this)&&(t.lastFrameTime=this.$canvas.$nextTickTime,t.index++),this.style.cutWidth=this.style.cutWidth||i,this.style.cutHeight=this.style.cutHeight||r,this.style.width=this.style.width||i,this.style.height=this.style.height||r}}),o};(0,l.default)(a,"sequence"),e.default=a},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r=o(15),l=i(r),a=o(3),s=i(a),c={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},u=function(t){t.content.img=t.text?(0,l.default)(t.text,n({},c,{lineHeight:t.style.fontSize},t.style)):void 0},f=function(t,e){var o=void 0;return e.name=e.name||"Text",o=new t(e),u(o),Object.defineProperty(o,"text",{get:function(){return o.content.text},set:function(t){o.content.img=text}}),o.update=function(t){this.__proto__.update.call(this,t),u(this)},o};(0,s.default)(f,"text"),e.default=f},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(3),r=i(n),l=function(t,e){var o=void 0,i=e||{};return i.name=i.name||"View",o=new t(i)};(0,r.default)(l,"view"),e.default=l},,,,function(t,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={},n=[],r=Image,l=0,a=function t(e,a,s){var c=s||{},u=t.cacheCanvas;if("object"===("undefined"==typeof e?"undefined":o(e))){var f=e;return c.callbackArgs=c.callbackArgs||[],void t(f.shift(),function(e){c.callbackArgs.push(e),f.length>1?t(f,a,c):t(f[0],function(t){c.callbackArgs.push(t),a(c.callbackArgs)},c)},s)}var h=e+"_"+JSON.stringify(s)+"_"+u;if(i[h])return a?void(i[h].width&&a?a(i[h]):setTimeout(function(){t(e,a,s)},100)):i[h];var d=new r;d._complete=!1,c.block?(d.src=e,l++):0===l?d.src=e:n.push({imgObj:d,src:e}),i[h]=d;var p=void 0;return(c.canvas||c.alphaColor||u)&&(p=document.createElement("canvas"),p.width=p.height||0,i[h]=p),d.onload=function(t){if(d._complete=!0,"jpg"===d.src.substr(-3)||"jpeg"===d.src.substr(-3)||"bmp"===d.src.substr(-3)?d.$noAlpha=!0:0===d.src.indexOf("data:image/jpg;")&&(d.$noAlpha=!0),c.block&&(l--,0===l&&(n.forEach(function(t){t.imgObj.src=t.src}),n.splice(0))),p&&(c.canvas||c.alphaColor||u)){var e=p.getContext("2d");if(p.width=d.width,p.height=d.height,p.$noAlpha=d.$noAlpha,e.drawImage(d,0,0),c.alphaColor){for(var o=e.getImageData(0,0,d.width,d.height),i=0;i<o.data.length;i+=4){var r=o.data[i]+o.data[i+1]+o.data[i+2],s=1;o.data[i]<s&&o.data[i+1]<s&&o.data[i+2]<s&&(o.data[i+3]=Math.floor(r/255))}e.putImageData(o,0,0),p.$noAlpha=!1}d=p}a&&a(d)},d.onerror=function(){i[h]=d},p||d};a.cacheCanvas=!1,t.exports=a},function(t,e){"use strict";function o(t,e){if(t&&t.match(/^data:/))return void(e&&e(t));if(n[t])return void(n[t]!==i?e(n[t]):setTimeout(function(){o(t,e)},100));n[t]=i;var r=new XMLHttpRequest;r.onload=function(){var o=new FileReader;o.onloadend=function(){n[t]=o.result,e&&e(o.result)},o.readAsDataURL(r.response)},r.open("GET",t),r.responseType="blob",r.send()}var i="processing",n={};t.exports=o},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(10),r=(i(n),3.141593);t.exports=function(t,e,o,i,n,l,a,s,c){var u=c?-c/180*r:0;return u&&(t=(t-a)*Math.cos(u)-(e-s)*Math.sin(u)+a,e=(t-a)*Math.sin(u)+(e-s)*Math.cos(u)+s),t>=o&&t<=o+n&&e>=i&&e<=i+l}},,,,,,,,,,,,,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=o(1),l=i(r),a=o(4),s=i(a),c=o(97),u=i(c),f=o(96),h=i(f),d=o(47),p=i(d),v=o(48),g=i(v),m=o(99),$=i(m),y=o(92),b=i(y),x=o(94),w=i(x),S=o(95),T=i(S),O=o(93),k=i(O),M=o(100),_=i(M),P=o(98),V=i(P),A=function t(e){e.children&&e.children.forEach(function(o,i){o.$id||(e.children[i]=new Y(o)),e.$id&&!e.$dom?(e.children[i].$canvas=e.$canvas,e.children[i].$parent=e):e.children[i].$canvas=e,t(e.children[i])})},C=function(t,e){var o=t||{};o.$id||(o.$id=Math.random().toString(36).substr(2)),o.$tickedTimes=o.$tickedTimes||0,o.content=o.content||{},o.style=o.style||{},o.style.scale=l.default.firstValuable(o.style.scale,1),o.style.opacity=l.default.firstValuable(o.style.opacity,1),o.style.zIndex=o.style.zIndex||0,o.style.locate=o.style.locate||"center";l.default.funcOrValue(o.content.img);e.$cache={},e.$render={},e.$style={},e.$needUpdate={},o.hooks=o.hooks||{},s.default.styles.concat(["visible"]).forEach(function(t){e.$cache[t]=void 0,e.$style[t]=o.style[t],"function"==typeof o.style[t]&&(e.$style[t]=o.style[t].bind(e)),s.default.xywh.indexOf(t)>-1?e.$style[t]=e.$style[t]||0:["opacity","scale"].indexOf(t)>-1&&(e.$style[t]=l.default.firstValuable(e.$style[t],1)),e.$needUpdate[t]=1,Object.defineProperty(o.style,t,{get:function(){return e.$style[t]},set:function(o){e.$style[t]!==o&&(e.$style[t]=o,e.$needUpdate[t]=1)}})}),o.events=o.events||{};o.events.eIndex=o.events.eIndex;return o.children=o.children||[],A(o),o.$styleCacheTime={},o},H=function(t){var e=this;this.$extendList.forEach(function(o){o.call(e,t)})},Y=function(t){var e=C(t,this);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this[o]=e[o]);return H.call(this,e),this};Y.prototype.$extendList=[],Y.prototype.add=function(t){if(t)return this.children.push(t),A(this),this.children[this.children.length-1]},Y.prototype.getRect=function(t,e){var o=this,i={};if(s.default.txywh.forEach(function(t){i[t]=o.getStyle(t,e)}),0===i.width&&this.content.img&&!t){var n=l.default.funcOrValue(this.content.img,this);i.width=n.width,i.height=n.height}var r=this.getStyle("locate");return"lt"===r||("ld"===r?i.top-=i.height:"rt"===r?i.left-=i.width:"rd"===r?(i.left-=i.width,i.top-=i.height):(i.left-=i.width>>1,i.top-=i.height>>1)),i.right=this.$canvas.width-i.left-i.width,i.bottom=this.$canvas.height-i.top-i.height,i},Y.prototype.getSelfStyle=function(t){var e={};if(t)return l.default.funcOrValue(this.style[t],this);for(var o in this.style)e[o]=l.default.funcOrValue(this.style[o],this);return e},Y.prototype.getStyle=function(t,e){var o=this;if(e&&void 0!==o.$cache[t])return o.$cache[t];var i=l.default.funcOrValue(o.$style[t],o);if(o.$parent){var n=o.$parent.getStyle(t);if("left"===t||"top"===t)return n=l.default.firstValuable(n,0),n+l.default.firstValuable(i,0);if("scale"===t||"opacity"===t)return n=l.default.firstValuable(n,1),n*l.default.firstValuable(i,1);if("visible"===t)return n!==!1&&i}return i},Y.prototype.remove=function(t){return t?(this.$canvas.remove(t),void l.default.execFuncs(t.hooks.removed,t)):(this.$parent?this.$parent.remove(this):this.$canvas.remove(this),void l.default.execFuncs(this.hooks.removed,this))},Y.prototype.update=function(t){if(t){for(var e in t)if("object"===n(t[e]))for(var o in t[e])this[e]||(this[e]={}),this[e][o]=t[e][o];else this[e]=t[e];return this.recalculate(!0),this}},Y.prototype.hide=function(){return this.style.display="none",this},Y.prototype.show=function(){return this.style.display=void 0,this},Y.prototype.getAllChildren=function(t){var e=this,o=t?[e]:[];return e.children.forEach(function(t){o=o.concat(t.getAllChildren(!0))}),o},Y.prototype.getAllVisibleChildren=function(t){var e=this;if(l.default.funcOrValue(e.style.visible,e)===!1)return[];var o=t?[e]:[];return e.children.forEach(function(t){o=o.concat(t.getAllVisibleChildren(!0))}),o},Y.prototype.getOuterRect=T.default,Y.prototype.combine=k.default,Y.prototype.uncombine=_.default,Y.prototype.combineAsync=function(){return this.$combine?this:(this.$combine=9,this.off("ticked",this.combine),this.on("ticked",this.combine,100),this)},Y.prototype.recalculate=V.default,Y.prototype.refresh=function(){for(var t in $sprite.$style)$sprite.$cache[t]=Y.get($sprite.$style[t],$sprite);return this},Y.prototype.nextTick=g.default,Y.prototype.on=u.default,Y.prototype.off=h.default,Y.prototype.clear=p.default,Y.prototype.trigger=$.default,Y.prototype.broadcast=b.default,Y.prototype.distribute=w.default,t.exports=Y},function(t,e){"use strict";t.exports=function(){this.children.forEach(function(t){t.remove()}),this.children=[]}},function(t,e){"use strict";t.exports=function(t){var e=function e(){t.apply(this,arguments),this.off("ticked",e)};this.on("ticked",e)}},,,,,,,,function(t,e){"use strict";var o=function(t){setTimeout(t,1e3/60)},i="undefined"!=typeof requestAnimationFrame?requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||o:o;t.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=(Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},o(4)),r=(i(n),o(1));i(r)},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();this.hooks[e]&&r.default.execFuncs(this.hooks[e],this,t),t.unshift(e);var o=this.children;o&&o.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},r=o(1),l=i(r),a=o(4),s=(i(a),9),c=1,u=2,f=3;t.exports=function(){var t=this,e=this;return e.$combine!==s?c:(setTimeout(function(){if(e.$combine!==s)return c;if(e.getStyle("visible")===!1)return f;var o=t.$canvas,i=e.getRect(!1,!0);if(i.tw>o.width)return u;if(i.th>o.height)return u;for(var r=e.getAllChildren(!0),a=0;a<r.length;a++){var h=r[a];if(h.content.img&&!h.$render._imgWidth)return f;if(1!==h.getStyle("scale"))return f}var d=void 0;if("hidden"!==l.default.funcOrValue(e.style.overflow,e)){if(d=e.getOuterRect(!1,!0),d.left=Math.floor(d.left),d.top=Math.floor(d.top),d.width=Math.round(d.width),d.height=Math.round(d.height),d.right=Math.round(d.right),d.bottom=Math.round(d.bottom),d.width>o.width)return u;if(d.height>o.height)return u}else d=i;e.off("ticked",t.combine);var p=o.$children.filter(function(t){for(var e=0;e<r.length;e++)if(r[e].$id===t.$id)return!0}),v=e.getStyle("opacity");p.forEach(function(t){t.settings&&(t.settings.$combineGlobalAlpha=t.settings.globalAlpha,t.settings.globalAlpha=v>0?t.settings.globalAlpha/v:1,t.props.$moved||(t.props.$moved=!0,t.props.left-=d.left,t.props.top-=d.top))});var g=o.$combinerCanvas;g||(g=o.$combinerCanvas=document.createElement("canvas"),g.width=o.width,g.height=o.height);var m=g.getContext("2d");m.clearRect(0,0,o.width,o.height),o.$render(m,p,!0),p.forEach(function(t){t.settings&&(t.settings.globalAlpha=t.settings.$combineGlobalAlpha)});var $=document.createElement("canvas");$.width=d.width,$.height=d.height;var y=$.getContext("2d");y.drawImage(g,0,0,d.width,d.height,0,0,d.width,d.height),e.$combine={content:e.content,children:e.children,style:n({},e.style)},e.children=[],e.content={img:$};var b=e.getSelfStyle("left")-(Math.floor(i.left)-d.left),x=e.getSelfStyle("top")-(Math.floor(i.top)-d.top);return n(e.style,{scale:1,left:b,top:x,width:$.width,height:$.height,backgroundColor:void 0}),c}),this)}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1);i(n);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();t.unshift(e);var o=this.children;o&&o.forEach(function(e){e.broadcast.apply(e,t)})}},function(t,e){"use strict";t.exports=function(t,e){var o=this,i=o.getRect(t,e);return i.right=i.left+i.width,i.bottom=i.top+i.height,this.children.forEach(function(o){if(o.$cache.visible!==!1){var n=o.getOuterRect(t,e);n.left<i.left&&(i.left=n.left),n.top<i.top&&(i.top=n.top),n.right>i.right&&(i.right=n.right),n.bottom>i.bottom&&(i.bottom=n.bottom),i.width=i.right-i.left,i.height=i.bottom-i.top}}),i}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(t,e){this.hooks[t]&&(this.hooks[t]!==e&&this.hooks[t].$handle!==e&&e?r.default.isArray(this.hooks[t])&&(this.hooks[t].indexOf(e)>=0?this.hooks[t][this.hooks[t].indexOf(e)]=void 0:this.hooks[t].indexOf(e.$handle)>=0&&(this.hooks[t][this.hooks[t].indexOf(e.$handle)]=void 0)):delete this.hooks[t])}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(t,e,o){var i=e;if(o){var n=this;i=function(){var t=Date.now();if(t>i.$lastTriggerTime+o){i.$lastTriggerTime=t;var r=Array.prototype.slice.call(arguments);e.apply(n,r)}},i.$lastTriggerTime=-1,i.$handle=e}this.hooks[t]?r.default.isArray(this.hooks[t])?this.hooks[t].push(i):this.hooks[t]=[this.hooks[t],i]:this.hooks[t]=i}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n),l=o(18),a=i(l),s=o(4),c=i(s),u=function t(e){if(e){var o=r.default.funcOrValue(e.$style.scale,e);return 1!==o?e:t(e.$parent)}};t.exports=function(t){var e=this;if(!t&&r.default.execFuncs(e.hooks.beforeTick,e,[e.$canvas.$rafTime]),r.default.funcOrValue(e.style.visible,e)===!1)return e.$cache.visible=!1,void(!t&&r.default.execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime]));e.$cache.visible=!0,t&&(e.$cache={},c.default.styles.forEach(function(t){e.$needUpdate[t]=1,e.$cache[t]=void 0}));var o=Object.keys(e.$needUpdate).length;if(e.$lastUpdate=e.$needUpdate,o){var i={},n=function(t){var o=e.$cache[t];if("function"==typeof e.$style[t]?(i[t]=1,e.$cache[t]=e.$style[t].call(e)):e.$cache[t]=e.$style[t],"left"===t||"top"===t){var n=e.$parent;n&&(e.$cache[t]+=n.$cache[t]||0)}else if("opacity"===t||"scale"===t){var l=e.$parent;l&&(e.$cache[t]*=r.default.firstValuable(l.$cache[t],1))}o===e.$cache[t]?delete e.$needUpdate[t]:"left"!==t&&"top"!==t&&"opacity"!==t&&"scale"!==t||o!==e.$cache[t]&&e.children.forEach(function(e){e.$needUpdate[t]=1})};for(var l in e.$needUpdate)n(l);o=Object.keys(e.$needUpdate).length,e.$needUpdate=i}!t&&r.default.execFuncs(e.hooks.ticked,e,[e.$canvas.$rafTime]);var s=r.default.funcOrValue(e.content.text,e),f=r.default.funcOrValue(e.content.img,e);if(o||e.$cache.text!==s||e.$cache.img!==f||e.content.img&&!e.$render._imgWidth){var h=e.$render;e.$cache.img=h.img=f=r.default.funcOrValue(e.content.img,e),e.$cache.text=h.text=s,"string"==typeof h.img&&(h.img=e.content.img=e.$canvas.imgLoader(h.img)),f&&f._complete===!1&&(f=!1),h.backgroundColor=e.$cache.backgroundColor,h.border=e.$cache.border,h.overflow=e.$cache.overflow,h.overflowX=e.$cache.overflowX,h.overflowY=e.$cache.overflowY,h.locate=e.$cache.locate,h.rotate=e.$cache.rotate,h.scale=e.$cache.scale,h.opacity=e.$cache.opacity,h.$moved=!1,h.childrenInside=(h.overflow||h.overflowX||h.overflowY)&&"visible"!==h.overflow,h.left=e.$cache.left,h.top=e.$cache.top,h.width=e.$cache.width,h.height=e.$cache.height,h._imgWidth=0,h._imgHeight=0,f&&f.width&&(h._imgWidth=f.width||0,h._imgHeight=f.height||0,h.cutLeft=e.$cache.cutLeft||0,h.cutTop=e.$cache.cutTop||0,h.cutWidth=e.$cache.cutWidth||h._imgWidth,h.cutHeight=e.$cache.cutHeight||h._imgHeight,h.cutLeft=Math.round(h.cutLeft),h.cutTop=Math.round(h.cutTop),h.cutWidth=Math.round(h.cutWidth),h.cutHeight=Math.round(h.cutHeight),h.width=h.width||h.cutWidth||0,h.height=h.height||h.cutHeight||0),"lt"===h.locate||("ld"===h.locate?h.top-=h.height:"rt"===h.locate?h.left-=h.width:"rd"===h.locate?(h.left-=h.width,h.top-=h.height):(h.left-=h.width>>1,h.top-=h.height>>1)),h.left=Math.round(h.left),h.top=Math.round(h.top),h.width=Math.round(h.width),h.height=Math.round(h.height);var d=h.settings={};if(d.globalAlpha=r.default.firstValuable(h.opacity,1),h.childrenInside&&(d.clip=!0),1!==e.$cache.scale){var p=h.scale,v=u(e);if(v){var g=v.$render.left+v.$render.width/2,m=v.$render.top+v.$render.height/2;h.left-=(g-h.left)*(p-1),h.top-=(m-h.top)*(p-1),h.width*=p,h.height*=p}}if((h.fh||h.fv)&&(h.fh=h.fh||0,h.fv=h.fv||0,h.fx=h.fx||0,h.fy=h.fy||0,
d.transform={fh:h.fh,fv:h.fv,fx:-(h.top+(h.height>>1))*h.fv+h.fx,fy:-(h.left+(h.width>>1))*h.fh+h.fy}),h.blend&&(d.globalCompositeOperation="string"==typeof h.blend?h.blend:blend[h.blend]),h.backgroundColor&&(d.fillRect=h.backgroundColor),h.border&&(d.line=h.border),h.mirrX?(d.translate=[$canvas.width,0],d.scale=[-1,1],h.left=$canvas.width-h.left-h.width,h.mirrY&&(d.translate=[$canvas.width,$canvas.height],d.scale=[-1,-1],h.top=$canvas.height-h.top-h.height)):h.mirrY&&(d.translate=[0,$canvas.height],d.scale=[1,-1],h.top=$canvas.height-h.top-h.height),h.rotate){h.rx=r.default.firstValuable(r.default.funcOrValue(e.$cache.rx,e),h.left+.5*h.width),h.ry=r.default.firstValuable(r.default.funcOrValue(e.$cache.ry,e),h.top+.5*h.height);var $=r.default.firstValuable(h.rx,h.left+.5*h.width),y=r.default.firstValuable(h.ry,h.top+.5*h.height);d.beforeRotate=[$,y],d.rotate=-h.rotate*Math.PI/180,d.rotate=Number(d.rotate.toFixed(4)),d.afterRotate=[-$,-y]}h.$insight=(0,a.default)(h.left,h.top,h.width,h.height,0,0,e.$canvas.width,e.$canvas.height,d.beforeRotate&&d.beforeRotate[0],d.beforeRotate&&d.beforeRotate[1],h.rotate)}e.children.forEach(function(e){e.recalculate(t)})}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this.hooks[e])return r.default.execFuncs(this.hooks[e],this,t)}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(4);i(n);t.exports=function(){var t=this;if(this.$combine){if(9===this.$combine)return void(this.$combine=!1);this.content=this.$combine.content,this.children=this.$combine.children,Object.keys(this.style).forEach(function(e){t.style[e]=void 0}),Object.keys(this.$combine.style).forEach(function(e){t.style[e]=t.$combine.style[e]}),this.$combine=!1,this.recalculate(!0)}}},,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(4),r=i(n),l=o(122),a=i(l),s=o(56),c=i(s),u=o(162),f=i(u),h=o(1),d=i(h),p=o(16),v=i(p),g=o(31),m=i(g),$=o(161),y=i($),b=o(163),x=i(b),w=o(46),S=i(w),T=o(22),O=i(T),k=o(23),M=i(k),_=o(24),P=i(_),V=o(25),A=i(V),C=o(26),H=i(C),Y=o(27),E=i(Y),X=o(91),I=(i(X),{painter:a.default,imgLoader:m.default,imgPretreat:y.default,multlineText:x.default,transition:v.default,tick:c.default,utils:d.default,mirror:f.default,class:{sprite:S.default},sprite:S.default,$version:r.default.version,env:"production",Button:O.default,Image:M.default,Scroll:P.default,Sequence:A.default,Text:H.default,View:E.default});I.extend=function(t){var e=I.sprite.prototype.$extendList;e.indexOf(t)>=0||e.push(t)},I.use=function(t){var e=I.painter.prototype.$extendList;e.indexOf(t)>=0||(t.onUse&&t.onUse(I),e.push(t))};var R="undefined"!=typeof window;R&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):window.Easycanvas=I),e.default=I},,,,,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(110),r=i(n),l=o(111),a=i(l),s=o(108),c=i(s),u=o(121),f=(i(u),{$render:a.default,$eventHandler:c.default,$perPaint:r.default});t.exports=f},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n,r=o(1),l=i(r),a=o(4),s=(i(a),"undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),c=function(t){return t.sort(function(t,e){return l.default.funcOrValue(l.default.firstValuable(t.events.eIndex,t.style.zIndex),t)<l.default.funcOrValue(l.default.firstValuable(e.events.eIndex,e.style.zIndex),e)?1:-1})},u=function(t,e){var o=t.getRect();return l.default.pointInRect(e.canvasX,e.canvasY,o.left,o.left+o.width,o.top,o.top+o.height)},f=function t(e,o,i){if(e&&e.length&&!o.$stopPropagation)for(var n=e.length,r=0;r<n;r++){var a=e[r];if(l.default.funcOrValue(a.style.visible,a)!==!1&&(!a.events||"none"!==a.events.pointerEvents)){if(u(a,o)){var s=a.events.interceptor;if(s){var f=l.default.firstValuable(s.call(a,o),o);if(!f||f.$stopPropagation)return}}var h=a.$combine&&a.$combine.children?a.$combine.children:a.children;if(h.length&&t(c(h.filter(function(t){return l.default.funcOrValue(l.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0})),o,i),o.$stopPropagation)break;if(u(a,o))return d(a,o,i),void o.stopPropagation();h.length&&t(c(h.filter(function(t){return!(l.default.funcOrValue(l.default.firstValuable(t.events.eIndex,t.style.zIndex),t)>=0)})),o,i)}}},h=function(t,e){var o=this;this.$extendList.forEach(function(i){i.onEvent&&i.onEvent.call(o,t,e)})},d=function t(e,o,i){i&&i.push(e),e.events[o.type]&&(e.events[o.type].call(e,o),o.$stopPropagation)||(e.$parent?t(e.$parent,o,i):e.$canvas&&!o.$stopPropagation&&(t(e.$canvas,o),o.stopPropagation()))},p={x:0,y:0,timeStamp:0};n=function(t,e){var o=this,i=void 0,r=void 0,a=1,u=1;if(!e){!t.layerX&&t.targetTouches&&t.targetTouches[0]?(i=t.targetTouches[0].pageX-t.currentTarget.offsetLeft,r=t.targetTouches[0].pageY-t.currentTarget.offsetTop):!t.layerX&&t.changedTouches&&t.changedTouches[0]?(i=t.changedTouches[0].pageX-t.currentTarget.offsetLeft,r=t.changedTouches[0].pageY-t.currentTarget.offsetTop):(i=t.layerX,r=t.layerY);var d=!1;if(this.$dom.getBoundingClientRect){var v=this.$dom.getBoundingClientRect();a=Math.floor(v[d?"height":"width"])/this.width,u=Math.floor(v[d?"width":"height"])/this.height}}var g=e||{type:t.type,canvasX:i/a,canvasY:r/u,event:t};if(s&&o.fastclick){if("click"===g.type&&!g.$fakeClick)return;"touchstart"===g.type?(p.x=g.canvasX,p.y=g.canvasY,p.timeStamp=Date.now()):"touchend"===g.type&&Math.abs(p.x-g.canvasX)<30&&Math.abs(p.y-g.canvasY)<30&&Date.now()-p.timeStamp<200&&n.call(this,null,{$fakeClick:!0,type:"click",canvasX:p.x,canvasY:p.y,event:t})}if(g.stopPropagation=function(){g.$stopPropagation=!0},!o.events.interceptor||(g=l.default.firstValuable(o.events.interceptor.call(o,g),g),g&&!g.$stopPropagation)){var m=[];if(f(c(o.children),g,m),h.call(o,g,m),("mousemove"===g.type||"touchmove"===g.type)&&o.eLastMouseHover&&m.indexOf(o.eLastMouseHover)===-1){var $=o.eLastMouseHover.events.mouseout||o.eLastMouseHover.events.touchout;$&&$.call(o.eLastMouseHover,g)}if(o.eLastMouseHover=m[0],!m.length&&o.eLastMouseHover){var y=o.eLastMouseHover.events.mouseout;y&&y.call(o.eLastMouseHover,g),o.eLastMouseHover=null}var b=o.events[g.type];return b&&!g.$stopPropagation&&b.call(o,g)?(o.eHoldingFlag=!1,!0):void 0}},t.exports=n},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(t,e,o){e.filter(function(t){var e=r.default.funcOrValue(t.style.zIndex,t);return o<0?e<0:e>=0}).sort(function(t,e){var o=r.default.funcOrValue(t.style.zIndex,t),i=r.default.funcOrValue(e.style.zIndex,e);return o===i?0:o>i?1:-1}).forEach(function(e,o){t.$perPaint.call(t,e,o)})}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n),l=o(4),a=(i(l),o(109)),s=i(a),c=o(18),u=(i(c),function(t){var e=/[^\u4e00-\u9fa5]/;return!e.test(t)}),f=function(){var t=this;this.$canvas.$extendList.forEach(function(e){e.onPaint&&e.onPaint.call(t)})};t.exports=function(t,e){if(t.$rendered=!1,t.$cache.visible!==!1){var o=this;f.call(t);var i=t.$render,n=i.text,l=i.img,a=i.childrenInside;if(!(l||n||i.backgroundColor||i.border||a)){t.$rendered=void 0;var c=t.children;return void(c.length&&((0,s.default)(o,c,-1),(0,s.default)(o,c,1)))}var h=t.children,d=i.settings;if(d.clip){var p={$id:t.$id,type:"clip",props:i};p.$origin=t,o.$children.push(p)}if(h.length&&(0,s.default)(o,h,-1),d.fillRect){t.$rendered=!0;var v={$id:t.$id,type:"fillRect",settings:d,props:i};v.$origin=t,o.$children.push(v)}if(i._imgWidth&&0!==i.opacity&&i.cutWidth&&i.cutHeight){t.$rendered=!0;var g={$id:t.$id,type:"img",settings:d,img:l,props:i};g.$origin=t,o.$children.push(g)}if(n){i.textFont=t.$cache.textFont,i.color=t.$cache.color,i.textAlign=t.$cache.textAlign,i.textVerticalAlign=t.$cache.textVerticalAlign,t.$rendered=!0;var m=i.left,$=i.top,y=i.align||i.textAlign||"left",b=i.textFont||"14px Arial",x=parseInt(b),w="top",S=i.lineHeight||x;if("center"===y?m+=i.width/2:"right"===y&&(m+=i.width),"top"===i.textVerticalAlign?w="top":"bottom"===i.textVerticalAlign?(w="bottom",$+=i.height):"middle"===i.textVerticalAlign&&($+=i.height>>1,w="middle"),"string"==typeof n||"number"==typeof n)o.$children.push({$id:t.$id,type:"text",settings:d,props:{left:m,top:$,content:String(n),fontsize:x,align:y,baseline:w,font:b,color:i.color,type:i.textToppe},$origin:t});else if(n.length)n.forEach(function(e){o.$children.push({$id:t.$id,type:"text",settings:d,props:{left:m+r.default.funcOrValue(e.left,t),top:$+r.default.funcOrValue(e.top,t),content:r.default.funcOrValue(e.content,t),fontsize:x,baseline:w,align:y,font:b,color:i.color,type:i.textToppe},$origin:t})});else if("multline-text"===n.toppe){var T=n.text.split(/\t|\n/),O=[];T.forEach(function(t,e){t=String.prototype.trim.apply(t),n.config.start&&(t=t.replace(n.config.start,""));for(var o=0,r=i.width;t.length&&o<t.length;)r<=0&&(r=i.width,O.push(t.substr(0,o)),t=t.substr(o),o=0),o++,r-=x*(u(t[o])?1.05:.6);(t||e)&&O.push(t)}),O.forEach(function(e){o.$children.push({$id:t.$id,type:"text",settings:d,props:{left:m,top:$,fontsize:x,content:e,baseline:w,align:y,font:b,color:i.color,type:i.textToppe},$origin:t}),$+=S||x})}}if(l||n||(t.$rendered=void 0),h.length&&(0,s.default)(o,h,1),d.clip){var k={$id:t.$id,type:"clipOver",props:i};k.$origin=t,o.$children.push(k)}if(d.line){t.$rendered=!0;var M={$id:t.$id,type:"line",settings:d,props:i};M.$origin=t,o.$children.push(M)}}}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n),l=function(t,e){var o=this,i=!1;return this.$extendList.forEach(function(n){if(n.onRender){var r=n.onRender.call(o,t,e);r&&(i=r)}}),i};t.exports=function(t,e,o){var i=this,n=e||i.$children;o||i.webgl||(n=n.filter(function(t){return t.props.$insight!==!1})),n.forEach(function(e,o){var a=e.props,s=void 0;if(a&&"clip"!==e.type&&"text"!==e.type&&"clipOver"!==e.type&&"line"!==e.type&&(s=a.width*a.height,s>4e4&&!e.settings.transform&&!e.settings.rotate))for(var c=n.length,u=o+1;u<c;u++){var f=n[u];if(!f.$cannotCover)if("clip"!==f.type){var h=f.settings;if(f.type&&"img"===f.type||"fillRect"===f.type&&h.fillRect.indexOf("rgba")===-1){var d=f.props;if(d.width*d.height<4e4)f.$cannotCover=!0;else if(!(d.width*d.height<s))if(!f.img||f.img.$noAlpha){if(1!==h.globalAlpha||h.globalCompositeOperation||h.transform||h.rotate)f.$cannotCover=!0;else if(r.default.pointInRect(a.left,a.top,d.left,d.left+d.width,d.top,d.top+d.height)&&r.default.pointInRect(a.left+a.width,a.top+a.height,d.left,d.left+d.width,d.top,d.top+d.height))return}else f.$cannotCover=!0}else f.$cannotCover=!0}else for(;u<c&&"clipOver"!==n[++u].type;);}var p=e.settings||{};if(!l.call(i,e,p)){var v=t||i.$paintContext;"clip"===e.type&&(v.save(),v.beginPath(),v.moveTo(a.left,a.top),v.lineTo(a.left+a.width,a.top),v.lineTo(a.left+a.width,a.top+a.height),v.lineTo(a.left,a.top+a.height),v.lineTo(a.left,a.top),v.closePath(),v.clip());var g=!1;if(p.globalCompositeOperation&&(g||(v.save(),g=!0),v.globalCompositeOperation=p.globalCompositeOperation),v.$globalAlpha!==p.globalAlpha&&(v.$globalAlpha=v.globalAlpha=p.globalAlpha),p.translate&&(g||(v.save(),g=!0),v.translate(p.translate[0]||0,p.translate[1]||0)),p.rotate&&(g||(v.save(),g=!0),v.translate(p.beforeRotate[0]||0,p.beforeRotate[1]||0),v.rotate(p.rotate||0),v.translate(p.afterRotate[0]||0,p.afterRotate[1]||0)),p.scale&&(g||(v.save(),g=!0),v.scale(p.scale[0]||1,p.scale[1]||1)),p.transform&&(g||(v.save(),g=!0),v.transform(1,p.transform.fh,p.transform.fv,1,p.transform.fx,p.transform.fy)),"img"===e.type)v.drawImage(e.img,a.cutLeft,a.cutTop,a.cutWidth,a.cutHeight,a.left,a.top,a.width,a.height);else if("text"===e.type&&a.content)v.font=a.font,v.fillStyle=a.color||"white",v.textAlign=a.align,v.textBaseline=a.baseline,v[a.type||"fillText"](a.content,a.left,a.top);else if("fillRect"===e.type)v.fillStyle=p.fillRect,v.fillRect(a.left,a.top,a.width,a.height);else if("line"===e.type){v.beginPath();var m=a.border.substr(a.border.indexOf(" "))||"black";v.strokeStyle=m,v.lineWidth=a.border.split(" ")[0]||1,v.moveTo(a.left,a.top),v.lineTo(a.left+a.width,a.top),v.lineTo(a.left+a.width,a.top+a.height),v.lineTo(a.left,a.top+a.height),v.closePath(),v.stroke()}else"clipOver"===e.type&&v.restore();g&&(v.$globalAlpha=!1,v.restore())}})}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(116),r=i(n),l=o(120),a=i(l),s=o(113),c=i(s),u=o(47),f=i(u),h=o(114),d=i(h),p=o(48),v=i(p),g=o(115),m=i(g),$=o(117),y=i($),b=o(118),x=i(b),w=o(119),S=(i(w),o(46)),T=i(S),O={start:a.default,paint:c.default,add:T.default.prototype.add,remove:r.default,register:m.default,clear:f.default,setFpsHandler:y.default,setMaxFps:x.default,pause:d.default,on:T.default.prototype.on,off:T.default.prototype.off,trigger:T.default.prototype.trigger,broadcast:T.default.prototype.broadcast,nextTick:v.default,getAllChildren:T.default.prototype.getAllChildren};t.exports=O},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n),l=o(4);i(l);t.exports=function(){if(!(this.$pausing||this.$inBrowser&&document.hidden)){var t=this;r.default.execFuncs(t.hooks.beforeTick,t,[t.$rafTime]),t.children.forEach(function(t){t.recalculate()}),t.$freezing||(t.$lastTickChildren=t.$children,t.$children=[],this.children.sort(function(t,e){var o=r.default.funcOrValue(t.style.zIndex,t),i=r.default.funcOrValue(e.style.zIndex,e);return o===i?0:o>i?1:-1}).forEach(function(e,o){t.$perPaint(e,o)})),t.$paintContext.clearRect?(t.$paintContext.clearRect(0,0,this.width,this.height),t.$render()):t.$render(),r.default.execFuncs(t.hooks.ticked,t,[t.$rafTime]),t.hooks.nextTick&&(r.default.execFuncs(t.hooks.nextTick,t,[t.$rafTime]),delete t.hooks.nextTick)}}},function(t,e){"use strict";t.exports=function(t){this.$pausing=void 0===t||t}},function(t,e,o){"use strict";var i=function(t){var e=this;this.$extendList.forEach(function(o){o.onCreate&&o.onCreate.call(e,t)})};t.exports=function(t,e){var o=this,n=e||{};t=this.$dom=t||this.$dom;for(var r in n)this[r]=n[r];if(this.name=n.name||t.id||t.classList&&t.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,n.fullScreen&&"undefined"!=typeof document&&(t.width=t.style.width=document.body.clientWidth||document.documentElement.clientWidth,t.height=t.style.height=document.body.clientHeight||document.documentElement.clientHeight),t.width=this.width=this.width||n.width||t.width,t.height=this.height=this.height||n.height||t.height,this.events=n.events||{},this.hooks=n.hooks||{},this.$inBrowser){var l=["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"];l.forEach(function(e){t.addEventListener(e,o.$eventHandler.bind(o))})}return i.call(this,n),this.$paintContext=this.$paintContext||t.getContext("2d"),this}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=i(n);t.exports=function(t,e){r.default.execFuncs(t.hooks.beforeRemove,t,t.$tickedTimes++),t.style.visible=!1,t.$removing=!0,t.$parent?t.$parent.children=t.$parent.children.filter(function(t){return t.$removing!==!0}):this.children=this.children.filter(function(t){return t.$removing!==!0}),t.$canvas&&(t.$canvas=void 0,t.$parent=void 0,t.$tickedTimes=void 0,t.$cache={},t.$rendered=!1,r.default.execFuncs(t.hooks.removed,t,t.$tickedTimes)),e&&this.children.splice(this.children.indexOf(t),1)}},function(t,e){"use strict";t.exports=function(t){this.fpsHandler=t}},function(t,e){"use strict";t.exports=function(t){this.maxFps=t||-1}},function(t,e,o){"use strict"},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(56),r=i(n),l=o(16),a=i(l),s=function(){var t=Date.now();a.default.$lastPaintTime=this.$nextTickTime=t,t-this.fpsCalculateTime>=1e3&&(this.fpsCalculateTime=t,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,r.default)(c.bind(this))},c=function(t){if(this.$rafTime=t,s.call(this),this.maxFps>0&&this.maxFps<60){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()};t.exports=function(){return this.fpsCalculateTime=Date.now(),s.call(this),this}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(1),r=(i(n),o(4));i(r);t.exports=function(){}},function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(112),r=i(n),l=o(107),a=i(l),s=o(123),c=i(s),u=o(31),f=i(u),h=function(t){this.imgLoader=f.default;for(var e in c.default)this[e]=this[e]||JSON.parse(JSON.stringify(c.default[e]));t&&(t.el||(t={el:t}),t.el&&this.register("string"==typeof t.el?document.querySelector(t.el):t.el,t))};h.prototype.$extendList=[];for(var d in a.default)Object.prototype.hasOwnProperty.call(a.default,d)&&(h.prototype[d]=a.default[d]);for(var p in r.default)Object.prototype.hasOwnProperty.call(r.default,p)&&(h.prototype[p]=r.default[p]);t.exports=h},function(t,e){"use strict";var o={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1,$flags:{}};t.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=o(31),r=i(n),l=o(32),a=i(l);t.exports=function(t,e){var o;return(0,a.default)(t,function(t){return(0,r.default)(t,function(t){for(var i=t.width,n=t.height,r=t.getContext("2d").getImageData(0,0,i,n),l=r.data,a=l.length-1;a>=0;a-=4)if(e&&e.conversion){var s=e.conversion({r:l[a-3],g:l[a-2],b:l[a-1],a:l[a]},(a+1>>2)%i,Math.floor((a+1>>2)/i));l[a-3]=s.r,l[a-2]=s.g,l[a-1]=s.b,l[a-0]=s.a}t.getContext("2d").clearRect(0,0,i,n),t.getContext("2d").putImageData(r,0,0),o=t},{canvas:!0,cacheFlag:Math.random()})}),function(){return o}}},function(t,e){"use strict";t.exports=function(t){var e=t.width,o=t.height,i=document.createElement("canvas");i.width=e,i.height=o;var n=i.getContext("2d");n.scale(1,-1),n.translate(0,-o),n.drawImage(t,0,0);var r=n.getImageData(0,0,e,o);return{canvas:n,img:r}}},function(t,e){"use strict";t.exports=function(t,e){return{type:"multline-text",text:t,config:e}}}])});