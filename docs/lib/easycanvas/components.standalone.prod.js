!function(e,l){if("object"==typeof exports&&"object"==typeof module)module.exports=l();else if("function"==typeof define&&define.amd)define([],l);else{var t=l();for(var s in t)("object"==typeof exports?exports:e)[s]=t[s]}}(this,function(){return function(e){function l(s){if(t[s])return t[s].exports;var o=t[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,l),o.loaded=!0,o.exports}var t={};return l.m=e,l.c=t,l.p="",l(0)}({0:function(e,l,t){e.exports=t(34)},14:function(e,l,t){"use strict";var s={},o="\n".slice(0,1),r=function(e,l){var t=String(e),r=t+JSON.stringify(l);if(s[r])return s[r];var i;l.padding?(i=l.padding.split(" "),i=i.map(function(e){return parseInt(e)}),i[1]=Number(i[1]||i[0]),i[2]=Number(i[2]||i[0]),i[3]=Number(i[3]||i[1])):i=[0,0,0,0];var n=l.minWidth||l.width||(l.size||16)*t.length+i[1]+i[3]+100,a=t.split("\n").length,c=(l.size||16)*(Math.round(t.length)/n+a-1)*(l.lineHeight||l.size)+i[0]+i[2]+100,u=document.createElement("canvas");u.width=n,u.height=c;var h=u.getContext("2d");window.tempCanvas=u,window.tempCtx=h,h.textBaseline="middle",h.font=(l.style?l.style+" ":"")+l.size+"px "+(l.family||"serif"),h.fillStyle=l.color||"#000",h.textAlign=l.textAlign||"left";for(var d=0,p=l.lineHeight?(l.lineHeight-l.size)/2:0,f=0,v=1,g=0,m=0,y=1;;)if(m=h.measureText(t.slice(f,v)).width,m>l.width){if("ellipsis"===l.overflow){v-=2,h.fillText(t.slice(f,v)+"...",d,p+l.size/2),p+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:0),y++,g=l.width-i[1]-i[3];break}v-=1,h.fillText(t.slice(f,v),d,p+l.size/2),f=v,v=f+1,p+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:10),y++}else{if(v>t.length-1){m>g&&(g=m),h.fillText(t.slice(f,v),d,p+l.size/2),p+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:0);break}t.slice(v,v+1)===o&&(h.fillText(t.slice(f,v),d,p+l.size/2),v+=1,f=v,v=f+1,p+=l.size+(l.lineHeight?(l.lineHeight-l.size)/2:10),y++),m>g&&(g=m),v++}var w=document.createElement("canvas");w.lastLineLeft=m,w.lineCount=y,w.width=Math.max(g+i[1]+i[3],l.minWidth||0),w.height=p+i[0]+i[2];var $=w.getContext("2d");if(l.backgroundColor&&($.fillStyle=l.backgroundColor,$.fillRect(0,0,w.width,w.height)),$.drawImage(u,(w.width-g)/2,i[0]),l.border){var b=l.border.split(" "),x=b.pop();"solid"===b[b.length-1]&&b.pop();var S=b[0],Y=b[1]||S,X=b[2]||S,T=b[3]||Y||S;S=parseInt(S),Y=parseInt(Y),X=parseInt(X),T=parseInt(T);var H=l.borderRadius||0;if($.beginPath(),$.strokeStyle=x,S&&($.lineWidth=S,$.moveTo(T?H:0,0),$.lineTo(w.width-(Y?H:0),0)),Y&&($.lineWidth=Y,$.moveTo(w.width,S?H:0),$.lineTo(w.width,w.height-(X?H:0))),X&&($.lineWidth=X,$.moveTo(T?H:0,w.height),$.lineTo(w.width-(Y?H:0),w.height)),T&&($.lineWidth=T,$.moveTo(0,S?H:0),$.lineTo(0,w.height-(X?H:0))),$.stroke(),H){var N=document.createElement("canvas"),O=Math.min(w.width,w.height);N.width=N.height=O;var P=N.getContext("2d");P.beginPath(),P.strokeStyle=x,P.arc(O>>1,O>>1,(O>>1)-1,0,2*Math.PI),P.stroke(),S&&Y&&$.drawImage(N,O>>1,0,O>>1,O>>1,w.width-H,0,H,H),X&&Y&&$.drawImage(N,O>>1,O>>1,O>>1,O>>1,w.width-H,w.height-H,H,H),S&&T&&$.drawImage(N,0,0,O>>1,O>>1,0,0,H,H),X&&T&&$.drawImage(N,0,O>>1,O>>1,O>>1,0,w.height-H,H,H)}}return s[r]=w,w};e.exports=r},34:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=t(38),r=s(o),i=t(35),n=s(i),a=t(36),c=s(a),u=t(37),h=s(u);e.exports={button:n.default,scroll:c.default,text:r.default,sequence:h.default}},35:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=t(14),i=s(r),n="undefined"!=typeof window,a={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},c=void 0,u=function(e,l){e.buttonStyleNormal=o(a,{minWidth:l.style.tw,lineHeight:l.style.th,padding:0},l.props.normal),e.buttonStyleHovered=o({},e.buttonStyleNormal,l.props.hovered),e.buttonStylePressed=o({},e.buttonStyleNormal,l.props.pressed),e.imageNormal=(0,i.default)(l.props.text||"",e.buttonStyleNormal),e.imageHovered=l.props.hovered&&(0,i.default)(l.props.text||"",e.buttonStyleHovered),e.imagePressed=l.props.pressed&&(0,i.default)(l.props.text||"",e.buttonStylePressed)},h=function(e){var l=void 0;e.props=e.props||{};var t={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};u(t,e);var s={};return e.events=e.events||{},s.touchmove=s.mousemove=function(){l.content.img=t.imageHovered||t.imageNormal},s.touchstart=s.mousedown=function(){l.content.img=t.imagePressed||t.imageHovered||t.imageNormal},s.touchend=s.touchout=s.mouseout=function(){l.content.img=t.imageNormal},s.mouseup=function(){l.content.img=t.imageHovered||t.imageNormal},s.click=function(t){e.events.click&&e.events.click.call(l,t)},l=new c.class.sprite({name:e.name||"button_"+e.props.text,content:{img:t.imageNormal},style:e.style,props:e.props,events:s,hooks:e.hooks}),l.update=function(s){this.__proto__.update.call(this,s),u(t,e),l.content.img=t.imageNormal},l},d=function(e,l){return c=e,l&&(e.class[l]=h),h};n&&window.Easycanvas?(c=Easycanvas,Easycanvas.class.button=h):e.exports=d},36:function(e,l){"use strict";var t=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s="undefined"!=typeof window,o=void 0,r=void 0,i=function(e,l){return Math.abs(e)<Math.abs(l)?e:l},n={loose:function(e){e.$scroll.touching=!1},looper:function(e){if(e.$scroll&&e.$scroll.$scrolling){if(Math.abs(e.$scroll.speedX)>1?e.$scroll.speedX*=e.scroll.smooth||.8:e.$scroll.speedX=0,Math.abs(e.$scroll.speedY)>1?e.$scroll.speedY*=e.scroll.smooth||.8:e.$scroll.speedY=0,Math.abs(e.$scroll.speedX)<=1&&Math.abs(e.$scroll.speedY)<=1)return e.$scroll.$scrolling=!1,void(e.$scroll.$wheeling=!1);if(!e.$scroll.touching){if(e.scroll.scrollY-=e.$scroll.speedY,e.scroll.scrollX-=e.$scroll.speedX,!e.$scroll.touching&&!e.$scroll.$wheeling&&Math.abs(e.$scroll.speedY)<50&&e.scroll.anchors&&e.scroll.anchors.length)for(var l=e.scroll.anchorsRange||400,t=0;t<e.scroll.anchors.length;t++){var s=e.scroll.anchors[t],r=e.scroll.scrollY-s;if(r>0&&r<l&&e.$scroll.speedY>0||r<0&&r>-l&&e.$scroll.speedY<0){e.trigger("scrollTo",s,200),e.$scroll.speedY=0;break}}var i=o.utils.funcOrValue(e.scroll.minScrollX,e),n=o.utils.funcOrValue(e.scroll.maxScrollX,e),a=o.utils.funcOrValue(e.scroll.minScrollY,e),c=o.utils.funcOrValue(e.scroll.maxScrollY,e);!isNaN(a)&&e.scroll.scrollY<a?e.scroll.scrollY=a:!isNaN(c)&&e.scroll.scrollY>c&&(e.scroll.scrollY=c,e.broadcast("scrolledToBottom"),e.$scroll.speedY=0),!isNaN(i)&&e.scroll.scrollX<i?e.scroll.scrollX=i:!isNaN(n)&&e.scroll.scrollX>n&&(e.scroll.scrollX=n)}}},touch:function(e,l){var t=Date.now();if(e.$scroll.$wheeling=!1,e.$scroll.touching){e.$scroll.$scrolling=!0;var s=e.$scroll.startPos.x-l.canvasX,r=e.$scroll.startPos.y-l.canvasY,n=t-e.$scroll.touching;e.$scroll.touching=t;var a=o.utils.funcOrValue(e.scroll.minScrollX,e),c=o.utils.funcOrValue(e.scroll.maxScrollX,e),u=o.utils.funcOrValue(e.scroll.minScrollY,e),h=o.utils.funcOrValue(e.scroll.maxScrollY,e);if((e.scroll.scrollX+s<a||e.scroll.scrollX+s>c)&&(e.scroll.flexible||e.scroll.flexibleX?s>>=3:s=0),(e.scroll.scrollY+r<u||e.scroll.scrollY+r>h)&&(e.scroll.flexible||e.scroll.flexibleY?r>>=3:r=0),o.utils.funcOrValue(e.scroll.scrollableX,e)&&Math.abs(s)>=1&&n>1){var d=(l.canvasX-e.$scroll.startPos.x)/n*25;e.$scroll.lastScrollSpeed*d>0&&Math.abs(d)>15&&(d+=i(d,e.$scroll.lastScrollSpeed)),e.$scroll.speedX=(e.$scroll.lastTouchSpeed+d)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=d,e.scroll.scrollX+=s}if(o.utils.funcOrValue(e.scroll.scrollableY,e)&&Math.abs(r)>=1&&n>1){var p=(l.canvasY-e.$scroll.startPos.y)/n*25;e.$scroll.lastScrollSpeed*p>0&&Math.abs(p)>15&&(p+=i(p,e.$scroll.lastScrollSpeed)),e.$scroll.speedY=(e.$scroll.lastTouchSpeed+p)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=p,e.scroll.scrollY+=r}if(e.$scroll.startPos.x=l.canvasX,e.$scroll.startPos.y=l.canvasY,Math.abs(s)>Math.abs(r)+1)return 1;if(Math.abs(s)<Math.abs(r)-1)return 2}else e.$scroll.touching=t,e.$scroll.quickTouch=t,e.$scroll.lastTouchSpeed=0,e.$scroll.startPos.x=l.canvasX,e.$scroll.startPos.y=l.canvasY,e.$scroll.lastScrollSpeed=e.$scroll.speedX||e.$scroll.speedY,e.$scroll.speedX=0,e.$scroll.speedY=0},wheel:function(e,l){e.$scroll.speedX=o.utils.funcOrValue(e.scroll.scrollableX,e)?l.event.wheelDeltaX:0,e.$scroll.speedY=o.utils.funcOrValue(e.scroll.scrollableY,e)?l.event.wheelDeltaY:0,e.$scroll.$scrolling=!0,e.$scroll.$wheeling=!0,l.stopPropagation()}},a=function(e){var l=!1,s=e||{};s.scroll=t({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var e=this,l=0;return this.getChildren().forEach(function(t){var s=t.getSelfStyle("tx")+t.getSelfStyle("tw")-e.getStyle("tw");s>l&&(l=s)}),l},minScrollY:0,maxScrollY:function(){var e=this,l=0;return this.getChildren().forEach(function(t){var s=t.getSelfStyle("ty")+t.getSelfStyle("th")-e.getStyle("th");s>l&&(l=s)}),l},propagationX:!1,propagationY:!1},e.scroll);var i=function e(){l?c.scroll.scrollY=l():c.off("ticked",e)},a=!1;s.events=t({touchstart:function(e){n.loose(this),a=!0,r=!1,n.touch(this,e),c.scroll.propagationX||c.scroll.propagationY||e.stopPropagation()},touchmove:function(e){if(a&&(!r||this===r)){var l=n.touch(this,e);1===l&&c.scroll.propagationY?(e.stopPropagation(),r=this):2===l&&c.scroll.propagationX&&(e.stopPropagation(),r=this)}},mousewheel:function(e){a=!0,n.wheel(this,e),e.stopPropagation()},touchend:function(){a=!1,n.loose(this)},mouseup:function(){a=!1,n.loose(this)}},s.events||{}),s.scroll.capture&&(s.events.interceptor=function(e){return c.events[e.type]?(c.events[e.type].call(c,e),!1):e});var c=new o.class.sprite(s);c.on("ticked",function(){n.looper(c)}),c.on("scrollTo",function(e,t,s){l=o.transition.pendulum(c.scroll.scrollY,e,2*(t||200),{cycle:.5}).then(function(){l=!1,s&&s()}),c.on("ticked",i)}),c.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var u=c.add({name:"scrolling-element",style:{tx:function(){return-this.$parent.scroll.scrollX},ty:function(){return-this.$parent.scroll.scrollY}}});return c.add=u.add.bind(u),c.clear=u.clear.bind(u),c.getChildren=function(){return u.children},c},c=function(e,l){return o=e,l&&(e.class[l]=a),a};s&&window.Easycanvas?(o=Easycanvas,Easycanvas.class.scroll=a):e.exports=c},37:function(e,l){"use strict";var t="undefined"!=typeof window,s=void 0,o=function(e){var l=new s.class.sprite(e);return e.props.index=e.props.index||0,l.on("beforeTick",function(){var e=this.props,l=s.utils.funcOrValue(this.content.img,this);if(l&&l.width){var t=e.index||0;t<0&&(t=0);var o=void 0,r=void 0;if(e.frameWidth||e.frameHeight){o=e.frameWidth<0?l.width/-e.frameWidth:e.frameWidth,r=e.frameHeight<0?l.height/-e.frameHeight:e.frameHeight;var i=Math.floor(l.width/o),n=Math.floor(l.height/r);this.style.sx=t%i*o,this.style.sy=Math.floor(t/i)%n*r}!e.loop&&t>0&&0===this.style.sx&&0===this.style.sy&&(this.style.img=void 0,e.onOver?e.onOver.call(this):this.remove()),e.lastFrameTime=e.lastFrameTime||0,this.$canvas.$nextTickTime-e.lastFrameTime>=s.utils.funcOrValue(e.interval,this)&&(e.lastFrameTime=this.$canvas.$nextTickTime,e.index++),this.style.sw=this.style.sw||o,this.style.sh=this.style.sh||r,this.style.tw=this.style.tw||o,this.style.th=this.style.th||r}}),l},r=function(e,l){return s=e,l&&(e.class[l]=o),o};t&&window.Easycanvas?(s=Easycanvas,Easycanvas.class.sequence=o):e.exports=r},38:function(e,l,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var l=1;l<arguments.length;l++){var t=arguments[l];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r=t(14),i=s(r),n="undefined"!=typeof window,a={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'},c=void 0,u=function(e){e.content.img=e.props?(0,i.default)(e.props.text,o({},a,{lineHeight:e.props.size},e.props)):void 0},h=function(e){var l=void 0;return l=new c.class.sprite(e),u(l),l.update=function(e){this.__proto__.update.call(this,e),u(this)},l},d=function(e,l){return c=e,l&&(e.class[l]=h),h};n&&window.Easycanvas?(c=Easycanvas,Easycanvas.class.text=h):e.exports=d}})});