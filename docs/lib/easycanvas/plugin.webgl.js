!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}({0:function(e,t,r){e.exports=r(59)},1:function(e,t){"use strict";var r={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){if("function"==typeof e){var r=e.call(t);return r}return e},execFuncs:function(e,t,n){if(e&&(r.isArray(n)||(n=[n])),"function"==typeof e)return e.apply(t,n);if(r.isArray(e)){var a=[];return e.forEach(function(e){a.push(e&&e.apply(t,n))}),a}},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,r,n,a,o){return!(r>e||e>n||a>t||t>o)},firstValuable:function(e,t,r){return void 0===e?void 0===t?r:t:e}};e.exports=r},2:function(e,t){"use strict";var r=3.141593;e.exports=function(e,t,n,a,o,i){var c=o?-o/180*r:0,l=e,u=t;return o&&(l=(e-n)*Math.cos(c)-(t-a)*Math.sin(c)+n,u=(e-n)*Math.sin(c)+(t-a)*Math.cos(c)+a),i?[l,u]:{x:l,y:u}}},5:function(e,t){"use strict";function r(e,t){if(e&&e.match(/^data:/))return void(t&&t(e));if(a[e])return void(a[e]!==n?t(a[e]):setTimeout(function(){r(e,t)},100));a[e]=n;var o=new XMLHttpRequest;o.onload=function(){var r=new FileReader;r.onloadend=function(){a[e]=r.result,t&&t(r.result)},r.readAsDataURL(o.response)},o.open("GET",e),o.responseType="blob",o.send()}var n="processing",a={};e.exports=r},7:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2);n(a);e.exports=function(e,t,r,n,a,o,i,c,l){return l&&(e=(e-i)*Math.cos(l)-(t-c)*Math.sin(l)+i,t=(e-i)*Math.sin(l)+(t-c)*Math.cos(l)+c),!(r>e||e>r+a||n>t||t>n+o)}},8:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(2),o=(n(a),r(7)),i=n(o);e.exports=function(e,t,r,n,a,o,c,l,u,s,f){var d=(0,i.default)(e,t,a,o,c,l,u,s,f)||(0,i.default)(e+r,t,a,o,c,l,u,s,f)||(0,i.default)(e,t+n,a,o,c,l,u,s,f)||(0,i.default)(e+r,t+n,a,o,c,l,u,s,f);if(d)return!0;var v=(0,i.default)(a,o,e,t,r,n,u,s,-f)||(0,i.default)(a+c,o,e,t,r,n,u,s,-f)||(0,i.default)(a,o+l,e,t,r,n,u,s,-f)||(0,i.default)(a+c,o+l,e,t,r,n,u,s,-f);return!!v}},21:function(e,t){"use strict";var r=function(e,t){for(var r=e.length,n=Array(Math.round(r*t)),a=0,o=n.length;o>a;a++)n[a]=e[a%r];return n};e.exports={arrayRepeat:r}},29:function(e,t){"use strict";e.exports=function(){function e(e,t,r){r=r||new Float32Array(16);var n=t[0],a=t[1],o=t[2],i=t[3],c=t[4],l=t[5],u=t[6],s=t[7],f=t[8],d=t[9],v=t[10],g=t[11],h=t[12],p=t[13],m=t[14],_=t[15],b=e[0],x=e[1],w=e[2],A=e[3],y=e[4],R=e[5],T=e[6],E=e[7],F=e[8],L=e[9],M=e[10],B=e[11],S=e[12],D=e[13],U=e[14],P=e[15];return r[0]=n*b+a*y+o*F+i*S,r[1]=n*x+a*R+o*L+i*D,r[2]=n*w+a*T+o*M+i*U,r[3]=n*A+a*E+o*B+i*P,r[4]=c*b+l*y+u*F+s*S,r[5]=c*x+l*R+u*L+s*D,r[6]=c*w+l*T+u*M+s*U,r[7]=c*A+l*E+u*B+s*P,r[8]=f*b+d*y+v*F+g*S,r[9]=f*x+d*R+v*L+g*D,r[10]=f*w+d*T+v*M+g*U,r[11]=f*A+d*E+v*B+g*P,r[12]=h*b+p*y+m*F+_*S,r[13]=h*x+p*R+m*L+_*D,r[14]=h*w+p*T+m*M+_*U,r[15]=h*A+p*E+m*B+_*P,r}function t(e,t,r){return r=r||new Float32Array(3),r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r}function r(e,t,r){return r=r||new Float32Array(3),r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function n(e,t){t=t||new Float32Array(3);var r=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return r>1e-5&&(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r),t}function a(e,t,r){return r=r||new Float32Array(3),r[0]=e[1]*t[2]-e[2]*t[1],r[1]=e[2]*t[0]-e[0]*t[2],r[2]=e[0]*t[1]-e[1]*t[0],r}function o(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function i(e,t){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function c(e,t){return Math.sqrt(i(e,t))}function l(e){return e=e||new Float32Array(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e,t){return t=t||new Float32Array(16),t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t}function s(e,t,o,i){i=i||new Float32Array(16);var c=n(r(e,t)),l=n(a(o,c)),u=n(a(c,l));return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=0,i[4]=u[0],i[5]=u[1],i[6]=u[2],i[7]=0,i[8]=c[0],i[9]=c[1],i[10]=c[2],i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}function f(e,t,r,n,a){a=a||new Float32Array(16);var o=Math.tan(.5*Math.PI-.5*e),i=1/(r-n);return a[0]=o/t,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(r+n)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=r*n*i*2,a[15]=0,a}function d(e,t,r,n,a,o,i){return i=i||new Float32Array(16),i[0]=2/(t-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-r),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(a-o),i[11]=0,i[12]=(e+t)/(e-t),i[13]=(r+n)/(r-n),i[14]=(a+o)/(a-o),i[15]=1,i}function v(e,t,r,n,a,o){var i=t-e,c=n-r,l=o-a;return dst[0]=2*a/i,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*a/c,dst[6]=0,dst[7]=0,dst[8]=(e+t)/i,dst[9]=(n+r)/c,dst[10]=-(o+a)/l,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=-2*a*o/l,dst[15]=0,dst}function g(e,t,r,n){return n=n||new Float32Array(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e,n[13]=t,n[14]=r,n[15]=1,n}function h(e,t,r,n,a){a=a||new Float32Array(16);var o=e[0],i=e[1],c=e[2],l=e[3],u=e[4],s=e[5],f=e[6],d=e[7],v=e[8],g=e[9],h=e[10],p=e[11],m=e[12],_=e[13],b=e[14],x=e[15];return e!==a&&(a[0]=o,a[1]=i,a[2]=c,a[3]=l,a[4]=u,a[5]=s,a[6]=f,a[7]=d,a[8]=v,a[9]=g,a[10]=h,a[11]=p),a[12]=o*t+u*r+v*n+m,a[13]=i*t+s*r+g*n+_,a[14]=c*t+f*r+h*n+b,a[15]=l*t+d*r+p*n+x,a}function p(e,t){t=t||new Float32Array(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function m(e,t,r){r=r||new Float32Array(16);var n=e[4],a=e[5],o=e[6],i=e[7],c=e[8],l=e[9],u=e[10],s=e[11],f=Math.cos(t),d=Math.sin(t);return r[4]=f*n+d*c,r[5]=f*a+d*l,r[6]=f*o+d*u,r[7]=f*i+d*s,r[8]=f*c-d*n,r[9]=f*l-d*a,r[10]=f*u-d*o,r[11]=f*s-d*i,e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function _(e,t){t=t||new Float32Array(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(e,t,r){r=r||new Float32Array(16);var n=e[0],a=e[1],o=e[2],i=e[3],c=e[8],l=e[9],u=e[10],s=e[11],f=Math.cos(t),d=Math.sin(t);return r[0]=f*n-d*c,r[1]=f*a-d*l,r[2]=f*o-d*u,r[3]=f*i-d*s,r[8]=f*c+d*n,r[9]=f*l+d*a,r[10]=f*u+d*o,r[11]=f*s+d*i,e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function x(e,t){t=t||new Float32Array(16);var r=Math.cos(e),n=Math.sin(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(e,t,r){r=r||new Float32Array(16);var n=e[0],a=e[1],o=e[2],i=e[3],c=e[4],l=e[5],u=e[6],s=e[7],f=Math.cos(t),d=Math.sin(t);return r[0]=f*n+d*c,r[1]=f*a+d*l,r[2]=f*o+d*u,r[3]=f*i+d*s,r[4]=f*c-d*n,r[5]=f*l-d*a,r[6]=f*u-d*o,r[7]=f*s-d*i,e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r}function A(e,t,r){r=r||new Float32Array(16);var n=e[0],a=e[1],o=e[2],i=Math.sqrt(n*n+a*a+o*o);n/=i,a/=i,o/=i;var c=n*n,l=a*a,u=o*o,s=Math.cos(t),f=Math.sin(t),d=1-s;return r[0]=c+(1-c)*s,r[1]=n*a*d+o*f,r[2]=n*o*d-a*f,r[3]=0,r[4]=n*a*d-o*f,r[5]=l+(1-l)*s,r[6]=a*o*d+n*f,r[7]=0,r[8]=n*o*d+a*f,r[9]=a*o*d-n*f,r[10]=u+(1-u)*s,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function y(e,t,r,n){n=n||new Float32Array(16);var a=t[0],o=t[1],i=t[2],c=Math.sqrt(a*a+o*o+i*i);a/=c,o/=c,i/=c;var l=a*a,u=o*o,s=i*i,f=Math.cos(r),d=Math.sin(r),v=1-f,g=l+(1-l)*f,h=a*o*v+i*d,p=a*i*v-o*d,m=a*o*v-i*d,_=u+(1-u)*f,b=o*i*v+a*d,x=a*i*v+o*d,w=o*i*v-a*d,A=s+(1-s)*f,y=e[0],R=e[1],T=e[2],E=e[3],F=e[4],L=e[5],M=e[6],B=e[7],S=e[8],D=e[9],U=e[10],P=e[11];return n[0]=g*y+h*F+p*S,n[1]=g*R+h*L+p*D,n[2]=g*T+h*M+p*U,n[3]=g*E+h*B+p*P,n[4]=m*y+_*F+b*S,n[5]=m*R+_*L+b*D,n[6]=m*T+_*M+b*U,n[7]=m*E+_*B+b*P,n[8]=x*y+w*F+A*S,n[9]=x*R+w*L+A*D,n[10]=x*T+w*M+A*U,n[11]=x*E+w*B+A*P,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n}function R(e,t,r,n){return n=n||new Float32Array(16),n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=t,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=r,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function T(e,t,r,n,a){return a=a||new Float32Array(16),a[0]=t*e[0],a[1]=t*e[1],a[2]=t*e[2],a[3]=t*e[3],a[4]=r*e[4],a[5]=r*e[5],a[6]=r*e[6],a[7]=r*e[7],a[8]=n*e[8],a[9]=n*e[9],a[10]=n*e[10],a[11]=n*e[11],e!==a&&(a[12]=e[12],a[13]=e[13],a[14]=e[14],a[15]=e[15]),a}function E(e,t){t=t||new Float32Array(16);var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],c=e[5],l=e[6],u=e[7],s=e[8],f=e[9],d=e[10],v=e[11],g=e[12],h=e[13],p=e[14],m=e[15],_=d*m,b=p*v,x=l*m,w=p*u,A=l*v,y=d*u,R=a*m,T=p*o,E=a*v,F=d*o,L=a*u,M=l*o,B=s*h,S=g*f,D=i*h,U=g*c,P=i*f,$=s*c,z=r*h,I=g*n,O=r*f,V=s*n,C=r*c,N=i*n,Y=_*c+w*f+A*h-(b*c+x*f+y*h),j=b*n+R*f+F*h-(_*n+T*f+E*h),X=x*n+T*c+L*h-(w*n+R*c+M*h),G=y*n+E*c+M*f-(A*n+F*c+L*f),W=1/(r*Y+i*j+s*X+g*G);return t[0]=W*Y,t[1]=W*j,t[2]=W*X,t[3]=W*G,t[4]=W*(b*i+x*s+y*g-(_*i+w*s+A*g)),t[5]=W*(_*r+T*s+E*g-(b*r+R*s+F*g)),t[6]=W*(w*r+R*i+M*g-(x*r+T*i+L*g)),t[7]=W*(A*r+F*i+L*s-(y*r+E*i+M*s)),t[8]=W*(B*u+U*v+P*m-(S*u+D*v+$*m)),t[9]=W*(S*o+z*v+V*m-(B*o+I*v+O*m)),t[10]=W*(D*o+I*u+C*m-(U*o+z*u+N*m)),t[11]=W*($*o+O*u+N*v-(P*o+V*u+C*v)),t[12]=W*(D*d+$*p+S*l-(P*p+B*l+U*d)),t[13]=W*(O*p+B*a+I*d-(z*d+V*p+S*a)),t[14]=W*(z*l+N*p+U*a-(C*p+D*a+I*l)),t[15]=W*(C*d+P*a+V*l-(O*l+N*d+$*a)),t}function F(e,t,r){r=r||new Float32Array(4);for(var n=0;4>n;++n){r[n]=0;for(var a=0;4>a;++a)r[n]+=t[a]*e[4*a+n]}return r}function L(e,t,r){r=r||new Float32Array(3);var n=t[0],a=t[1],o=t[2],i=n*e[3]+a*e[7]+o*e[11]+e[15];return r[0]=(n*e[0]+a*e[4]+o*e[8]+e[12])/i,r[1]=(n*e[1]+a*e[5]+o*e[9]+e[13])/i,r[2]=(n*e[2]+a*e[6]+o*e[10]+e[14])/i,r}function M(e,t,r){r=r||new Float32Array(3);var n=t[0],a=t[1],o=t[2];return r[0]=n*e[0]+a*e[4]+o*e[8],r[1]=n*e[1]+a*e[5]+o*e[9],r[2]=n*e[2]+a*e[6]+o*e[10],r}function B(e,t,r){r=r||new Float32Array(3);var n=E(e),a=t[0],o=t[1],i=t[2];return r[0]=a*n[0]+o*n[1]+i*n[2],r[1]=a*n[4]+o*n[5]+i*n[6],r[2]=a*n[8]+o*n[9]+i*n[10],r}function S(e,t){return t=t||new Float32Array(16),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}return{copy:S,lookAt:s,addVectors:t,subtractVectors:r,distance:c,distanceSq:i,normalize:n,cross:a,dot:o,identity:l,transpose:u,orthographic:d,frustum:v,perspective:f,translation:g,translate:h,xRotation:p,yRotation:_,zRotation:x,xRotate:m,yRotate:b,zRotate:w,axisRotation:A,axisRotate:y,scaling:R,scale:T,multiply:e,inverse:E,transformVector:F,transformPoint:L,transformDirection:M,transformNormal:B}}},59:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){return e*Math.PI/180}var o,i=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=r(29),l=n(c),u=r(73),s=n(u),f=r(72),d=n(f),v=r(21),g=r(1),h=n(g),p=r(8),m=n(p),_=r(5),b=n(_),x=(0,l.default)(),w="undefined"!=typeof window,A=function(e){console.error("[Easycanvas-webgl] "+e)},y=function(){var e={};return function(t,r,n,a,o){var i=""+r+n+a+o;if(t.singleShader&&(i="singleShader"+r),e[i])return e[i];var c=d.default[t.singleShader?"final":"factory"](t,r)(n,a,o),l=t.createShader(r);if(t.shaderSource(l,c),t.compileShader(l),!t.getShaderParameter(l,t.COMPILE_STATUS)){var u=t.getShaderInfoLog(l);throw"Could not compile WebGL program. \n\n"+u}return e[i]=l,l}}(),R=function(e,t,r){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var a=e.getProgramInfoLog(n);throw"Could not compile WebGL program. \n\n"+a}return n},T=function(){var e;return function(t,r,n,a){var o=""+r+n+a;if(t.singleShader&&(o="singleShader"),e!==o){e=o;var i,c;i=y(t,t.VERTEX_SHADER,r,n,a),c=y(t,t.FRAGMENT_SHADER,r,n,a),t.program=R(t,i,c),t.useProgram(t.program),t.positionLocation=t.getAttribLocation(t.program,"a_position"),t.normalLocation=t.getAttribLocation(t.program,"a_normal"),0===r?t.colorLocation=t.getAttribLocation(t.program,"a_color"):t.texcoordLocation=t.getAttribLocation(t.program,"a_texcoord"),t.sizeLocation=t.getAttribLocation(t.program,"u_size"),t.worldViewProjectionLocation=t.getUniformLocation(t.program,"u_worldViewProjection"),t.worldInverseTransposeLocation=t.getUniformLocation(t.program,"u_worldInverseTranspose"),t.reverseLightDirectionLocation=t.getUniformLocation(t.program,"u_reverseLightDirection"),t.vShaderTypeLocation=t.getUniformLocation(t.program,"v_shaderType"),t.fShaderTypeLocation=t.getUniformLocation(t.program,"f_shaderType"),t.matrixLocation=t.getUniformLocation(t.program,"u_matrix"),0===r?t.textureLocation=t.getUniformLocation(t.program,"u_texture"):t.textureMatrixLocation=t.getUniformLocation(t.program,"u_textureMatrix"),t.enableVertexAttribArray(t.positionLocation),n&&t.enableVertexAttribArray(t.normalLocation),t.enableVertexAttribArray(t.texcoordLocation),t.enableVertexAttribArray(t.colorLocation)}}}(),E={},F=function(e,t,r){var n=e.props,a=e.webgl,o=r.$gl;if("3d"!==e.type){if(!n[0]&&n.content){var i=n.content+n.font+n.align+n.color,c=E[i];if(!c){var l=o.createTexture(),u=document.createElement("canvas").getContext("2d");u.clearRect(0,0,u.canvas.width,u.canvas.height),u.canvas.width=n.content.length*parseInt(n.font)*2,u.canvas.height=parseInt(n.font)+5,u.font=n.font,u.textAlign=n.align,u.fillStyle=n.color,u.fillText(n.content,"right"===n.align?u.canvas.width:"center"===n.align?u.canvas.width/2:0,u.canvas.height-5),o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,u.canvas),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),c=E[i]={texture:l,width:u.canvas.width,height:u.canvas.height,img:u.canvas,canvas:u.canvas}}n=[c,0,0,c.canvas.width,c.canvas.height,"right"===n.align?n.tx-c.canvas.width:"center"===n.align?n.tx-c.canvas.width/2:n.tx,n.ty-c.canvas.height+5,c.canvas.width,c.canvas.height]}if(n[0]&&n[0].texture){var s=(0,m.default)(n[5],n[6],n[7],n[8],0,0,r.width,r.height,t.beforeRotate&&t.beforeRotate[0],t.beforeRotate&&t.beforeRotate[1],t.rotate);if(!s)return;if(0===n[0].img.width)return;o.bindTexture(o.TEXTURE_2D,n[0].texture),M(r,n[0].texture,n[0].width,n[0].height,n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],t)}}else if("3d"===e.type&&(a.img||a.colors)){if(a.img&&a.img.texture&&o.bindTexture(o.TEXTURE_2D,a.img.texture),a.longSide&&!r.webgl.$camera){var f=1.8*a.longSide,d=r.webgl.$depth,s=(0,m.default)(a.tx-f,a.ty-f,2*f,2*f,a.tz/d*r.width/2,a.tz/d*r.height/2,r.width-a.tz/d*r.width/2,r.height-a.tz/d*r.height/2,0,0,0);if(!s)return}L(r,a)}},L=function(e,t){if(t.colors&&t.colors.length||t.textures&&t.textures.length){var r=e.$gl;t.hasAlpha?(r.disable(r.DEPTH_TEST),r.enable(r.BLEND)):(r.enable(r.DEPTH_TEST),r.disable(r.BLEND));var n,o,i,c,l,u=t.vertices.$cacheBuffer;if(u||(u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),t.vertices.$cacheBuffer=u),t.colors?(n=t.colors.$cacheBuffer,n||(n=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,t.colors,r.STATIC_DRAW),t.colors.$cacheBuffer=n)):(o=t.textures.$cacheBuffer,o||(o=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,t.textures,r.STATIC_DRAW),t.textures.$cacheBuffer=o)),t.pointSizes&&(l=t.pointSizes.$cacheBuffer,l||(l=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,t.pointSizes,r.STATIC_DRAW),t.pointSizes.$cacheBuffer=l)),t.indices&&(i=t.indices.$cacheBuffer,i||(i=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW),t.indices.$cacheBuffer=i)),t.normals&&(c=t.normals.$cacheBuffer,c||(c=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,t.normals,r.STATIC_DRAW),t.normals.$cacheBuffer=c)),n?(T(r,0,e.webgl.light,t.primitive),r.bindBuffer(r.ARRAY_BUFFER,n),r.vertexAttribPointer(r.colorLocation,t.hasAlpha?4:3,r.UNSIGNED_BYTE,!0,0,0)):o&&(T(r,1,e.webgl.light,t.primitive),r.bindBuffer(r.ARRAY_BUFFER,o),r.vertexAttribPointer(r.texcoordLocation,2,r.FLOAT,!1,0,0)),t.pointSizes&&(r.bindBuffer(r.ARRAY_BUFFER,l),r.vertexAttribPointer(r.sizeLocation,1,r.FLOAT,!1,0,0)),t.vertices&&(r.bindBuffer(r.ARRAY_BUFFER,u),r.vertexAttribPointer(r.positionLocation,3,r.FLOAT,!1,0,0)),t.normals&&(r.bindBuffer(r.ARRAY_BUFFER,c),r.vertexAttribPointer(r.normalLocation,3,r.FLOAT,!1,0,0)),e.webgl.$fudgeFactor){var s=r.getUniformLocation(r.program,"u_fudgeFactor"),f=e.webgl.$fudgeFactor;r.uniform1f(s,f)}var d;if(d=e.webgl.$camera?e.webgl.$camera.viewProjectionMatrix:r.orthographic,d=x.translate(d,t.tx||0,t.ty||0,t.tz||0),t.rx&&(d=x.xRotate(d,a(t.rx))),t.ry&&(d=x.yRotate(d,a(t.ry))),t.rz&&(d=x.zRotate(d,a(t.rz))),d=x.scale(d,(1!==t.scaleX?t.scaleX:t.scale)||1,(1!==t.scaleY?t.scaleY:t.scale)||1,(1!==t.scaleZ?t.scaleZ:t.scale)||1),e.webgl.light&&(r.uniformMatrix4fv(r.worldViewProjectionLocation,!1,d),r.uniformMatrix4fv(r.worldInverseTransposeLocation,!1,x.transpose(d))),r.uniformMatrix4fv(r.matrixLocation,!1,d),e.webgl.light){var v=r.getUniformLocation(r.program,"a_color");r.uniform4fv(v,[1,1,1,1]),r.uniform3fv(r.reverseLightDirectionLocation,x.normalize([0,1,0]))}r.uniform1i(r.textureLocation,0);var g=r.getUniformLocation(r.program,"f_shaderType");r.uniform1i(g,h.default.firstValuable(t.primitive,2));var p=r.getUniformLocation(r.program,"v_shaderType");r.uniform1i(p,h.default.firstValuable(t.primitive,2)),i?(r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.drawElements(r.TRIANGLES,t.indices.length,r.UNSIGNED_SHORT,0)):r.drawArrays(0===t.primitive?r.POINTS:r.TRIANGLES,0,t.vertices.length/3)}},M=function(e,t,r,n,a,i,c,l,u,s,f,d,v){var g=e.$gl;if(g.enable(g.BLEND),g.disable(g.DEPTH_TEST),T(g,1),!o){o=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,o);var h=[0,0,0,1,1,0,1,0,0,1,1,1];g.bufferData(g.ARRAY_BUFFER,new Float32Array(h),g.STATIC_DRAW)}g.bindBuffer(g.ARRAY_BUFFER,o),g.vertexAttribPointer(g.positionLocation,2,g.FLOAT,!1,0,0),g.vertexAttribPointer(g.texcoordLocation,2,g.FLOAT,!1,0,0);var p=g.orthographic;if(p=x.translate(p,u,s,0),v.rotate&&(p=x.translate(p,-u+v.beforeRotate[0]||0,-s+v.beforeRotate[1]||0,0),p=x.zRotate(p,v.rotate),p=x.translate(p,u+v.afterRotate[0]||0,s+v.afterRotate[1]||0,0)),p=x.scale(p,f,d,1),g.uniformMatrix4fv(g.matrixLocation,!1,p),a||i||c!==r||l!==n){var m=x.translation(a/r,i/n,0);m=x.scale(m,c/r,l/n,1),g.uniformMatrix4fv(g.textureMatrixLocation,!1,m)}g.drawArrays(g.TRIANGLES,0,6)},B=function(e,t){e.$isWebgl=!0,e.webgl={},i(e.webgl,t.webgl),e.webgl.depth=e.webgl.depth||1e4,e.webgl.singleShader=e.webgl.singleShader||0,e.webgl.camera=e.webgl.camera||{},e.webgl.camera.current=e.webgl.camera.current||{},e.webgl.camera.target=e.webgl.camera.target||{};var r=e.$gl=e.$paintContext;r.clearColor(0,0,0,0),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),T(r,0),e.imgLoader=function(e,t){var n=r.createTexture(),a={width:0,height:0};return(0,b.default)(e,function(e){function o(e){var o=new Image;o.addEventListener("load",function(){a.width=o.width,a.height=o.height,a.texture=n,a.img=o,r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o),t&&t(a)}),o.src=e}o(e,t)}),a}},S=function(e){var t=this;e.webgl&&(this.$paintContext=this.$dom.getContext("webgl",{alpha:!0,premultipliedAlpha:!1}),this.$paintContext?(B(this,e),this.on("beforeTick",function(){if(t.$paintContext.clear(t.$paintContext.COLOR_BUFFER_BIT|t.$paintContext.DEPTH_BUFFER_BIT),t.webgl.$depth=h.default.funcOrValue(h.default.firstValuable(t.webgl.depth,0),t),t.webgl.$camera=!!t.webgl.camera.enable&&{},t.webgl.$fudgeFactor=h.default.funcOrValue(h.default.firstValuable(t.webgl.fudgeFactor,0),t),t.webgl.$camera){var e=t.webgl.camera,r=t.width/t.height,n=x.perspective(a(60),r,1,1e4),o=[h.default.funcOrValue(e.current.x||0,t),h.default.funcOrValue(e.current.y||0,t),h.default.funcOrValue(e.current.z||0,t)],i=[0,-1,0];e.rotate&&(i=[h.default.funcOrValue(e.rotate.x,t),h.default.funcOrValue(e.rotate.y,t),h.default.funcOrValue(e.rotate.z,t)]);var c=[h.default.funcOrValue(e.target.x||0,t),h.default.funcOrValue(e.target.y||0,t),h.default.funcOrValue(e.target.z||0,t)],l=x.lookAt(o,c,i),u=x.inverse(l),s=x.multiply(n,u);t.webgl.$camera.viewProjectionMatrix=s}t.$paintContext.orthographic=x.orthographic(0,t.width,t.height,0,t.webgl.$depth,-t.webgl.$depth),t.$paintContext.singleShader=t.webgl.singleShader})):("production"!==process.env.NODE_ENV&&A("Webgl is not supported in current browser, using canvas2d instead."),e.webgl.fallback&&e.webgl.fallback.call(this)))},D=["rx","ry","rz"],U=["scale","scaleX","scaleY","scaleZ"],P=D.concat(U),$=function(){var e=this,t=this.$canvas;if(e.webgl&&e.webgl.vertices){e.$rendered=!0,e.webgl.img&&("string"==typeof e.webgl.img?e.webgl.img=t.imgLoader(e.webgl.img):e.webgl.img.src&&(e.webgl.img=t.imgLoader(e.webgl.img.src)));var r={tx:e.getStyle("tx"),ty:e.getStyle("ty"),tz:h.default.funcOrValue(e.webgl.tz,e)||0};for(var n in e.webgl)r[n]=h.default.funcOrValue(e.webgl[n],e)||0;P.forEach(function(t){r[t]=e.getWebglStyle(t)});var a={$id:e.$id,type:"3d",webgl:r};"production"!==process.env.NODE_ENV&&(a.$origin=e),t.$children.push(a)}},z=function(e,t){var r=this;if(r.$isWebgl)return F(e,t,r),"production"!==process.env.NODE_ENV&&r.$plugin.drawImage(r),!0},I=function(e){e.webglShapes=s.default,e.sprite.prototype.getWebglStyle=function(e){var t=this,r=void 0;return U.indexOf(e)<0||(r=1),D.indexOf(e)<0||(r=0),t.webgl&&(r=h.default.funcOrValue(t.webgl[e],t)||r),t.$parent&&(U.indexOf(e)<0?D.indexOf(e)<0||(r+=h.default.firstValuable(t.$parent.getWebglStyle(e),0)):r*=h.default.firstValuable(t.$parent.getWebglStyle(e),1)),r},e.sprite.prototype.updateWebglStyle=function(e,t){var r=this;if(r.webgl&&r.webgl[e]&&(r.webgl[e].$cacheBuffer=void 0,"colors"===e&&t)){var n=r.webgl.vertices.length/t.length;r.webgl.colors=new Uint8Array((0,v.arrayRepeat)(t,n))}}},O={onCreate:S,onPaint:$,onRender:z,onUse:I};w&&window.Easycanvas?Easycanvas.use(O):e.exports=O},68:function(e,t){"use strict";e.exports=function(e,t,r){var n="\n        precision mediump float;\n\n        "+(["varying vec4 v_color;","varying vec2 v_texcoord;"][e]||"")+"\n\n        uniform sampler2D u_texture;\n\n        "+(t&&"\n            varying vec3 v_normal;\n            uniform vec3 u_reverseLightDirection;\n        "||"")+"\n\n        void main() {\n            "+(t&&"\n                vec3 normal = normalize(v_normal);\n                float light = dot(normal, u_reverseLightDirection);\n            "||"")+"\n\n            "+(["gl_FragColor = v_color;","gl_FragColor = texture2D(u_texture, v_texcoord);"][e]||"")+"\n\n            "+(0===r&&"\n                float dist = distance( gl_PointCoord, vec2(0.5) );\n                float alpha = 1.0 - smoothstep(0.45,0.5,dist);\n                gl_FragColor.a *= alpha;\n            "||"")+"\n\n            "+(t&&"\n                light += 2.0;\n                light *= 0.5;\n                gl_FragColor.rgb *= light;\n            "||"")+"\n        }\n    ";return n}},69:function(e,t){"use strict";e.exports=function(e,t){var r="\n        precision mediump float;\n\n        uniform int f_shaderType;\n\n        "+(["varying vec4 v_color;","varying vec2 v_texcoord;"][e]||"")+"\n\n        uniform sampler2D u_texture;\n\n        "+(t&&"\n            varying vec3 v_normal;\n            uniform vec3 u_reverseLightDirection;\n        "||"")+"\n\n        void main() {\n            "+(t&&"\n                vec3 normal = normalize(v_normal);\n                float light = dot(normal, u_reverseLightDirection);\n            "||"")+"\n\n            "+(["gl_FragColor = v_color;","gl_FragColor = texture2D(u_texture, v_texcoord);"][e]||"")+"\n\n            if (f_shaderType == 0) {\n                float dist = distance( gl_PointCoord, vec2(0.5) );\n                float alpha = 1.0 - smoothstep(0.1,0.5,dist);\n                gl_FragColor.a *= alpha;\n            }\n\n            "+(t&&"\n                light += 2.0;\n                light *= 0.5;\n                gl_FragColor.rgb *= light;\n            "||"")+"\n        }\n    ";return r}},70:function(e,t){"use strict";e.exports=function(e,t,r){var n="\n        precision mediump float;\n        attribute vec4 a_position;\n        "+(["attribute vec4 a_color;","attribute vec2 a_texcoord;"][e]||"")+"\n\n        "+(0===r&&"\n            attribute float u_size; // 点精灵大小\n        "||"")+"\n\n        "+(t&&"\n            attribute vec3 a_normal;\n            uniform mat4 u_worldViewProjection;\n            uniform mat4 u_worldInverseTranspose;\n        "||"")+"\n\n        uniform float u_fudgeFactor; // 透射\n\n        uniform mat4 u_matrix;\n\n        "+(["varying vec4 v_color;","varying vec2 v_texcoord;"][e]||"")+"\n\n        "+(t&&"\n            varying vec3 v_normal;\n        "||"")+"\n\n        void main() {\n            // Multiply the position by the matrix.\n            // gl_Position = u_matrix * a_position;\n\n            // 透射\n            // 调整除数\n            vec4 position = u_matrix * a_position;\n            // 由于裁减空间中的 Z 值是 -1 到 +1 的，所以 +1 是为了让 zToDivideBy 变成 0 到 +2 * fudgeFactor\n            float zToDivideBy = 1.0 + position.z * u_fudgeFactor; // 透射\n\n            "+(t?"gl_Position = u_worldViewProjection * a_position;":"gl_Position = vec4(position.xy / zToDivideBy, position.zw);")+"\n\n            // gl_Position = u_worldViewProjection * vec4(position.xy / zToDivideBy, position.zw);\n\n            "+(["v_color = a_color;","v_texcoord = a_texcoord;"][e]||"")+"\n\n            "+(0===r&&"\n                gl_PointSize = u_size;\n            "||"")+"\n\n            "+(t&&"\n                v_normal = mat3(u_worldInverseTranspose) * a_normal;\n            "||"")+"\n        }\n    ";return n}},71:function(e,t){"use strict";e.exports=function(e,t){var r="\n        precision mediump float;\n\n        uniform int v_shaderType;\n\n        attribute vec4 a_position;\n        "+(["attribute vec4 a_color;","attribute vec2 a_texcoord;"][e]||"")+"\n\n        attribute float u_size; // 点精灵大小\n\n        "+(t&&"\n            attribute vec3 a_normal;\n            uniform mat4 u_worldViewProjection;\n            uniform mat4 u_worldInverseTranspose;\n        "||"")+"\n\n        uniform float u_fudgeFactor; // 透射\n\n        uniform mat4 u_matrix;\n\n        "+(["varying vec4 v_color;","varying vec2 v_texcoord;"][e]||"")+"\n\n        "+(t&&"\n            varying vec3 v_normal;\n        "||"")+"\n\n        void main() {\n            // Multiply the position by the matrix.\n            // gl_Position = u_matrix * a_position;\n\n            // 透射\n            // 调整除数\n            vec4 position = u_matrix * a_position;\n            // 由于裁减空间中的 Z 值是 -1 到 +1 的，所以 +1 是为了让 zToDivideBy 变成 0 到 +2 * fudgeFactor\n            float zToDivideBy = 1.0 + position.z * u_fudgeFactor; // 透射\n\n            "+(t?"gl_Position = u_worldViewProjection * a_position;":"gl_Position = vec4(position.xy / zToDivideBy, position.zw);")+"\n\n            // gl_Position = u_worldViewProjection * vec4(position.xy / zToDivideBy, position.zw);\n\n            if (v_shaderType == 0) {\n                gl_PointSize = u_size;\n            } else {\n            }\n\n            "+(["v_color = a_color;","v_texcoord = a_texcoord;"][e]||"")+"\n\n            "+(t&&"\n                v_normal = mat3(u_worldInverseTranspose) * a_normal;\n            "||"")+"\n        }\n    ";return r}},72:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=r(70),o=n(a),i=r(71),c=n(i),l=r(68),u=n(l),s=r(69),f=n(s);e.exports={factory:function(e,t){return t===e.FRAGMENT_SHADER?u.default:o.default},final:function(e,t){return t===e.FRAGMENT_SHADER?f.default:c.default}}},73:function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(21),o=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),i=new Float32Array((0,a.arrayRepeat)([1,0,0,0,0,1,1,1],6)),c=6,l={icosahedron:{vertices:[0,0,-1.902,0,0,1.902,-1.701,0,-.8507,1.701,0,.8507,1.376,-1,-.8507,1.376,1,-.8507,-1.376,-1,.8507,-1.376,1,.8507,-.5257,-1.618,-.8507,-.5257,1.618,-.8507,.5257,-1.618,.8507,.5257,1.618,.8507],indices:[[1,11,7],[1,7,6],[1,6,10],[1,10,3],[1,3,11],[4,8,0],[5,4,0],[9,5,0],[2,9,0],[8,2,0],[11,9,7],[7,2,6],[6,8,10],[10,4,3],[3,5,11],[4,10,8],[5,3,4],[9,11,5],[2,7,9],[8,6,2]]},tetrahedron:{vertices:[0,0,1.225,-.5774,-1,-.4082,-.5774,1,-.4082,1.155,0,-.4082],indices:[[1,2,3],[2,1,0],[3,0,1],[0,3,2]]},octahedron:{vertices:[1,1,0,0,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,1,.3090169943749474,0,1,0,.8090169943749475,1,.5877852522924731,.8090169943749475,1,.5877852522924731,0,1,0,.5877852522924731,1,.8090169943749475,.5877852522924731,1,.8090169943749475,0,1,0,.30901699437494745,1,.9510565162951535,.30901699437494745,1,.9510565162951535,0,1,0,6.123233995736766e-17,1,1,6.123233995736766e-17,1,1,0,1,0,-.30901699437494734,1,.9510565162951536,-.30901699437494734,1,.9510565162951536,0,1,0,-.587785252292473,1,.8090169943749475,-.587785252292473,1,.8090169943749475,0,1,0,-.8090169943749473,1,.5877852522924732,-.8090169943749473,1,.5877852522924732,0,1,0,-.9510565162951535,1,.3090169943749475,-.9510565162951535,1,.3090169943749475,0,1,0,-1,1,1.2246467991473532e-16,-1,1,1.2246467991473532e-16,0,1,0,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,1,-.3090169943749473,0,1,0,-.8090169943749475,1,-.587785252292473,-.8090169943749475,1,-.587785252292473,0,1,0,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,1,-.8090169943749473,0,1,0,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,1,-.9510565162951535,0,1,0,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,1,-1,0,1,0,.30901699437494723,1,-.9510565162951536,.30901699437494723,1,-.9510565162951536,0,1,0,.5877852522924729,1,-.8090169943749476,.5877852522924729,1,-.8090169943749476,0,1,0,.8090169943749473,1,-.5877852522924734,.8090169943749473,1,-.5877852522924734,0,1,0,.9510565162951535,1,-.3090169943749476,.9510565162951535,1,-.3090169943749476,0,1,0,1,1,-2.4492935982947064e-16,.9510565162951535,-1,.3090169943749474,0,-1,0,1,-1,0,.8090169943749475,-1,.5877852522924731,0,-1,0,.9510565162951535,-1,.3090169943749474,.5877852522924731,-1,.8090169943749475,0,-1,0,.8090169943749475,-1,.5877852522924731,.30901699437494745,-1,.9510565162951535,0,-1,0,.5877852522924731,-1,.8090169943749475,6.123233995736766e-17,-1,1,0,-1,0,.30901699437494745,-1,.9510565162951535,-.30901699437494734,-1,.9510565162951536,0,-1,0,6.123233995736766e-17,-1,1,-.587785252292473,-1,.8090169943749475,0,-1,0,-.30901699437494734,-1,.9510565162951536,-.8090169943749473,-1,.5877852522924732,0,-1,0,-.587785252292473,-1,.8090169943749475,-.9510565162951535,-1,.3090169943749475,0,-1,0,-.8090169943749473,-1,.5877852522924732,-1,-1,1.2246467991473532e-16,0,-1,0,-.9510565162951535,-1,.3090169943749475,-.9510565162951536,-1,-.3090169943749473,0,-1,0,-1,-1,1.2246467991473532e-16,-.8090169943749475,-1,-.587785252292473,0,-1,0,-.9510565162951536,-1,-.3090169943749473,-.5877852522924732,-1,-.8090169943749473,0,-1,0,-.8090169943749475,-1,-.587785252292473,-.30901699437494756,-1,-.9510565162951535,0,-1,0,-.5877852522924732,-1,-.8090169943749473,-1.8369701987210297e-16,-1,-1,0,-1,0,-.30901699437494756,-1,-.9510565162951535,.30901699437494723,-1,-.9510565162951536,0,-1,0,-1.8369701987210297e-16,-1,-1,.5877852522924729,-1,-.8090169943749476,0,-1,0,.30901699437494723,-1,-.9510565162951536,.8090169943749473,-1,-.5877852522924734,0,-1,0,.5877852522924729,-1,-.8090169943749476,.9510565162951535,-1,-.3090169943749476,0,-1,0,.8090169943749473,-1,-.5877852522924734,1,-1,-2.4492935982947064e-16,0,-1,0,.9510565162951535,-1,-.3090169943749476,1,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,-1,.3090169943749474,1,1,0,.9510565162951535,-1,.3090169943749474,1,-1,0,.9510565162951535,1,.3090169943749474,.8090169943749475,1,.5877852522924731,.8090169943749475,-1,.5877852522924731,.9510565162951535,1,.3090169943749474,.8090169943749475,-1,.5877852522924731,.9510565162951535,-1,.3090169943749474,.8090169943749475,1,.5877852522924731,.5877852522924731,1,.8090169943749475,.5877852522924731,-1,.8090169943749475,.8090169943749475,1,.5877852522924731,.5877852522924731,-1,.8090169943749475,.8090169943749475,-1,.5877852522924731,.5877852522924731,1,.8090169943749475,.30901699437494745,1,.9510565162951535,.30901699437494745,-1,.9510565162951535,.5877852522924731,1,.8090169943749475,.30901699437494745,-1,.9510565162951535,.5877852522924731,-1,.8090169943749475,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,1,1,6.123233995736766e-17,-1,1,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,-1,1,.30901699437494745,-1,.9510565162951535,6.123233995736766e-17,1,1,-.30901699437494734,1,.9510565162951536,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,1,1,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,-1,1,-.30901699437494734,1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.587785252292473,-1,.8090169943749475,-.30901699437494734,1,.9510565162951536,-.587785252292473,-1,.8090169943749475,-.30901699437494734,-1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.8090169943749473,-1,.5877852522924732,-.587785252292473,1,.8090169943749475,-.8090169943749473,-1,.5877852522924732,-.587785252292473,-1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,-1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-1,1,1.2246467991473532e-16,-1,-1,1.2246467991473532e-16,-.9510565162951535,1,.3090169943749475,-1,-1,1.2246467991473532e-16,-.9510565162951535,-1,.3090169943749475,-1,1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,-1,-.3090169943749473,-1,1,1.2246467991473532e-16,-.9510565162951536,-1,-.3090169943749473,-1,-1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,-1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,-1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,-1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,-1,-1,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,-1,-1,-.30901699437494756,-1,-.9510565162951535,-1.8369701987210297e-16,1,-1,.30901699437494723,1,-.9510565162951536,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,1,-1,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,-1,-1,.30901699437494723,1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.5877852522924729,-1,-.8090169943749476,.30901699437494723,1,-.9510565162951536,.5877852522924729,-1,-.8090169943749476,.30901699437494723,-1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.8090169943749473,-1,-.5877852522924734,.5877852522924729,1,-.8090169943749476,.8090169943749473,-1,-.5877852522924734,.5877852522924729,-1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,.9510565162951535,-1,-.3090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,-1,-.3090169943749476,.8090169943749473,-1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,1,1,-2.4492935982947064e-16,1,-1,-2.4492935982947064e-16,.9510565162951535,1,-.3090169943749476,1,-1,-2.4492935982947064e-16,.9510565162951535,-1,-.3090169943749476],
indices:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239],normals:[0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002]},cube:{vertices:[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1],indices:[[7,3,1,5],[7,5,4,6],[7,6,2,3],[3,2,0,1],[0,2,6,4],[1,0,4,5]]}},u=function(){var e={};return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=t+r.join(",")+n.join(","),u={};if("quadrilateral"===t);else if("block"===t){var s=r[0]/2,f=r[1]/2,d=r[2]/2,v=e[c+"v"]||new Float32Array([s,f,d,-s,f,d,-s,-f,d,s,-f,d,s,f,d,s,-f,d,s,-f,-d,s,f,-d,s,f,d,s,f,-d,-s,f,-d,-s,f,d,-s,f,d,-s,f,-d,-s,-f,-d,-s,-f,d,-s,-f,-d,s,-f,-d,s,-f,d,-s,-f,d,s,-f,-d,-s,-f,-d,-s,f,-d,s,f,-d]),g=e[c+"l"]||Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,v));u.vertices=e[c+"v"]=v,u.indices=o,u.textures=i,u.longSide=e[c+"l"]=g}else if("ball"===t){var h=e[c+"v"]||[],p=e[c+"i"]||[],m=e[c+"t"]||[];if(!h.length){for(var _=[],b=r[0],x=r[1],w=r[2],A=0;x>=A;A++)for(var y=A*Math.PI/x,R=Math.sin(y),T=Math.cos(y),E=0;w>=E;E++){var F=2*E*Math.PI/w,L=Math.sin(F),M=Math.cos(F),B=M*R,S=T,D=L*R,U=1-E/w,P=1-A/x;_.push(B),_.push(S),_.push(D),m.push(U),m.push(P),h.push(b*B),h.push(b*S),h.push(b*D)}for(var A=0;x>A;A++)for(var E=0;w>E;E++){var $=A*(w+1)+E,z=$+w+1;p.push($),p.push(z),p.push($+1),p.push(z),p.push(z+1),p.push($+1)}e[c+"v"]=new Float32Array(h),e[c+"i"]=new Uint16Array(p),e[c+"t"]=new Float32Array(m),e[c+"l"]=Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,h))}u.vertices=e[c+"v"],u.indices=e[c+"i"],u.textures=e[c+"t"],u.longSide=e[c+"l"]}else{var v=e[c+"v"]||new Float32Array(l[t].vertices.map(function(e){return e*r[0]/2})),g=e[c+"l"]||Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,v));if(u.vertices=e[c+"v"]=v,u.indices=new Uint16Array(l[t].indices.join(",").split(",")),u.textures=e[c+"t"],!u.textures){u.textures=[];for(var I=0;u.indices.length>I;I++)u.textures.push(Math.random().toFixed(2));u.textures=e[c+"t"]=new Float32Array(u.textures)}u.longSide=e[c+"l"]=g}if(n.length&&(u.colors=e[c+"c"],!u.colors)){var O=(u.indices||u.vertices).length/n.length*(u.indices?3:1);u.colors=new Uint8Array((0,a.arrayRepeat)(n,Math.ceil(O))),e[c+"c"]=u.colors}return u}}(),s=function(e,t){for(var r in t)e[r]||(e[r]=t[r]);return e},f={block:function(e){var t=u("block",[e.a,e.b,e.c],e.colors);return s(t,e)},quadrilateral:function(e){var t=u("quadrilateral",[e.a,e.b,e.c],e.colors);return s(t,e)},ball:function(e){var t=u("ball",[e.r,e.b||e.lat||20,e.b||e.lng||20],e.colors);return s(t,e)},custom:function(e){if(e.vertices.$cache||(e.vertices.$cache=new Float32Array(e.vertices)),e.normals&&e.normals.length&&(e.normals.$cache||(e.normals.$cache=new Float32Array(e.normals))),e.indices&&e.indices.length&&(e.indices.$cache||(e.indices.$cache=new Uint16Array(e.indices))),e.textures&&e.textures.length&&!e.textures.$cache){var t=e.vertices.length/e.textures.length/1.5;e.textures.$cache=new Float32Array((0,a.arrayRepeat)(e.textures,t))}if(e.colors&&e.colors.length&&!e.colors.$cache){var t=e.vertices.length/e.colors.length;e.hasAlpha&&(t=t/3*4),e.colors.$cache=new Uint8Array((0,a.arrayRepeat)(e.colors,t))}var r=n(e,{vertices:e.vertices.$cache,normals:e.normals?e.normals.$cache:void 0,indices:e.indices?e.indices.$cache:void 0,textures:e.textures?e.textures.$cache:void 0,colors:e.colors?e.colors.$cache:void 0});return r}},d=function(e){f[e]=function(t){var r=u(e,[t.r],t.colors);return r.type=c,s(r,t)}};for(var v in l)d(v);e.exports=f}})});