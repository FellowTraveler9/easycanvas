!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}({0:function(t,e,r){t.exports=r(59)},1:function(t,e){"use strict";var r={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},funcOrValue:function(t,e){if("function"==typeof t){var r=t.call(e);return r}return t},execFuncs:function(t,e,n){if(t&&(r.isArray(n)||(n=[n])),"function"==typeof t)return t.apply(e,n);if(r.isArray(t)){var a=[];return t.forEach(function(t){a.push(t&&t.apply(e,n))}),a}},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(t,e,r,n,a,o){return!(r>t||t>n||a>e||e>o)},firstValuable:function(t,e,r){return void 0===t?void 0===e?r:e:t}};t.exports=r},2:function(t,e){"use strict";var r=3.141593;t.exports=function(t,e,n,a,o,i){var c=o?-o/180*r:0,u=t,s=e;return o&&(u=(t-n)*Math.cos(c)-(e-a)*Math.sin(c)+n,s=(t-n)*Math.sin(c)+(e-a)*Math.cos(c)+a),i?[u,s]:{x:u,y:s}}},5:function(t,e){"use strict";function r(t,e){if(t&&t.match(/^data:/))return void(e&&e(t));if(a[t])return void(a[t]!==n?e(a[t]):setTimeout(function(){r(t,e)},100));a[t]=n;var o=new XMLHttpRequest;o.onload=function(){var r=new FileReader;r.onloadend=function(){a[t]=r.result,e&&e(r.result)},r.readAsDataURL(o.response)},o.open("GET",t),o.responseType="blob",o.send()}var n="processing",a={};t.exports=r},7:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=r(2);n(a);t.exports=function(t,e,r,n,a,o,i,c,u){return u&&(t=(t-i)*Math.cos(u)-(e-c)*Math.sin(u)+i,e=(t-i)*Math.sin(u)+(e-c)*Math.cos(u)+c),!(r>t||t>r+a||n>e||e>n+o)}},8:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=r(2),o=(n(a),r(7)),i=n(o);t.exports=function(t,e,r,n,a,o,c,u,s,l,f){var d=(0,i.default)(t,e,a,o,c,u,s,l,f)||(0,i.default)(t+r,e,a,o,c,u,s,l,f)||(0,i.default)(t,e+n,a,o,c,u,s,l,f)||(0,i.default)(t+r,e+n,a,o,c,u,s,l,f);if(d)return!0;var v=(0,i.default)(a,o,t,e,r,n,s,l,-f)||(0,i.default)(a+c,o,t,e,r,n,s,l,-f)||(0,i.default)(a,o+u,t,e,r,n,s,l,-f)||(0,i.default)(a+c,o+u,t,e,r,n,s,l,-f);return!!v}},22:function(t,e){"use strict";var r=function(t,e){for(var r=t.length,n=Array(Math.round(r*e)),a=0,o=n.length;o>a;a++)n[a]=t[a%r];return n};t.exports={arrayRepeat:r}},30:function(t,e){"use strict";t.exports=function(){function t(t,e,r){r=r||new Float32Array(16);var n=e[0],a=e[1],o=e[2],i=e[3],c=e[4],u=e[5],s=e[6],l=e[7],f=e[8],d=e[9],v=e[10],h=e[11],g=e[12],p=e[13],m=e[14],A=e[15],x=t[0],b=t[1],w=t[2],y=t[3],_=t[4],R=t[5],E=t[6],T=t[7],F=t[8],L=t[9],M=t[10],B=t[11],U=t[12],D=t[13],$=t[14],P=t[15];return r[0]=n*x+a*_+o*F+i*U,r[1]=n*b+a*R+o*L+i*D,r[2]=n*w+a*E+o*M+i*$,r[3]=n*y+a*T+o*B+i*P,r[4]=c*x+u*_+s*F+l*U,r[5]=c*b+u*R+s*L+l*D,r[6]=c*w+u*E+s*M+l*$,r[7]=c*y+u*T+s*B+l*P,r[8]=f*x+d*_+v*F+h*U,r[9]=f*b+d*R+v*L+h*D,r[10]=f*w+d*E+v*M+h*$,r[11]=f*y+d*T+v*B+h*P,r[12]=g*x+p*_+m*F+A*U,r[13]=g*b+p*R+m*L+A*D,r[14]=g*w+p*E+m*M+A*$,r[15]=g*y+p*T+m*B+A*P,r}function e(t,e,r){return r=r||new Float32Array(3),r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function r(t,e,r){return r=r||new Float32Array(3),r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function n(t,e){e=e||new Float32Array(3);var r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return r>1e-5&&(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r),e}function a(t,e,r){return r=r||new Float32Array(3),r[0]=t[1]*e[2]-t[2]*e[1],r[1]=t[2]*e[0]-t[0]*e[2],r[2]=t[0]*e[1]-t[1]*e[0],r}function o(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function i(t,e){var r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a}function c(t,e){return Math.sqrt(i(t,e))}function u(t){return t=t||new Float32Array(16),t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t,e){return e=e||new Float32Array(16),e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e}function l(t,e,o,i){i=i||new Float32Array(16);var c=n(r(t,e)),u=n(a(o,c)),s=n(a(c,u));return i[0]=u[0],i[1]=u[1],i[2]=u[2],i[3]=0,i[4]=s[0],i[5]=s[1],i[6]=s[2],i[7]=0,i[8]=c[0],i[9]=c[1],i[10]=c[2],i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,i}function f(t,e,r,n,a){a=a||new Float32Array(16);var o=Math.tan(.5*Math.PI-.5*t),i=1/(r-n);return a[0]=o/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(r+n)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=r*n*i*2,a[15]=0,a}function d(t,e,r,n,a,o,i){return i=i||new Float32Array(16),i[0]=2/(e-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-r),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(a-o),i[11]=0,i[12]=(t+e)/(t-e),i[13]=(r+n)/(r-n),i[14]=(a+o)/(a-o),i[15]=1,i}function v(t,e,r,n,a,o){var i=e-t,c=n-r,u=o-a;return dst[0]=2*a/i,dst[1]=0,dst[2]=0,dst[3]=0,dst[4]=0,dst[5]=2*a/c,dst[6]=0,dst[7]=0,dst[8]=(t+e)/i,dst[9]=(n+r)/c,dst[10]=-(o+a)/u,dst[11]=-1,dst[12]=0,dst[13]=0,dst[14]=-2*a*o/u,dst[15]=0,dst}function h(t,e,r,n){return n=n||new Float32Array(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=t,n[13]=e,n[14]=r,n[15]=1,n}function g(t,e,r,n,a){a=a||new Float32Array(16);var o=t[0],i=t[1],c=t[2],u=t[3],s=t[4],l=t[5],f=t[6],d=t[7],v=t[8],h=t[9],g=t[10],p=t[11],m=t[12],A=t[13],x=t[14],b=t[15];return t!==a&&(a[0]=o,a[1]=i,a[2]=c,a[3]=u,a[4]=s,a[5]=l,a[6]=f,a[7]=d,a[8]=v,a[9]=h,a[10]=g,a[11]=p),a[12]=o*e+s*r+v*n+m,a[13]=i*e+l*r+h*n+A,a[14]=c*e+f*r+g*n+x,a[15]=u*e+d*r+p*n+b,a}function p(t,e){e=e||new Float32Array(16);var r=Math.cos(t),n=Math.sin(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(t,e,r){r=r||new Float32Array(16);var n=t[4],a=t[5],o=t[6],i=t[7],c=t[8],u=t[9],s=t[10],l=t[11],f=Math.cos(e),d=Math.sin(e);return r[4]=f*n+d*c,r[5]=f*a+d*u,r[6]=f*o+d*s,r[7]=f*i+d*l,r[8]=f*c-d*n,r[9]=f*u-d*a,r[10]=f*s-d*o,r[11]=f*l-d*i,t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r}function A(t,e){e=e||new Float32Array(16);var r=Math.cos(t),n=Math.sin(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(t,e,r){r=r||new Float32Array(16);var n=t[0],a=t[1],o=t[2],i=t[3],c=t[8],u=t[9],s=t[10],l=t[11],f=Math.cos(e),d=Math.sin(e);return r[0]=f*n-d*c,r[1]=f*a-d*u,r[2]=f*o-d*s,r[3]=f*i-d*l,r[8]=f*c+d*n,r[9]=f*u+d*a,r[10]=f*s+d*o,r[11]=f*l+d*i,t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r}function b(t,e){e=e||new Float32Array(16);var r=Math.cos(t),n=Math.sin(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(t,e,r){r=r||new Float32Array(16);var n=t[0],a=t[1],o=t[2],i=t[3],c=t[4],u=t[5],s=t[6],l=t[7],f=Math.cos(e),d=Math.sin(e);return r[0]=f*n+d*c,r[1]=f*a+d*u,r[2]=f*o+d*s,r[3]=f*i+d*l,r[4]=f*c-d*n,r[5]=f*u-d*a,r[6]=f*s-d*o,r[7]=f*l-d*i,t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r}function y(t,e,r){r=r||new Float32Array(16);var n=t[0],a=t[1],o=t[2],i=Math.sqrt(n*n+a*a+o*o);n/=i,a/=i,o/=i;var c=n*n,u=a*a,s=o*o,l=Math.cos(e),f=Math.sin(e),d=1-l;return r[0]=c+(1-c)*l,r[1]=n*a*d+o*f,r[2]=n*o*d-a*f,r[3]=0,r[4]=n*a*d-o*f,r[5]=u+(1-u)*l,r[6]=a*o*d+n*f,r[7]=0,r[8]=n*o*d+a*f,r[9]=a*o*d-n*f,r[10]=s+(1-s)*l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function _(t,e,r,n){n=n||new Float32Array(16);var a=e[0],o=e[1],i=e[2],c=Math.sqrt(a*a+o*o+i*i);a/=c,o/=c,i/=c;var u=a*a,s=o*o,l=i*i,f=Math.cos(r),d=Math.sin(r),v=1-f,h=u+(1-u)*f,g=a*o*v+i*d,p=a*i*v-o*d,m=a*o*v-i*d,A=s+(1-s)*f,x=o*i*v+a*d,b=a*i*v+o*d,w=o*i*v-a*d,y=l+(1-l)*f,_=t[0],R=t[1],E=t[2],T=t[3],F=t[4],L=t[5],M=t[6],B=t[7],U=t[8],D=t[9],$=t[10],P=t[11];return n[0]=h*_+g*F+p*U,n[1]=h*R+g*L+p*D,n[2]=h*E+g*M+p*$,n[3]=h*T+g*B+p*P,n[4]=m*_+A*F+x*U,n[5]=m*R+A*L+x*D,n[6]=m*E+A*M+x*$,n[7]=m*T+A*B+x*P,n[8]=b*_+w*F+y*U,n[9]=b*R+w*L+y*D,n[10]=b*E+w*M+y*$,n[11]=b*T+w*B+y*P,t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n}function R(t,e,r,n){return n=n||new Float32Array(16),n[0]=t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=r,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function E(t,e,r,n,a){return a=a||new Float32Array(16),a[0]=e*t[0],a[1]=e*t[1],a[2]=e*t[2],a[3]=e*t[3],a[4]=r*t[4],a[5]=r*t[5],a[6]=r*t[6],a[7]=r*t[7],a[8]=n*t[8],a[9]=n*t[9],a[10]=n*t[10],a[11]=n*t[11],t!==a&&(a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a}function T(t,e){e=e||new Float32Array(16);var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],c=t[5],u=t[6],s=t[7],l=t[8],f=t[9],d=t[10],v=t[11],h=t[12],g=t[13],p=t[14],m=t[15],A=d*m,x=p*v,b=u*m,w=p*s,y=u*v,_=d*s,R=a*m,E=p*o,T=a*v,F=d*o,L=a*s,M=u*o,B=l*g,U=h*f,D=i*g,$=h*c,P=i*f,S=l*c,I=r*g,O=h*n,N=r*f,V=l*n,C=r*c,Y=i*n,z=A*c+w*f+y*g-(x*c+b*f+_*g),X=x*n+R*f+F*g-(A*n+E*f+T*g),G=b*n+E*c+L*g-(w*n+R*c+M*g),W=_*n+T*c+M*f-(y*n+F*c+L*f),j=1/(r*z+i*X+l*G+h*W);return e[0]=j*z,e[1]=j*X,e[2]=j*G,e[3]=j*W,e[4]=j*(x*i+b*l+_*h-(A*i+w*l+y*h)),e[5]=j*(A*r+E*l+T*h-(x*r+R*l+F*h)),e[6]=j*(w*r+R*i+M*h-(b*r+E*i+L*h)),e[7]=j*(y*r+F*i+L*l-(_*r+T*i+M*l)),e[8]=j*(B*s+$*v+P*m-(U*s+D*v+S*m)),e[9]=j*(U*o+I*v+V*m-(B*o+O*v+N*m)),e[10]=j*(D*o+O*s+C*m-($*o+I*s+Y*m)),e[11]=j*(S*o+N*s+Y*v-(P*o+V*s+C*v)),e[12]=j*(D*d+S*p+U*u-(P*p+B*u+$*d)),e[13]=j*(N*p+B*a+O*d-(I*d+V*p+U*a)),e[14]=j*(I*u+Y*p+$*a-(C*p+D*a+O*u)),e[15]=j*(C*d+P*a+V*u-(N*u+Y*d+S*a)),e}function F(t,e,r){r=r||new Float32Array(4);for(var n=0;4>n;++n){r[n]=0;for(var a=0;4>a;++a)r[n]+=e[a]*t[4*a+n]}return r}function L(t,e,r){r=r||new Float32Array(3);var n=e[0],a=e[1],o=e[2],i=n*t[3]+a*t[7]+o*t[11]+t[15];return r[0]=(n*t[0]+a*t[4]+o*t[8]+t[12])/i,r[1]=(n*t[1]+a*t[5]+o*t[9]+t[13])/i,r[2]=(n*t[2]+a*t[6]+o*t[10]+t[14])/i,r}function M(t,e,r){r=r||new Float32Array(3);var n=e[0],a=e[1],o=e[2];return r[0]=n*t[0]+a*t[4]+o*t[8],r[1]=n*t[1]+a*t[5]+o*t[9],r[2]=n*t[2]+a*t[6]+o*t[10],r}function B(t,e,r){r=r||new Float32Array(3);var n=T(t),a=e[0],o=e[1],i=e[2];return r[0]=a*n[0]+o*n[1]+i*n[2],r[1]=a*n[4]+o*n[5]+i*n[6],r[2]=a*n[8]+o*n[9]+i*n[10],r}function U(t,e){return e=e||new Float32Array(16),e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}return{copy:U,lookAt:l,addVectors:e,subtractVectors:r,distance:c,distanceSq:i,normalize:n,cross:a,dot:o,identity:u,transpose:s,orthographic:d,frustum:v,perspective:f,translation:h,translate:g,xRotation:p,yRotation:A,zRotation:b,xRotate:m,yRotate:x,zRotate:w,axisRotation:y,axisRotate:_,scaling:R,scale:E,multiply:t,inverse:T,transformVector:F,transformPoint:L,transformDirection:M,transformNormal:B}}},59:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t){return t*Math.PI/180}var o,i=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c=r(30),u=n(c),s=r(69),l=n(s),f=r(68),d=n(f),v=r(22),h=r(1),g=n(h),p=r(8),m=n(p),A=r(5),x=n(A),b=(0,u.default)(),w="undefined"!=typeof window,y=function(t){console.error("[Easycanvas-webgl] "+t)},_=function(){var t={};return function(e,r,n,a){var o=""+r+n+a;if(t[o])return t[o];var i=d.default.factory(e,r)(n,a),c=e.createShader(r);if(e.shaderSource(c,i),e.compileShader(c),!e.getShaderParameter(c,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(c);throw"Could not compile WebGL program. \n\n"+u}return t[o]=c,c}}(),R=function(t,e,r){var n=t.createProgram();if(t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS)){var a=t.getProgramInfoLog(n);throw"Could not compile WebGL program. \n\n"+a}return n},E=function(){var t;return function(e,r,n){if(t!==r){t=r;var a,o;a=_(e,e.VERTEX_SHADER,r,n),o=_(e,e.FRAGMENT_SHADER,r,n),e.program=R(e,a,o),e.useProgram(e.program),e.positionLocation=e.getAttribLocation(e.program,"a_position"),e.normalLocation=e.getAttribLocation(e.program,"a_normal"),0===r?e.colorLocation=e.getAttribLocation(e.program,"a_color"):e.texcoordLocation=e.getAttribLocation(e.program,"a_texcoord"),e.worldViewProjectionLocation=e.getUniformLocation(e.program,"u_worldViewProjection"),e.worldInverseTransposeLocation=e.getUniformLocation(e.program,"u_worldInverseTranspose"),e.reverseLightDirectionLocation=e.getUniformLocation(e.program,"u_reverseLightDirection"),e.matrixLocation=e.getUniformLocation(e.program,"u_matrix"),0===r?e.textureLocation=e.getUniformLocation(e.program,"u_texture"):e.textureMatrixLocation=e.getUniformLocation(e.program,"u_textureMatrix"),e.enableVertexAttribArray(e.positionLocation),n&&e.enableVertexAttribArray(e.normalLocation),e.enableVertexAttribArray(e.texcoordLocation),e.enableVertexAttribArray(e.colorLocation)}}}(),T={},F=function(t,e,r){var n=t.props,a=t.webgl,o=r.$gl;if("production"!==process.env.NODE_ENV&&n&&n[0]&&!n[0].texture&&n[0].src&&y("Texture not found, make sure using Painter.imgLoader instead of Easycanvas.imgLoader."),"3d"!==t.type){if(!n[0]&&n.content){var i=n.content+n.font+n.align+n.color,c=T[i];if(!c){var u=o.createTexture(),s=document.createElement("canvas").getContext("2d");s.clearRect(0,0,s.canvas.width,s.canvas.height),s.canvas.width=n.content.length*parseInt(n.font)*2,s.canvas.height=parseInt(n.font)+5,s.font=n.font,s.textAlign=n.align,s.fillStyle=n.color,s.fillText(n.content,"right"===n.align?s.canvas.width:"center"===n.align?s.canvas.width/2:0,s.canvas.height-5),o.bindTexture(o.TEXTURE_2D,u),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,s.canvas),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),c=T[i]={texture:u,width:s.canvas.width,height:s.canvas.height,img:s.canvas,canvas:s.canvas}}n=[c,0,0,c.canvas.width,c.canvas.height,"right"===n.align?n.tx-c.canvas.width:"center"===n.align?n.tx-c.canvas.width/2:n.tx,n.ty-c.canvas.height+5,c.canvas.width,c.canvas.height]}if(n[0]&&n[0].texture){var l=(0,m.default)(n[5],n[6],n[7],n[8],0,0,r.width,r.height,e.beforeRotate&&e.beforeRotate[0],e.beforeRotate&&e.beforeRotate[1],e.rotate);if(!l)return;if(0===n[0].img.width)return;o.bindTexture(o.TEXTURE_2D,n[0].texture),M(r,n[0].texture,n[0].width,n[0].height,n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],e)}}else if("3d"===t.type&&(a.img||a.colors)){if(a.img&&a.img.texture&&o.bindTexture(o.TEXTURE_2D,a.img.texture),a.longSide){var f=1.8*a.longSide,d=r.webgl.$depth,l=(0,m.default)(a.tx-f,a.ty-f,2*f,2*f,a.tz/d*r.width/2,a.tz/d*r.height/2,r.width-a.tz/d*r.width/2,r.height-a.tz/d*r.height/2,0,0,0);if(!l)return}L(r,a)}},L=function(t,e){if(e.colors&&e.colors.length||e.textures&&e.textures.length){var r=t.$gl;r.enable(r.BLEND),r.enable(r.DEPTH_TEST),e.opacity&&r.disable(r.DEPTH_TEST);var n,o,i,c,u=e.vertices.$cacheBuffer;if(u||(u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,e.vertices,r.STATIC_DRAW),e.vertices.$cacheBuffer=u),e.colors?(n=e.colors.$cacheBuffer,n||(n=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e.colors,r.STATIC_DRAW),e.colors.$cacheBuffer=n)):(o=e.textures.$cacheBuffer,o||(o=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,o),r.bufferData(r.ARRAY_BUFFER,e.textures,r.STATIC_DRAW),e.textures.$cacheBuffer=o)),e.indices&&(i=e.indices.$cacheBuffer,i||(i=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.indices,r.STATIC_DRAW),e.indices.$cacheBuffer=i)),e.normals&&(c=e.normals.$cacheBuffer,c||(c=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,e.normals,r.STATIC_DRAW),e.normals.$cacheBuffer=c)),n){E(r,0,t.webgl.light),r.bindBuffer(r.ARRAY_BUFFER,n);var s=3,l=r.UNSIGNED_BYTE,f=!0,d=0,v=0;r.vertexAttribPointer(r.colorLocation,s,l,f,d,v)}else if(o){E(r,1,t.webgl.light),r.bindBuffer(r.ARRAY_BUFFER,o);var s=2,l=r.FLOAT,f=!1,d=0,v=0;r.vertexAttribPointer(r.texcoordLocation,s,l,f,d,v)}if(e.vertices){r.bindBuffer(r.ARRAY_BUFFER,u);var s=3,l=r.FLOAT,f=!1,d=0,v=0;r.vertexAttribPointer(r.positionLocation,s,l,f,d,v)}if(e.normals){r.bindBuffer(r.ARRAY_BUFFER,c);var s=3,l=r.FLOAT,f=!1,d=0,v=0;r.vertexAttribPointer(r.normalLocation,s,l,f,d,v)}if(t.webgl.$fudgeFactor){var h=r.getUniformLocation(r.program,"u_fudgeFactor"),p=t.webgl.$fudgeFactor;r.uniform1f(h,p)}var m=r.orthographic;m=b.translate(m,e.tx||0,e.ty||0,e.tz||0),m=b.xRotate(m,a(e.rx)||0),m=b.yRotate(m,a(e.ry)||0),m=b.zRotate(m,a(e.rz)||0),m=b.scale(m,(1!==e.scaleX?e.scaleX:e.scale)||1,(1!==e.scaleY?e.scaleY:e.scale)||1,(1!==e.scaleZ?e.scaleZ:e.scale)||1);var A=m;if(t.webgl.camera)var x=[a(g.default.funcOrValue(t.webgl.camera.rx||0,t)),a(g.default.funcOrValue(t.webgl.camera.ry||0,t)),1],w=[0,1,0],y=b.lookAt(x,A,w),_=b.inverse(y),A=b.multiply(A,_);if(t.webgl.light&&(r.uniformMatrix4fv(r.worldViewProjectionLocation,!1,m),r.uniformMatrix4fv(r.worldInverseTransposeLocation,!1,b.transpose(A))),r.uniformMatrix4fv(r.matrixLocation,!1,A),t.webgl.light){var R=r.getUniformLocation(r.program,"a_color");r.uniform4fv(R,[1,1,1,1]),r.uniform3fv(r.reverseLightDirectionLocation,b.normalize([0,1,0]))}r.uniform1i(r.textureLocation,0),i?(r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i),r.drawElements(r.TRIANGLES,e.indices.length,r.UNSIGNED_SHORT,0)):r.drawArrays(r.TRIANGLES,0,e.vertices.length/3)}},M=function(t,e,r,n,a,i,c,u,s,l,f,d,v){var h=t.$gl;if(h.enable(h.BLEND),h.disable(h.DEPTH_TEST),E(h,1),!o){o=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,o);var g=[0,0,0,1,1,0,1,0,0,1,1,1];h.bufferData(h.ARRAY_BUFFER,new Float32Array(g),h.STATIC_DRAW)}h.bindBuffer(h.ARRAY_BUFFER,o),h.vertexAttribPointer(h.positionLocation,2,h.FLOAT,!1,0,0),h.vertexAttribPointer(h.texcoordLocation,2,h.FLOAT,!1,0,0);var p=h.orthographic;if(p=b.translate(p,s,l,0),v.rotate&&(p=b.translate(p,-s+v.beforeRotate[0]||0,-l+v.beforeRotate[1]||0,0),p=b.zRotate(p,v.rotate),p=b.translate(p,s+v.afterRotate[0]||0,l+v.afterRotate[1]||0,0)),p=b.scale(p,f,d,1),h.uniformMatrix4fv(h.matrixLocation,!1,p),a||i||c!==r||u!==n){var m=b.translation(a/r,i/n,0);m=b.scale(m,c/r,u/n,1),h.uniformMatrix4fv(h.textureMatrixLocation,!1,m)}h.drawArrays(h.TRIANGLES,0,6)},B=function(t,e){t.$isWebgl=!0,t.webgl={},i(t.webgl,e.webgl),t.webgl.depth=t.webgl.depth||1e4;var r=t.$gl=t.$paintContext;r.clearColor(0,0,0,0),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),E(r,0),t.imgLoader=function(t,e){var n=r.createTexture(),a={width:0,height:0};return(0,x.default)(t,function(t){function o(t){var o=new Image;o.addEventListener("load",function(){a.width=o.width,a.height=o.height,a.texture=n,a.img=o,r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,o),e&&e(a)}),o.src=t}o(t,e)}),a}},U=function(t){var e=this;t.webgl&&(this.$paintContext=this.$dom.getContext("webgl",{alpha:!0,premultipliedAlpha:!1}),this.$paintContext?(B(this,t),this.on("beforeTick",function(){e.webgl.$depth=g.default.funcOrValue(g.default.firstValuable(e.webgl.depth,0),e),e.webgl.$fudgeFactor=g.default.funcOrValue(g.default.firstValuable(e.webgl.fudgeFactor,0),e),e.$paintContext.orthographic=b.orthographic(0,e.width,e.height,0,-e.webgl.$depth,e.webgl.$depth)})):("production"!==process.env.NODE_ENV&&y("Webgl is not supported in current browser, using canvas2d instead."),t.webgl.fallback&&t.webgl.fallback.call(this)))},D=["rx","ry","rz"],$=["scale","scaleX","scaleY","scaleZ"],P=D.concat($),S=function(){var t=this,e=this.$canvas;if(t.webgl&&t.webgl.vertices){t.$rendered=!0,t.webgl.img&&("string"==typeof t.webgl.img?t.webgl.img=e.imgLoader(t.webgl.img):t.webgl.img.src&&(t.webgl.img=e.imgLoader(t.webgl.img.src)));var r={tx:t.getStyle("tx"),ty:t.getStyle("ty"),tz:g.default.funcOrValue(t.webgl.tz,t)||0};for(var n in t.webgl)r[n]=g.default.funcOrValue(t.webgl[n],t)||0;P.forEach(function(e){r[e]=t.getWebglStyle(e)});var a={$id:t.$id,type:"3d",webgl:r};"production"!==process.env.NODE_ENV&&(a.$origin=t),e.$children.push(a)}},I=function(t,e){var r=this;if(r.$isWebgl)return F(t,e,r),"production"!==process.env.NODE_ENV&&r.$plugin.drawImage(r),!0},O=function(t){t.webglShapes=l.default,t.sprite.prototype.getWebglStyle=function(t){var e=this,r=void 0;return $.indexOf(t)<0||(r=1),D.indexOf(t)<0||(r=0),e.webgl&&(r=g.default.funcOrValue(e.webgl[t],e)||r),e.$parent&&($.indexOf(t)<0?D.indexOf(t)<0||(r+=g.default.firstValuable(e.$parent.getWebglStyle(t),0)):r*=g.default.firstValuable(e.$parent.getWebglStyle(t),1)),r},t.sprite.prototype.updateWebglStyle=function(t,e){var r=this;if(r.webgl&&r.webgl[t]&&(r.webgl[t].$cacheBuffer=void 0,"colors"===t&&e)){var n=r.webgl.vertices.length/e.length;r.webgl.colors=new Uint8Array((0,v.arrayRepeat)(e,n))}}},N={onCreate:U,onPaint:S,onRender:I,onUse:O};w&&window.Easycanvas?Easycanvas.use(N):t.exports=N},68:function(t,e){"use strict";var r=function(t,e){var r="\n        attribute vec4 a_position;\n        "+(0===t?"attribute vec4 a_color;":"attribute vec2 a_texcoord;")+"\n        "+(e&&"\n            attribute vec3 a_normal;\n            uniform mat4 u_worldViewProjection;\n            uniform mat4 u_worldInverseTranspose;\n        "||"")+"\n        uniform float u_fudgeFactor; // 透射\n\n        uniform mat4 u_matrix;\n\n        "+(0===t?"varying vec4 v_color;":"varying vec2 v_texcoord;")+"\n        "+(e&&"\n            varying vec3 v_normal;\n        "||"")+"\n\n        void main() {\n            // Multiply the position by the matrix.\n            // gl_Position = u_matrix * a_position;\n\n            // 透射\n            // 调整除数\n            vec4 position = u_matrix * a_position;\n            // 由于裁减空间中的 Z 值是 -1 到 +1 的，所以 +1 是为了让 zToDivideBy 变成 0 到 +2 * fudgeFactor\n            float zToDivideBy = 1.0 + position.z * u_fudgeFactor; // 透射\n\n            "+(e?"gl_Position = u_worldViewProjection * a_position;":"gl_Position = vec4(position.xy / zToDivideBy, position.zw);")+"\n\n            // gl_Position = u_worldViewProjection * vec4(position.xy / zToDivideBy, position.zw);\n\n            "+(0===t?"v_color = a_color;":"v_texcoord = a_texcoord;")+"\n\n                "+(e&&"\n                    v_normal = mat3(u_worldInverseTranspose) * a_normal;\n                "||"")+"\n        }\n    ";return r},n=function(t,e){var r="\n        precision mediump float;\n\n        "+(0===t?"varying vec4 v_color;":"varying vec2 v_texcoord;")+"\n\n        uniform sampler2D u_texture;\n\n        "+(e&&"\n            varying vec3 v_normal;\n            uniform vec3 u_reverseLightDirection;\n        "||"")+"\n\n        void main() {\n            "+(e&&"\n                vec3 normal = normalize(v_normal);\n                float light = dot(normal, u_reverseLightDirection);\n            "||"")+"\n\n            "+(0===t?"gl_FragColor = v_color;":"gl_FragColor = texture2D(u_texture, v_texcoord);")+"\n\n            "+(e&&"\n                light += 2.0;\n                light *= 0.5;\n                gl_FragColor.rgb *= light;\n            "||"")+"\n        }\n    ";return r};t.exports={shaderVertexFactory:r,shaderFragmentFactory:n,factory:function(t,e){return e===t.FRAGMENT_SHADER?n:r}}},69:function(t,e,r){"use strict";var n=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a=r(22),o=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),i=new Float32Array((0,a.arrayRepeat)([0,0,0,1,1,1,1,0],6)),c=6,u={icosahedron:{vertices:[0,0,-1.902,0,0,1.902,-1.701,0,-.8507,1.701,0,.8507,1.376,-1,-.8507,1.376,1,-.8507,-1.376,-1,.8507,-1.376,1,.8507,-.5257,-1.618,-.8507,-.5257,1.618,-.8507,.5257,-1.618,.8507,.5257,1.618,.8507],indices:[[1,11,7],[1,7,6],[1,6,10],[1,10,3],[1,3,11],[4,8,0],[5,4,0],[9,5,0],[2,9,0],[8,2,0],[11,9,7],[7,2,6],[6,8,10],[10,4,3],[3,5,11],[4,10,8],[5,3,4],[9,11,5],[2,7,9],[8,6,2]]},tetrahedron:{vertices:[0,0,1.225,-.5774,-1,-.4082,-.5774,1,-.4082,1.155,0,-.4082],indices:[[1,2,3],[2,1,0],[3,0,1],[0,3,2]]},octahedron:{vertices:[1,1,0,0,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,1,.3090169943749474,0,1,0,.8090169943749475,1,.5877852522924731,.8090169943749475,1,.5877852522924731,0,1,0,.5877852522924731,1,.8090169943749475,.5877852522924731,1,.8090169943749475,0,1,0,.30901699437494745,1,.9510565162951535,.30901699437494745,1,.9510565162951535,0,1,0,6.123233995736766e-17,1,1,6.123233995736766e-17,1,1,0,1,0,-.30901699437494734,1,.9510565162951536,-.30901699437494734,1,.9510565162951536,0,1,0,-.587785252292473,1,.8090169943749475,-.587785252292473,1,.8090169943749475,0,1,0,-.8090169943749473,1,.5877852522924732,-.8090169943749473,1,.5877852522924732,0,1,0,-.9510565162951535,1,.3090169943749475,-.9510565162951535,1,.3090169943749475,0,1,0,-1,1,1.2246467991473532e-16,-1,1,1.2246467991473532e-16,0,1,0,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,1,-.3090169943749473,0,1,0,-.8090169943749475,1,-.587785252292473,-.8090169943749475,1,-.587785252292473,0,1,0,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,1,-.8090169943749473,0,1,0,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,1,-.9510565162951535,0,1,0,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,1,-1,0,1,0,.30901699437494723,1,-.9510565162951536,.30901699437494723,1,-.9510565162951536,0,1,0,.5877852522924729,1,-.8090169943749476,.5877852522924729,1,-.8090169943749476,0,1,0,.8090169943749473,1,-.5877852522924734,.8090169943749473,1,-.5877852522924734,0,1,0,.9510565162951535,1,-.3090169943749476,.9510565162951535,1,-.3090169943749476,0,1,0,1,1,-2.4492935982947064e-16,.9510565162951535,-1,.3090169943749474,0,-1,0,1,-1,0,.8090169943749475,-1,.5877852522924731,0,-1,0,.9510565162951535,-1,.3090169943749474,.5877852522924731,-1,.8090169943749475,0,-1,0,.8090169943749475,-1,.5877852522924731,.30901699437494745,-1,.9510565162951535,0,-1,0,.5877852522924731,-1,.8090169943749475,6.123233995736766e-17,-1,1,0,-1,0,.30901699437494745,-1,.9510565162951535,-.30901699437494734,-1,.9510565162951536,0,-1,0,6.123233995736766e-17,-1,1,-.587785252292473,-1,.8090169943749475,0,-1,0,-.30901699437494734,-1,.9510565162951536,-.8090169943749473,-1,.5877852522924732,0,-1,0,-.587785252292473,-1,.8090169943749475,-.9510565162951535,-1,.3090169943749475,0,-1,0,-.8090169943749473,-1,.5877852522924732,-1,-1,1.2246467991473532e-16,0,-1,0,-.9510565162951535,-1,.3090169943749475,-.9510565162951536,-1,-.3090169943749473,0,-1,0,-1,-1,1.2246467991473532e-16,-.8090169943749475,-1,-.587785252292473,0,-1,0,-.9510565162951536,-1,-.3090169943749473,-.5877852522924732,-1,-.8090169943749473,0,-1,0,-.8090169943749475,-1,-.587785252292473,-.30901699437494756,-1,-.9510565162951535,0,-1,0,-.5877852522924732,-1,-.8090169943749473,-1.8369701987210297e-16,-1,-1,0,-1,0,-.30901699437494756,-1,-.9510565162951535,.30901699437494723,-1,-.9510565162951536,0,-1,0,-1.8369701987210297e-16,-1,-1,.5877852522924729,-1,-.8090169943749476,0,-1,0,.30901699437494723,-1,-.9510565162951536,.8090169943749473,-1,-.5877852522924734,0,-1,0,.5877852522924729,-1,-.8090169943749476,.9510565162951535,-1,-.3090169943749476,0,-1,0,.8090169943749473,-1,-.5877852522924734,1,-1,-2.4492935982947064e-16,0,-1,0,.9510565162951535,-1,-.3090169943749476,1,1,0,.9510565162951535,1,.3090169943749474,.9510565162951535,-1,.3090169943749474,1,1,0,.9510565162951535,-1,.3090169943749474,1,-1,0,.9510565162951535,1,.3090169943749474,.8090169943749475,1,.5877852522924731,.8090169943749475,-1,.5877852522924731,.9510565162951535,1,.3090169943749474,.8090169943749475,-1,.5877852522924731,.9510565162951535,-1,.3090169943749474,.8090169943749475,1,.5877852522924731,.5877852522924731,1,.8090169943749475,.5877852522924731,-1,.8090169943749475,.8090169943749475,1,.5877852522924731,.5877852522924731,-1,.8090169943749475,.8090169943749475,-1,.5877852522924731,.5877852522924731,1,.8090169943749475,.30901699437494745,1,.9510565162951535,.30901699437494745,-1,.9510565162951535,.5877852522924731,1,.8090169943749475,.30901699437494745,-1,.9510565162951535,.5877852522924731,-1,.8090169943749475,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,1,1,6.123233995736766e-17,-1,1,.30901699437494745,1,.9510565162951535,6.123233995736766e-17,-1,1,.30901699437494745,-1,.9510565162951535,6.123233995736766e-17,1,1,-.30901699437494734,1,.9510565162951536,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,1,1,-.30901699437494734,-1,.9510565162951536,6.123233995736766e-17,-1,1,-.30901699437494734,1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.587785252292473,-1,.8090169943749475,-.30901699437494734,1,.9510565162951536,-.587785252292473,-1,.8090169943749475,-.30901699437494734,-1,.9510565162951536,-.587785252292473,1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.8090169943749473,-1,.5877852522924732,-.587785252292473,1,.8090169943749475,-.8090169943749473,-1,.5877852522924732,-.587785252292473,-1,.8090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,1,.5877852522924732,-.9510565162951535,-1,.3090169943749475,-.8090169943749473,-1,.5877852522924732,-.9510565162951535,1,.3090169943749475,-1,1,1.2246467991473532e-16,-1,-1,1.2246467991473532e-16,-.9510565162951535,1,.3090169943749475,-1,-1,1.2246467991473532e-16,-.9510565162951535,-1,.3090169943749475,-1,1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.9510565162951536,-1,-.3090169943749473,-1,1,1.2246467991473532e-16,-.9510565162951536,-1,-.3090169943749473,-1,-1,1.2246467991473532e-16,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,1,-.3090169943749473,-.8090169943749475,-1,-.587785252292473,-.9510565162951536,-1,-.3090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,1,-.587785252292473,-.5877852522924732,-1,-.8090169943749473,-.8090169943749475,-1,-.587785252292473,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,1,-.8090169943749473,-.30901699437494756,-1,-.9510565162951535,-.5877852522924732,-1,-.8090169943749473,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,1,-1,-1.8369701987210297e-16,-1,-1,-.30901699437494756,1,-.9510565162951535,-1.8369701987210297e-16,-1,-1,-.30901699437494756,-1,-.9510565162951535,-1.8369701987210297e-16,1,-1,.30901699437494723,1,-.9510565162951536,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,1,-1,.30901699437494723,-1,-.9510565162951536,-1.8369701987210297e-16,-1,-1,.30901699437494723,1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.5877852522924729,-1,-.8090169943749476,.30901699437494723,1,-.9510565162951536,.5877852522924729,-1,-.8090169943749476,.30901699437494723,-1,-.9510565162951536,.5877852522924729,1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.8090169943749473,-1,-.5877852522924734,.5877852522924729,1,-.8090169943749476,.8090169943749473,-1,-.5877852522924734,.5877852522924729,-1,-.8090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,.9510565162951535,-1,-.3090169943749476,.8090169943749473,1,-.5877852522924734,.9510565162951535,-1,-.3090169943749476,.8090169943749473,-1,-.5877852522924734,.9510565162951535,1,-.3090169943749476,1,1,-2.4492935982947064e-16,1,-1,-2.4492935982947064e-16,.9510565162951535,1,-.3090169943749476,1,-1,-2.4492935982947064e-16,.9510565162951535,-1,-.3090169943749476],
indices:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239],normals:[0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997907,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997894,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.2360679774997885,0,0,3.23606797749979,0,0,3.23606797749979,0,0,3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997907,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997894,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.2360679774997885,0,0,-3.23606797749979,0,0,-3.23606797749979,0,0,-3.23606797749979,0,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.578437878668761,0,.2500000000000002,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.4239293814812872,0,.7255282581475765,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,1.1300367553350505,0,1.1300367553350505,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.7255282581475766,0,1.4239293814812874,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,.2500000000000002,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.2499999999999997,0,1.578437878668761,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-.725528258147577,0,1.423929381481287,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.1300367553350503,0,1.130036755335051,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.4239293814812868,0,.7255282581475768,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,.2500000000000002,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.578437878668761,0,-.2499999999999997,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.4239293814812868,0,-.7255282581475768,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-1.130036755335051,0,-1.1300367553350503,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.725528258147577,0,-1.423929381481287,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,-.2500000000000002,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.2499999999999997,0,-1.578437878668761,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,.7255282581475766,0,-1.4239293814812874,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.1300367553350499,0,-1.130036755335051,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.4239293814812868,0,-.7255282581475768,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002,1.578437878668761,0,-.2500000000000002]},cube:{vertices:[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1],indices:[[7,3,1,5],[7,5,4,6],[7,6,2,3],[3,2,0,1],[0,2,6,4],[1,0,4,5]]}},s=function(){var t={};return function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=e+r.join(",")+n.join(","),s={};if("quadrilateral"===e);else if("block"===e){var l=r[0]/2,f=r[1]/2,d=r[2]/2,v=t[c+"v"]||new Float32Array([l,f,d,-l,f,d,-l,-f,d,l,-f,d,l,f,d,l,-f,d,l,-f,-d,l,f,-d,l,f,d,l,f,-d,-l,f,-d,-l,f,d,-l,f,d,-l,f,-d,-l,-f,-d,-l,-f,d,-l,-f,-d,l,-f,-d,l,-f,d,-l,-f,d,l,-f,-d,-l,-f,-d,-l,f,-d,l,f,-d]),h=t[c+"l"]||Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,v));s.vertices=t[c+"v"]=v,s.indices=o,s.textures=i,s.longSide=t[c+"l"]=h}else if("ball"===e){var g=t[c+"v"]||[],p=t[c+"i"]||[],m=t[c+"t"]||[];if(!g.length){for(var A=[],x=r[0],b=r[1],w=r[2],y=0;b>=y;y++)for(var _=y*Math.PI/b,R=Math.sin(_),E=Math.cos(_),T=0;w>=T;T++){var F=2*T*Math.PI/w,L=Math.sin(F),M=Math.cos(F),B=M*R,U=E,D=L*R,$=1-T/w,P=1-y/b;A.push(B),A.push(U),A.push(D),m.push($),m.push(P),g.push(x*B),g.push(x*U),g.push(x*D)}for(var y=0;b>y;y++)for(var T=0;w>T;T++){var S=y*(w+1)+T,I=S+w+1;p.push(S),p.push(I),p.push(S+1),p.push(I),p.push(I+1),p.push(S+1)}t[c+"v"]=new Float32Array(g),t[c+"i"]=new Uint16Array(p),t[c+"t"]=new Float32Array(m),t[c+"l"]=Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,g))}s.vertices=t[c+"v"],s.indices=t[c+"i"],s.textures=t[c+"t"],s.longSide=t[c+"l"]}else{var v=t[c+"v"]||new Float32Array(u[e].vertices.map(function(t){return t*r[0]/2})),h=t[c+"l"]||Math.max(Math.max.apply(void 0,v),-Math.min.apply(void 0,v));if(s.vertices=t[c+"v"]=v,s.indices=new Uint16Array(u[e].indices.join(",").split(",")),s.textures=t[c+"t"],!s.textures){s.textures=[];for(var O=0;s.indices.length>O;O++)s.textures.push(Math.random().toFixed(2));s.textures=t[c+"t"]=new Float32Array(s.textures)}s.longSide=t[c+"l"]=h}if(n.length&&(s.colors=t[c+"c"],!s.colors)){var N=(s.indices||s.vertices).length/n.length*(s.indices?3:1);s.colors=new Uint8Array((0,a.arrayRepeat)(n,Math.ceil(N))),t[c+"c"]=s.colors}return s}}(),l=function(t,e){for(var r in e)t[r]||(t[r]=e[r]);return t},f={block:function(t){var e=s("block",[t.a,t.b,t.c],t.colors);return l(e,t)},quadrilateral:function(t){var e=s("quadrilateral",[t.a,t.b,t.c],t.colors);return l(e,t)},ball:function(t){var e=s("ball",[t.r,t.b||t.lat||20,t.b||t.lng||20],t.colors);return l(e,t)},custom:function(t){if(t.vertices.$cache||(t.vertices.$cache=new Float32Array(t.vertices)),t.normals&&t.normals.length&&(t.normals.$cache||(t.normals.$cache=new Float32Array(t.normals))),t.indices&&t.indices.length&&(t.indices.$cache||(t.indices.$cache=new Uint16Array(t.indices))),t.textures&&t.textures.length&&!t.textures.$cache){var e=t.vertices.length/t.textures.length/1.5;t.textures.$cache=new Float32Array((0,a.arrayRepeat)(t.textures,e))}if(t.colors&&t.colors.length&&!t.colors.$cache){var e=t.vertices.length/t.colors.length;t.colors.$cache=new Uint8Array((0,a.arrayRepeat)(t.colors,e))}var r=n(t,{vertices:t.vertices.$cache,normals:t.normals?t.normals.$cache:void 0,indices:t.indices?t.indices.$cache:void 0,textures:t.textures?t.textures.$cache:void 0,colors:t.colors?t.colors.$cache:void 0});return r}},d=function(t){f[t]=function(e){var r=s(t,[e.r],e.colors);return r.type=c,l(r,e)}};for(var v in u)d(v);t.exports=f}})});