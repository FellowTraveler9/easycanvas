<head>
    <style>
        body {margin: 0; padding: 0;}
        canvas {
            border: 1px solid grey;
            background-color: #eee;
            background-size: auto 100%;
            background-position: 50% 50%;
            width: 400px;
            height: 400px;
        }
    </style>
    <script src="../build/index.js"></script>
    <script src="../build/components.js"></script>
</head>

<body>
    <canvas id="foo"></canvas>

    <script>
        var $app = new Easycanvas.painter();
        var dom = document.getElementById('foo');

        $app.register(dom, {
            width: 800,
            height: 800,
        });
        $app.start();

        // ÊªöÂä®

        var $scroll = $app.add(Easycanvas.class.scroll({
            name: 'scroll-box',
            style: {
                tx: 50, ty: 50,
                tw: 400, th: 700,
                locate: 'lt',
                backgroundColor: '#ccc',
                overflowX: 'hidden',
                overflowY: 'scroll'
            },
            // scroll: {
            //     flexibleY: false,
            //     // smooth: 0.9
            // }
        }));

        $scroll.add({
            name: 'text',
            content: {
                text: 'Scroll Area',
            },
            style: {
                tx: 400, ty: 0,
                textFont: '36px Helvetica',
                textAlign: 'right',
                textVerticalAlign: 'top',
                color: '#999'
            }
        })

        var ty = 10;
        for (var i = 0; i < 15; i++) {
            $scroll.add({
                name: 'G',
                content: {
                    img: 'https://raw.githubusercontent.com/c-zhuo/easycanvas/master/demos/G.png',
                },
                style: {
                    tw: i * 10 + 50,
                    th: i * 10 + 50,
                    tx: Easycanvas.transition.pendulum(10, i * 20, 2000).loop(),
                    ty: ty,
                    locate: 'lt',
                    zIndex: 1,
                }
            });

            ty += i * 10 + 60;
        }

        // $scroll.scroll.maxScrollY = function () {
        //     let bottomPosition = 0;
        //     $scroll.getChildren().forEach((child) => {
        //         let currentBottomPosition = child.getSelfStyle('ty') + child.getOuterRect().th - $scroll.getStyle('th');
        //         if (currentBottomPosition > bottomPosition) bottomPosition = currentBottomPosition;
        //     });
        //     return bottomPosition;
        // };

        // ÊåâÈíÆ

        $app.add(Easycanvas.class.button({
            name: 'button-1',
            props: {
                text: 'click',
                normal: {
                    size: 24,
                    color: '#2eb6a8',
                    border: '4px solid #2eb6a8',
                    family: '"Helvetica Neue",Helvetica,Arial,sans-serif',
                },
                pressed: {
                    color: '#FFF',
                    backgroundColor: '#2eb6a8',
                },
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 50,
                tw: 100, th: 50,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.button({
            name: 'button-2',
            props: {
                text: 'hover',
                normal: {
                    size: 24,
                    color: '#2eb6a8',
                    border: '4px solid #2eb6a8',
                    family: '"Helvetica Neue",Helvetica,Arial,sans-serif',
                },
                hovered: {
                    color: '#FFF',
                    backgroundColor: '#2eb6a8',
                },
            },
            style: {
                locate: 'lt',
                tx: 620, ty: 50,
                tw: 100, th: 50,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.button({
            name: 'button-3',
            props: {
                text: 'hover & click',
                normal: {
                    size: 24,
                    color: '#2eb6a8',
                    border: '4px solid #2eb6a8',
                    family: '"Helvetica Neue",Helvetica,Arial,sans-serif',
                },
                hovered: {
                    color: '#FFF',
                    backgroundColor: '#2eb6a8',
                },
                pressed: {
                    color: '#FFF',
                    backgroundColor: '#1a988b',
                },
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 120,
                tw: 220, th: 50,
            },
            events: {
                click () {
                    this.update({
                        props: {
                            text: Date.now()
                        }
                    });
                }
            }
        }));

        // ÊñáÊú¨

        $app.add(Easycanvas.class.text({
            name: 'text-1',
            props: {
                text: 'ËøôÈáåÊòØ‰∏ÄÊÆµÂçïË°åÁöÑÊñáÊú¨',
                size: 24,
                width: 240,
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 220,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-2',
            props: {
                text: 'ËøôÈáåÊòØ‰∏ÄÊÆµÂæàÈïøÁöÑÂçïË°åÊñáÊú¨',
                size: 24,
                width: 240,
                overflow: 'ellipsis'
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 270,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-3',
            props: {
                text: 'ËøôÈáåÊòØ‰∏ÄÊÆµÂ§öË°åÊñáÊú¨abcdefg1234567ÔºÅÔºüÔºö.,?',
                size: 24,
                width: 240,
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 320,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-4',
            props: {
                text: 'emojiüê∂',
                size: 24,
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 420,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-5',
            props: {
                text: 'padding 10px 30px',
                size: 24,
                padding: '10px 30px'
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 470,
                backgroundColor: '#FFF',
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-6',
            props: {
                text: 'text 24, lineHeight 72, text 24, lineHeight 72',
                size: 24,
                lineHeight: 72,
                width: 240,
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 540,
                backgroundColor: '#FFF',
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));

        $app.add(Easycanvas.class.text({
            name: 'text-7',
            props: {
                text: 'color & font È¢úËâ≤Â≠ó‰Ωì',
                size: 24,
                color: '#F00',
                family: 'cursive, KaiTi, Helvetica, "Hiragino Sans GB", "Microsoft Yahei", "ÂæÆËΩØÈõÖÈªë", Arial, sans-serifsans-serif'
            },
            style: {
                locate: 'lt',
                tx: 500, ty: 700,
            },
            events: {
                click () {
                    console.log(this.name);
                }
            }
        }));
    </script>
</body>

