!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=70)}([function(e,t,n){"use strict";var o={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},funcOrValue:function(e,t){return"function"==typeof e?e.call(t):e},execFuncs:function(e,t,n){e&&(o.isArray(n)||(n=[n])),"function"==typeof e?e.apply(t,n):o.isArray(e)&&e.length&&e.forEach(function(e){e&&e.apply(t,n)})},blend:["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","copy","xor","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pointInRect:function(e,t,n,o,r,i){return!(e<n||o<e||t<r||i<t)},firstValuable:function(e,t,n){return void 0===e?void 0===t?n:t:e}};e.exports=o},function(e,t,n){"use strict";var o=["cutLeft","cutTop","cutWidth","cutHeight"],r=["left","top","width","height"],i=o.concat(r),a=i.concat(["locate","rx","ry","zIndex","fontSize","fontFamily","textAlign","textVerticalAlign","color","rotate","scale","opacity","backgroundColor","border","overflow","overflowX","overflowY"]);e.exports={txywh:r,sxywh:o,xywh:i,styles:a,devFlag:"__EASYCANVAS_DEVTOOL__",version:"0.8.0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o="undefined"!=typeof window;t.default=function(t,e){o&&window.Easycanvas&&(Easycanvas.class[e]=function(e){return t(Easycanvas.sprite,e)})}},function(e,t,n){"use strict";function d(e){return e.$lastPaintTime||Date.now()}function a(e,t,n,o,r){var i=(0,l.funcOrValue)(e[t]);i=i||0,e[t]=s[n].bind(a)(i,o,r)}var l=n(0),h=Math.PI,s={linear:function(n,o,r){var i,a=d(this),l=!1,s=function(){var e=(this.$lastPaintTime-a)/r,t=(o-n)*e+n;if(l)if(n<o)for(;o<t;)t-=o-n;else for(;t<o;)t+=n-o;else n<o&&o<t?(s.$done=!0,t=o):o<n&&t<o&&(s.$done=!0,t=o);return 1<=e&&i&&(i.call(this,t),i=null),t}.bind(this);return s.loop=function(){return l=!0,s},s.restart=function(){return a=d(this),s},s.then=function(e){return i=e,s},s},pendulum:function(o,r,i,e){var a=d(this),l=e||{};l.start=l.start||0;var s,c=!1,u=l.cycle||1,f=function(){var e=(d(this)-a)/i;c?u&&(e%=u):u?u<e&&(e=u,f.$done=!0,e=u):1<e&&(f.$done=!0,e=1);var t=e*h*2-h/2+l.start/360*h,n=(r-o)*(Math.sin(t)+1)/2+o;return u<=e&&s&&(s.call(this,n),s=null),n}.bind(this);return f.loop=function(){return c=!0,f},f.restart=function(){return a=d(this),f},f.then=function(e){return s=e,f},f},ease:function(e,t,n){return this.pendulum(e,t,2*n,{cycle:.5})},oneByOne:function(e){function t(){for(var e=0;e<n.length;e++){if(!n[e].$done)return n[e]();if(!n[e].$nextRestart&&(n[e].$nextRestart=!0,n[e+1]))return n[e+1].restart(),n[e+1]()}if(o){for(var t=0;t<n.length;t++)n[t].$done=!1,n[t].$nextRestart=!1,n[t].restart();return n[0]()}return n[n.length-1]()}var n=e,o=!1;return t.loop=function(){return o=!0,t},t}};for(var o in s)a[o]=s[o];e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i){var a=r?-r/180*3.141593:0,l=e,s=t;return r&&(l=(e-n)*Math.cos(a)-(t-o)*Math.sin(a)+n,s=(e-n)*Math.sin(a)+(t-o)*Math.cos(a)+o),i?[l,s]:{x:l,y:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function o(e,t){var n,o=String(e),r=o+JSON.stringify(t);if(t.fontSize=t.fontSize||16,k[r])return k[r];t.padding?((n=(n=t.padding.split(" ")).map(function(e){return parseInt(e)}))[1]=Number(n[1]||n[0]),n[2]=Number(n[2]||n[0]),n[3]=Number(n[3]||n[1])):n=[0,0,0,0];var i=t.minWidth||t.width||(t.fontSize||16)*o.length+n[1]+n[3]+100,a=o.split("\n").length,l=t.fontSize*(Math.round(o.length)/i+a-1)*(t.lineHeight||t.fontSize)+n[0]+n[2]+100,s=document.createElement("canvas");s.width=i,s.height=l;var c=s.getContext("2d");window.tempCanvas=s,(window.tempCtx=c).textBaseline="middle",c.font=(t.fontStyle?t.fontStyle+" ":"")+t.fontSize+"px "+(t.family||"serif"),c.fillStyle=t.color||"#000",c.textAlign=t.textAlign||"left";for(var u=t.lineHeight?(t.lineHeight-t.fontSize)/2:0,f=0,d=1,h=0,p=0,v=1;;)if((p=c.measureText(o.slice(f,d)).width)>t.width){if("ellipsis"===t.textOverflow){d-=2,c.fillText(o.slice(f,d)+"...",0,u+t.fontSize/2),u+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:0),v++,h=t.width-n[1]-n[3];break}d-=1,c.fillText(o.slice(f,d),0,u+t.fontSize/2),d=(f=d)+1,u+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:10),v++}else{if(d>o.length-1){h<p&&(h=p),c.fillText(o.slice(f,d),0,u+t.fontSize/2),u+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:0);break}o.slice(d,d+1)===P&&(c.fillText(o.slice(f,d),0,u+t.fontSize/2),d=(f=d+=1)+1,u+=t.fontSize+(t.lineHeight?(t.lineHeight-t.fontSize)/2:10),v++),h<p&&(h=p),d++}var g=document.createElement("canvas");g.lastLineLeft=p,g.lineCount=v,g.width=Math.max(h+n[1]+n[3],t.minWidth||0),g.height=u+n[0]+n[2];var y=g.getContext("2d");if(t.backgroundColor&&(y.fillStyle=t.backgroundColor,y.fillRect(0,0,g.width,g.height)),y.drawImage(s,(g.width-h)/2,n[0]),t.border){var m=t.border.split(" "),b=m.pop();"solid"===m[m.length-1]&&m.pop();var $=m[0],w=m[1]||$,x=m[2]||$,_=m[3]||w||$;$=parseInt($),w=parseInt(w),x=parseInt(x),_=parseInt(_);var O=t.borderRadius||0;if(y.beginPath(),y.strokeStyle=b,$&&(y.lineWidth=$,y.moveTo(_?O:0,0),y.lineTo(g.width-(w?O:0),0)),w&&(y.lineWidth=w,y.moveTo(g.width,$?O:0),y.lineTo(g.width,g.height-(x?O:0))),x&&(y.lineWidth=x,y.moveTo(_?O:0,g.height),y.lineTo(g.width-(w?O:0),g.height)),_&&(y.lineWidth=_,y.moveTo(0,$?O:0),y.lineTo(0,g.height-(x?O:0))),y.stroke(),O){var T=document.createElement("canvas"),S=Math.min(g.width,g.height);T.width=T.height=S;var M=T.getContext("2d");M.beginPath(),M.strokeStyle=b,M.arc(S>>1,S>>1,(S>>1)-1,0,2*Math.PI),M.stroke(),$&&w&&y.drawImage(T,S>>1,0,S>>1,S>>1,g.width-O,0,O,O),x&&w&&y.drawImage(T,S>>1,S>>1,S>>1,S>>1,g.width-O,g.height-O,O,O),$&&_&&y.drawImage(T,0,0,S>>1,S>>1,0,0,O,O),x&&_&&y.drawImage(T,0,S>>1,S>>1,S>>1,0,g.height-O,O,O)}}return k[r]=g}var k={},P="\n".slice(0,1);t.default=o},function(e,t,n){"use strict";var a=g(n(0)),l=g(n(1)),o=g(n(33)),r=g(n(34)),i=g(n(10)),s=g(n(11)),c=g(n(35)),u=g(n(36)),f=g(n(37)),d=g(n(38)),h=g(n(39)),p=g(n(40)),v=g(n(41));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(n){n.children&&n.children.forEach(function(e,t){e.$id||(n.children[t]=new b(e)),n.$id&&!n.$dom?(n.children[t].$canvas=n.$canvas,n.children[t].$parent=n):n.children[t].$canvas=n,m(n.children[t])})}var b=function(e){var t=function(e,n){var o=e||{};o.$id||(o.$id=Math.random().toString(36).substr(2)),o.$tickedTimes=o.$tickedTimes||0,o.content=o.content||{},o.style=o.style||{},o.style.scale=a.default.firstValuable(o.style.scale,1),o.style.opacity=a.default.firstValuable(o.style.opacity,1),o.style.zIndex=o.style.zIndex||0,o.style.locate=o.style.locate||"center";a.default.funcOrValue(o.content.img);return n.$cache={},n.$render={},n.$style={},n.$needUpdate={},o.hooks=o.hooks||{},l.default.styles.concat(["visible"]).forEach(function(t){n.$cache[t]=void 0,n.$style[t]=o.style[t],"function"==typeof o.style[t]&&(n.$style[t]=o.style[t].bind(n)),-1<l.default.xywh.indexOf(t)?n.$style[t]=n.$style[t]||0:-1<["opacity","scale"].indexOf(t)&&(n.$style[t]=a.default.firstValuable(n.$style[t],1)),n.$needUpdate[t]=1,Object.defineProperty(o.style,t,{get:function(){return n.$style[t]},set:function(e){n.$style[t]!==e&&(n.$style[t]=e,n.$needUpdate[t]=1)}})}),o.events=o.events||{},o.events.eIndex=o.events.eIndex,o.children=o.children||[],"string"==typeof o.children&&(o.content.text=o.children,o.children=[]),m(o),o.$styleCacheTime={},o}(e,this);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this[n]=t[n]);return function(t){var n=this;this.$extendList.forEach(function(e){e.call(n,t)})}.call(this,t),this};b.prototype.$extendList=[],b.prototype.add=function(e){if(e)return this.children.push(e),m(this),this.children[this.children.length-1]},b.prototype.getRect=function(e,t){var n=this,o={};if(l.default.txywh.forEach(function(e){o[e]=n.getStyle(e,t)}),0===o.width&&this.content.img&&!e){var r=a.default.funcOrValue(this.content.img,this);o.width=r.width,o.height=r.height}var i=this.getStyle("locate");return"lt"===i||("ld"===i?o.top-=o.height:"rt"===i?o.left-=o.width:"rd"===i?(o.left-=o.width,o.top-=o.height):(o.left-=o.width>>1,o.top-=o.height>>1)),o.right=this.$canvas.width-o.left-o.width,o.bottom=this.$canvas.height-o.top-o.height,o},b.prototype.getSelfStyle=function(e){var t={};if(e)return a.default.funcOrValue(this.style[e],this);for(var n in this.style)t[n]=a.default.funcOrValue(this.style[n],this);return t},b.prototype.getStyle=function(e,t){var n=this;if(t&&void 0!==n.$cache[e])return n.$cache[e];var o=a.default.funcOrValue(n.$style[e],n);if(n.$parent){var r=n.$parent.getStyle(e);if("left"===e||"top"===e)return(r=a.default.firstValuable(r,0))+a.default.firstValuable(o,0);if("scale"===e||"opacity"===e)return(r=a.default.firstValuable(r,1))*a.default.firstValuable(o,1);if("visible"===e)return!1!==r&&o}return o},b.prototype.remove=function(e){if(e)return this.$canvas.remove(e),void a.default.execFuncs(e.hooks.removed,e);this.$parent?this.$parent.remove(this):this.$canvas.remove(this),a.default.execFuncs(this.hooks.removed,this)},b.prototype.update=function(e){if(e){for(var t in e)if("object"===y(e[t]))for(var n in e[t])this[t]||(this[t]={}),this[t][n]=e[t][n];else this[t]=e[t];return this.recalculate(!0),this}},b.prototype.hide=function(){return this.style.display="none",this},b.prototype.show=function(){return this.style.display=void 0,this},b.prototype.getAllChildren=function(e){var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllChildren(!0))}),t},b.prototype.getAllVisibleChildren=function(e){if(!1===a.default.funcOrValue(this.style.visible,this))return[];var t=e?[this]:[];return this.children.forEach(function(e){t=t.concat(e.getAllVisibleChildren(!0))}),t},b.prototype.getOuterRect=d.default,b.prototype.combine=h.default,b.prototype.uncombine=p.default,b.prototype.combineAsync=function(){return this.$combine||(this.$combine=9,this.off("ticked",this.combine),this.on("ticked",this.combine,100)),this},b.prototype.recalculate=v.default,b.prototype.refresh=function(){for(var e in $sprite.$style)$sprite.$cache[e]=b.get($sprite.$style[e],$sprite);return this},b.prototype.nextTick=s.default,b.prototype.on=o.default,b.prototype.off=r.default,b.prototype.clear=i.default,b.prototype.trigger=c.default,b.prototype.broadcast=u.default,b.prototype.distribute=f.default,e.exports=b},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,i,t){var a=t||{},l=u.cacheCanvas;if("object"===r(e)){var n=e;return a.callbackArgs=a.callbackArgs||[],void u(n.shift(),function(e){a.callbackArgs.push(e),1<n.length?u(n,i,a):u(n[0],function(e){a.callbackArgs.push(e),i(a.callbackArgs)},a)},t)}var o=e+"_"+JSON.stringify(t)+"_"+l;if(f[o])return i?void(f[o].width&&i?i(f[o]):setTimeout(function(){u(e,i,t)},100)):f[o];var s,c=new h;return c._complete=!1,a.block?(c.src=e,p++):0===p?c.src=e:d.push({imgObj:c,src:e}),f[o]=c,(a.canvas||a.alphaColor||l)&&((s=document.createElement("canvas")).width=s.height||0,f[o]=s),c.onload=function(e){if(c._complete=!0,"jpg"===c.src.substr(-3)||"jpeg"===c.src.substr(-3)||"bmp"===c.src.substr(-3)?c.$noAlpha=!0:0===c.src.indexOf("data:image/jpg;")&&(c.$noAlpha=!0),a.block&&0===--p&&(d.forEach(function(e){e.imgObj.src=e.src}),d.splice(0)),s&&(a.canvas||a.alphaColor||l)){var t=s.getContext("2d");if(s.width=c.width,s.height=c.height,s.$noAlpha=c.$noAlpha,t.drawImage(c,0,0),a.alphaColor){for(var n=t.getImageData(0,0,c.width,c.height),o=0;o<n.data.length;o+=4){var r=n.data[o]+n.data[o+1]+n.data[o+2];n.data[o]<1&&n.data[o+1]<1&&n.data[o+2]<1&&(n.data[o+3]=Math.floor(r/255))}t.putImageData(n,0,0),s.$noAlpha=!1}c=s}i&&i(c)},c.onerror=function(){f[o]=c},s||c}var f={},d=[],h="undefined"!=typeof window&&Image,p=0;u.cacheCanvas=!1,e.exports=u},function(e,t,n){"use strict";o(n(4));var f=o(n(19));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,n,o,r,i,a,l,s,c,u){if(!u){if(i+l<t)return!1;if(t+o<i)return!1;if(r+a<e)return!1;if(e+n<r)return!1}return!!((0,f.default)(e,t,r,i,a,l,s,c,u)||(0,f.default)(e+n,t,r,i,a,l,s,c,u)||(0,f.default)(e,t+o,r,i,a,l,s,c,u)||(0,f.default)(e+n,t+o,r,i,a,l,s,c,u))||(!!((0,f.default)(r,i,e,t,n,o,s,c,-u)||(0,f.default)(r+a,i,e,t,n,o,s,c,-u)||(0,f.default)(r,i+l,e,t,n,o,s,c,-u)||(0,f.default)(r+a,i+l,e,t,n,o,s,c,-u))||(i<t&&t+o<i+l&&e<r&&r+a<e+n||r<e&&e+n<r+a&&t<i&&i+l<t+o))}},function(e,t,n){"use strict";function o(e){setTimeout(e,1e3/60)}var r="undefined"!=typeof requestAnimationFrame&&(requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)||o;e.exports=r},function(e,t,n){"use strict";e.exports=function(){this.children.forEach(function(e){e.remove()}),this.children=[]}},function(e,t,n){"use strict";e.exports=function(t){this.on("ticked",function e(){t.apply(this,arguments),this.off("ticked",e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(5)),r=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.buttonStyleNormal=Object.assign(s,{minWidth:t.style.width,lineHeight:t.style.height,padding:0},t.props.normal),e.buttonStyleHovered=Object.assign({},e.buttonStyleNormal,t.props.hovered),e.buttonStylePressed=Object.assign({},e.buttonStyleNormal,t.props.pressed),e.imageNormal=(0,o.default)(t.props.text||"",e.buttonStyleNormal),e.imageHovered=t.props.hovered&&(0,o.default)(t.props.text||"",e.buttonStyleHovered),e.imagePressed=t.props.pressed&&(0,o.default)(t.props.text||"",e.buttonStylePressed)}function l(t,e){var n;t.props=t.props||{};var o={buttonStyleNormal:void 0,buttonStyleHovered:void 0,buttonStylePressed:void 0,imageNormal:void 0,imageHovered:void 0,imagePressed:void 0};a(o,t);var r={};return t.events=t.events||{},r.touchmove=r.mousemove=function(){n.content.img=o.imageHovered||o.imageNormal},r.touchstart=r.mousedown=function(){n.content.img=o.imagePressed||o.imageHovered||o.imageNormal},r.touchend=r.touchout=r.mouseout=function(){n.content.img=o.imageNormal},r.mouseup=function(){n.content.img=o.imageHovered||o.imageNormal},r.click=function(e){t.events.click&&t.events.click.call(n,e)},(n=new e({name:t.name||"button_"+t.props.text,content:{img:o.imageNormal},style:t.style,props:t.props,events:r,hooks:t.hooks})).update=function(e){this.__proto__.update.call(this,e),a(o,t),n.content.img=o.imageNormal},n}var s={padding:0,width:300,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'};(0,r.default)(l,"button");var c=l;t.default=c},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e,t){var n,o=e||{};return o.name=o.name||"Image",(n=new t(o)).content.img=o.src,Object.defineProperty(n,"src",{get:function(){return n.content.img?n.content.img.src:""},set:function(e){n.content.img=e}}),n}(0,((o=n(2))&&o.__esModule?o:{default:o}).default)(r,"image");var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d=n(0),u=r(n(3)),o=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return Math.abs(e)<Math.abs(t)?e:t}function i(e,t){var r=!1,i=!1,n=e||{};function a(){r&&(l.scroll.scrollX=r()),i&&(l.scroll.scrollY=i()),r||i||l.off("ticked",a)}n.scroll=Object.assign({scrollX:0,scrollY:0,scrollableX:function(){return"visible"!==(this.style.overflowX||this.style.overflow)},scrollableY:function(){return"visible"!==(this.style.overflowY||this.style.overflow)},minScrollX:0,maxScrollX:function(){var n=this,o=0;return this.getChildren().forEach(function(e){var t=e.getSelfStyle("left")+e.getSelfStyle("width")-n.getStyle("width");o<t&&(o=t)}),o},minScrollY:0,maxScrollY:function(){var n=this,o=0;return this.getChildren().forEach(function(e){var t=e.getSelfStyle("top")+e.getSelfStyle("height")-n.getStyle("height");o<t&&(o=t)}),o},propagationX:!1,propagationY:!1},e.scroll);var o=!1;n.events=Object.assign({touchstart:function(e){f(this),c=!(o=!0),v(this,e),l.scroll.propagationX||l.scroll.propagationY||e.stopPropagation()},touchmove:function(e){if(o&&(!c||this===c)){var t=v(this,e);1===t&&l.scroll.propagationY?(e.stopPropagation(),c=this):2===t&&l.scroll.propagationX&&(e.stopPropagation(),c=this)}},mousewheel:function(e){o=!0,g(this,e),e.stopPropagation()},touchend:function(){o=!1,f(this)},mouseup:function(){o=!1,f(this)}},n.events||{}),n.scroll.capture&&(n.events.interceptor=function(e){return l.events[e.type]?(l.events[e.type].call(l,e),!1):e});var l=new t(n);l.on("ticked",function(){p(l)}),l.on("scrollTo",function(e,t,n){var o;return r=u.default.ease(l.scroll.scrollY,e,n||200,{cycle:.5}).then(function(){r=!1,o&&o(),o=!1}),i=u.default.ease(l.scroll.scrollY,t,n||200,{cycle:.5}).then(function(){i=!1,o&&o(),o=!1}),l.on("ticked",a),{then:function(e){o=e}}}),l.$scroll={speedX:0,speedY:0,touching:!1,startPos:{},lastTouchSpeed:0,lastScrollSpeed:0};var s=l.add({name:"scrolling-element",style:{left:function(){return-this.$parent.scroll.scrollX},top:function(){return-this.$parent.scroll.scrollY}}});return l.add=s.add.bind(s),l.clear=s.clear.bind(s),l.getChildren=function(){return s.children},l}var f=function(e){e.$scroll.touching=!1},p=function(e){if(e.$scroll&&e.$scroll.$scrolling){if(1<Math.abs(e.$scroll.speedX)?e.$scroll.speedX*=e.scroll.smooth||.8:e.$scroll.speedX=0,1<Math.abs(e.$scroll.speedY)?e.$scroll.speedY*=e.scroll.smooth||.8:e.$scroll.speedY=0,Math.abs(e.$scroll.speedX)<=1&&Math.abs(e.$scroll.speedY)<=1)return e.$scroll.$scrolling=!1,void(e.$scroll.$wheeling=!1);if(!e.$scroll.touching){if(e.scroll.scrollY-=e.$scroll.speedY,e.scroll.scrollX-=e.$scroll.speedX,!e.$scroll.touching&&!e.$scroll.$wheeling&&Math.abs(e.$scroll.speedY)<50&&e.scroll.anchors&&e.scroll.anchors.length)for(var t=e.scroll.anchorsRange||400,n=0;n<e.scroll.anchors.length;n++){var o=e.scroll.anchors[n],r=e.scroll.scrollY-o;if(0<r&&r<t&&0<e.$scroll.speedY||r<0&&-t<r&&e.$scroll.speedY<0){e.trigger("scrollTo",o,200),e.$scroll.speedY=0;break}}var i=(0,d.funcOrValue)(e.scroll.minScrollX,e),a=(0,d.funcOrValue)(e.scroll.maxScrollX,e),l=(0,d.funcOrValue)(e.scroll.minScrollY,e),s=(0,d.funcOrValue)(e.scroll.maxScrollY,e);!isNaN(l)&&e.scroll.scrollY<l?e.scroll.scrollY=l:!isNaN(s)&&e.scroll.scrollY>s&&(e.scroll.scrollY=s,e.broadcast("scrolledToBottom"),e.$scroll.speedY=0),!isNaN(i)&&e.scroll.scrollX<i?e.scroll.scrollX=i:!isNaN(a)&&e.scroll.scrollX>a&&(e.scroll.scrollX=a)}}},v=function(e,t){var n=Date.now();if(e.$scroll.$wheeling=!1,e.$scroll.touching){e.$scroll.$scrolling=!0;var o=e.$scroll.startPos.x-t.canvasX,r=e.$scroll.startPos.y-t.canvasY,i=n-e.$scroll.touching;e.$scroll.touching=n;var a=(0,d.funcOrValue)(e.scroll.minScrollX,e),l=(0,d.funcOrValue)(e.scroll.maxScrollX,e),s=(0,d.funcOrValue)(e.scroll.minScrollY,e),c=(0,d.funcOrValue)(e.scroll.maxScrollY,e);if((e.scroll.scrollX+o<a||e.scroll.scrollX+o>l)&&(e.scroll.flexible||e.scroll.flexibleX?o>>=3:o=0),(e.scroll.scrollY+r<s||e.scroll.scrollY+r>c)&&(e.scroll.flexible||e.scroll.flexibleY?r>>=3:r=0),(0,d.funcOrValue)(e.scroll.scrollableX,e)&&1<=Math.abs(o)&&1<i){var u=(t.canvasX-e.$scroll.startPos.x)/i*25;0<e.$scroll.lastScrollSpeed*u&&15<Math.abs(u)&&(u+=h(u,e.$scroll.lastScrollSpeed)),e.$scroll.speedX=(e.$scroll.lastTouchSpeed+u)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=u,e.scroll.scrollX+=o}if((0,d.funcOrValue)(e.scroll.scrollableY,e)&&1<=Math.abs(r)&&1<i){var f=(t.canvasY-e.$scroll.startPos.y)/i*25;0<e.$scroll.lastScrollSpeed*f&&15<Math.abs(f)&&(f+=h(f,e.$scroll.lastScrollSpeed)),e.$scroll.speedY=(e.$scroll.lastTouchSpeed+f)/(e.$scroll.lastTouchSpeed?2:1),e.$scroll.lastTouchSpeed=f,e.scroll.scrollY+=r}if(e.$scroll.startPos.x=t.canvasX,e.$scroll.startPos.y=t.canvasY,Math.abs(o)>Math.abs(r)+1)return 1;if(Math.abs(o)<Math.abs(r)-1)return 2}else e.$scroll.touching=n,e.$scroll.quickTouch=n,e.$scroll.lastTouchSpeed=0,e.$scroll.startPos.x=t.canvasX,e.$scroll.startPos.y=t.canvasY,e.$scroll.lastScrollSpeed=e.$scroll.speedX||e.$scroll.speedY,e.$scroll.speedX=0,e.$scroll.speedY=0},g=function(e,t){e.$scroll.speedX=(0,d.funcOrValue)(e.scroll.scrollableX,e)?t.event.wheelDeltaX:0,e.$scroll.speedY=(0,d.funcOrValue)(e.scroll.scrollableY,e)?t.event.wheelDeltaY:0,e.$scroll.$scrolling=!0,e.$scroll.$wheeling=!0,t.stopPropagation()};(0,o.default)(i,"scroll");var a=i;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,l=n(0);function r(e,t){var n=new t(e);return e.props.index=e.props.index||0,n.on("beforeTick",function(){var e=this.props,t=(0,l.funcOrValue)(this.content.img,this);if(t&&t.width){var n,o,r=e.index||0;if(r<0&&(r=0),e.frameWidth||e.frameHeight){n=e.frameWidth<0?t.width/-e.frameWidth:e.frameWidth,o=e.frameHeight<0?t.height/-e.frameHeight:e.frameHeight;var i=Math.floor(t.width/n),a=Math.floor(t.height/o);this.style.cutLeft=r%i*n,this.style.cutTop=Math.floor(r/i)%a*o}!e.loop&&0<r&&0===this.style.cutLeft&&0===this.style.cutTop&&(this.style.img=void 0,e.onOver?e.onOver.call(this):this.remove()),e.lastFrameTime=e.lastFrameTime||0,this.$canvas.$nextTickTime-e.lastFrameTime>=(0,l.funcOrValue)(e.interval,this)&&(e.lastFrameTime=this.$canvas.$nextTickTime,e.index++),this.style.cutWidth=this.style.cutWidth||n,this.style.cutHeight=this.style.cutHeight||o,this.style.width=this.style.width||n,this.style.height=this.style.height||o}}),n}(0,((o=n(2))&&o.__esModule?o:{default:o}).default)(r,"sequence");var i=r;t.default=i},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e,t){var n,o=e||{};return o.name=o.name||"Text",o.content=o.content||{},o.content.text=o.text,n=new t(o),Object.defineProperty(n,"text",{get:function(){return n.content.text||""},set:function(e){n.content.text=e}}),n}(0,((o=n(2))&&o.__esModule?o:{default:o}).default)(r,"text");var i=r;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2)),r=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){e.content.img=e.text?(0,r.default)(e.text,Object.assign({},s,{lineHeight:e.style.fontSize,textAlign:"left"},e.style)):void 0}function l(e,t){var n;return e.name=e.name||"Text",n=new t(e),a(n),Object.defineProperty(n,"text",{get:function(){return n.content.text},set:function(e){n.content.img=text}}),n.update=function(e){this.__proto__.update.call(this,e),a(this)},n}var s={padding:0,width:300,lineHeight:100,family:'"Helvetica Neue",Helvetica,Arial,sans-serif'};(0,o.default)(l,"text");var c=l;t.default=c},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e,t){var n=e||{};return n.name=n.name||"View",new t(n)}(0,((o=n(2))&&o.__esModule?o:{default:o}).default)(r,"view");var i=r;t.default=i},function(e,t,n){"use strict";var o;(o=n(4))&&o.__esModule;e.exports=function(e,t,n,o,r,i,a,l,s){var c=s?-s/180*3.141593:0;return c&&(t=((e=(e-a)*Math.cos(c)-(t-l)*Math.sin(c)+a)-a)*Math.sin(c)+(t-l)*Math.cos(c)+l),n<=e&&e<=n+r&&o<=t&&t<=o+i}},function(e,t,n){"use strict";var r="processing",i={};e.exports=function e(t,n){if(t&&t.match(/^data:/))n&&n(t);else if(i[t])i[t]!==r?n(i[t]):setTimeout(function(){e(t,n)},100);else{i[t]=r;var o=new XMLHttpRequest;o.onload=function(){var e=new FileReader;e.onloadend=function(){i[t]=e.result,n&&n(e.result)},e.readAsDataURL(o.response)},o.open("GET",t),o.responseType="blob",o.send()}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Painter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"tick",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"utils",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Transition",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ImgLoader",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"imgPretreat",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"multlineText",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"sprite",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"extend",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Scroll",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Sequence",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"View",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"RichText",{enumerable:!0,get:function(){return m.default}}),t.default=t.use=t.Sprite=void 0;b(n(1));var o=b(n(23)),r=b(n(9)),i=b(n(0)),a=b(n(3)),l=b(n(7)),s=b(n(49)),c=b(n(50)),u=b(n(6)),f=b(n(51)),d=b(n(12)),h=b(n(13)),p=b(n(14)),v=b(n(15)),g=b(n(16)),y=b(n(18)),m=b(n(17));function b(e){return e&&e.__esModule?e:{default:e}}n(52);var $=u.default;t.Sprite=$;var w={Painter:o.default,ImgLoader:l.default,imgPretreat:s.default,multlineText:c.default,Transition:a.default,tick:r.default,utils:i.default,extend:f.default,class:{sprite:u.default},sprite:u.default,Sprite:$,Button:d.default,Image:h.default,Scroll:p.default,Sequence:v.default,Text:g.default,View:y.default,RichText:m.default},x=w.use=function(e){var t=w.Painter.prototype.$extendList;0<=t.indexOf(e)||(e.onUse&&e.onUse(w),t.push(e))};t.use=x,"undefined"!=typeof window&&(window.Easycanvas?console.warn("[Easycanvas] already loaded, it should be loaded only once."):window.Easycanvas=w);var _=w;t.default=_},function(e,t,n){"use strict";var o=l(n(24)),r=l(n(42)),i=l(n(48)),a=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t in this.imgLoader=a.default,i.default)this[t]=this[t]||JSON.parse(JSON.stringify(i.default[t]));e&&(e.el||(e={el:e}),e.el&&this.register("string"==typeof e.el?document.querySelector(e.el):e.el,e))}for(var c in s.prototype.$extendList=[],r.default)Object.prototype.hasOwnProperty.call(r.default,c)&&(s.prototype[c]=r.default[c]);for(var u in o.default)Object.prototype.hasOwnProperty.call(o.default,u)&&(s.prototype[u]=o.default[u]);e.exports=s},function(e,t,n){"use strict";var o=h(n(25)),r=h(n(26)),i=h(n(27)),a=h(n(10)),l=h(n(28)),s=h(n(11)),c=h(n(29)),u=h(n(30)),f=h(n(31)),d=(h(n(32)),h(n(6)));function h(e){return e&&e.__esModule?e:{default:e}}var p={start:r.default,paint:i.default,add:d.default.prototype.add,remove:o.default,register:c.default,clear:a.default,setFpsHandler:u.default,setMaxFps:f.default,pause:l.default,on:d.default.prototype.on,off:d.default.prototype.off,trigger:d.default.prototype.trigger,broadcast:d.default.prototype.broadcast,nextTick:s.default,getAllChildren:d.default.prototype.getAllChildren};e.exports=p},function(e,t,n){"use strict";var o,r=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(e,t){r.default.execFuncs(e.hooks.beforeRemove,e,e.$tickedTimes++),e.style.visible=!1,e.$removing=!0,e.$parent?e.$parent.children=e.$parent.children.filter(function(e){return!0!==e.$removing}):this.children=this.children.filter(function(e){return!0!==e.$removing}),e.$canvas&&(e.$canvas=void 0,e.$parent=void 0,e.$tickedTimes=void 0,e.$cache={},e.$rendered=!1,r.default.execFuncs(e.hooks.removed,e,e.$tickedTimes)),t&&this.children.splice(this.children.indexOf(e),1)}},function(e,t,n){"use strict";var o=i(n(9)),r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=Date.now();r.default.$lastPaintTime=this.$nextTickTime=e,1e3<=e-this.fpsCalculateTime&&(this.fpsCalculateTime=e,this.fpsHandler&&this.fpsHandler.call(this,this.fps),this.lastFps=this.fps,this.fps=0),(0,o.default)(l.bind(this))}var l=function(e){if(this.$rafTime=e,a.call(this),0<this.maxFps&&this.maxFps<60){if(time-this.$lastPaintTime<=1e3/this.maxFps)return;this.$lastPaintTime=time-(time-this.$lastPaintTime)%(1e3/this.maxFps)}else this.$lastPaintTime=Date.now();this.fps++,this.paint()};e.exports=function(){return this.fpsCalculateTime=Date.now(),a.call(this),this}},function(e,t,n){"use strict";var r=o(n(0));o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){if(!(this.$pausing||this.$inBrowser&&document.hidden)){var n=this;0,r.default.execFuncs(n.hooks.beforeTick,n,[n.$rafTime]),n.children.forEach(function(e){e.recalculate()}),n.$freezing||(n.$lastTickChildren=n.$children,n.$children=[],this.children.sort(function(e,t){var n=r.default.funcOrValue(e.style.zIndex,e),o=r.default.funcOrValue(t.style.zIndex,t);return n===o?0:o<n?1:-1}).forEach(function(e,t){n.$perPaint(e,t)})),n.$paintContext.clearRect&&n.$paintContext.clearRect(0,0,this.width,this.height),n.$render(),r.default.execFuncs(n.hooks.ticked,n,[n.$rafTime]),n.hooks.nextTick&&(r.default.execFuncs(n.hooks.nextTick,n,[n.$rafTime]),delete n.hooks.nextTick)}}},function(e,t,n){"use strict";e.exports=function(e){this.$pausing=void 0===e||e}},function(e,t,n){"use strict";e.exports=function(t,e){var n=this;var o=e||{};for(var r in t=this.$dom=t||this.$dom,o)this[r]=o[r];if(this.name=o.name||t.id||t.classList&&t.classList[0]||"Unnamed",this.$inBrowser="undefined"!=typeof window,o.fullScreen&&"undefined"!=typeof document&&(t.width=t.style.width=document.body.clientWidth||document.documentElement.clientWidth,t.height=t.style.height=document.body.clientHeight||document.documentElement.clientHeight,o.dpr&&(t.width*=o.dpr,t.height*=o.dpr)),t.width=this.width=this.width||o.width||t.width,t.height=this.height=this.height||o.height||t.height,this.events=o.events||{},this.hooks=o.hooks||{},this.$inBrowser){["contextmenu","mousewheel","click","dblclick","mousedown","mouseup","mousemove","touchstart","touchend","touchmove"].forEach(function(e){t.addEventListener(e,n.$eventHandler.bind(n))})}return function(t){var n=this;this.$extendList.forEach(function(e){e.onCreate&&e.onCreate.call(n,t)})}.call(this,o),this.$paintContext=this.$paintContext||t.getContext("2d"),this}},function(e,t,n){"use strict";e.exports=function(e){this.fpsHandler=e}},function(e,t,n){"use strict";e.exports=function(e){this.maxFps=e||-1}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var o,a=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(e,n,o){var r=n;if(o){var i=this;(r=function(){var e=Date.now();if(e>r.$lastTriggerTime+o){r.$lastTriggerTime=e;var t=Array.prototype.slice.call(arguments);n.apply(i,t)}}).$lastTriggerTime=-1,r.$handle=n}this.hooks[e]?a.default.isArray(this.hooks[e])?this.hooks[e].push(r):this.hooks[e]=[this.hooks[e],r]:this.hooks[e]=r}},function(e,t,n){"use strict";var o,r=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(e,t){this.hooks[e]&&(this.hooks[e]!==t&&this.hooks[e].$handle!==t&&t?r.default.isArray(this.hooks[e])&&(0<=this.hooks[e].indexOf(t)?this.hooks[e][this.hooks[e].indexOf(t)]=void 0:0<=this.hooks[e].indexOf(t.$handle)&&(this.hooks[e][this.hooks[e].indexOf(t.$handle)]=void 0)):delete this.hooks[e])}},function(e,t,n){"use strict";var o,r=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(this.hooks[t])return r.default.execFuncs(this.hooks[t],this,e)}},function(e,t,n){"use strict";var o,r=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();this.hooks[e]&&r.default.execFuncs(this.hooks[e],this,t),t.unshift(e);var n=this.children;n&&n.forEach(function(e){e.broadcast.apply(e,t)})}},function(e,t,n){"use strict";var o;(o=n(0))&&o.__esModule;e.exports=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();t.unshift(e);var n=this.children;n&&n.forEach(function(e){e.broadcast.apply(e,t)})}},function(e,t,n){"use strict";e.exports=function(n,o){var r=this.getRect(n,o);return r.right=r.left+r.width,r.bottom=r.top+r.height,this.children.forEach(function(e){if(!1!==e.$cache.visible){var t=e.getOuterRect(n,o);t.left<r.left&&(r.left=t.left),t.top<r.top&&(r.top=t.top),t.right>r.right&&(r.right=t.right),t.bottom>r.bottom&&(r.bottom=t.bottom),r.width=r.right-r.left,r.height=r.bottom-r.top}}),r}},function(e,t,n){"use strict";var v=o(n(0));o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){var h=this,p=this;return 9!==p.$combine?1:(setTimeout(function(){if(9!==p.$combine)return 1;if(!1===p.getStyle("visible"))return 3;var e=h.$canvas,t=p.getRect(!1,!0);if(t.tw>e.width)return 2;if(t.th>e.height)return 2;for(var n,o=p.getAllChildren(!0),r=0;r<o.length;r++){var i=o[r];if(i.content.img&&!i.$render._imgWidth)return 3;if(1!==i.getStyle("scale"))return 3}if("hidden"!==v.default.funcOrValue(p.style.overflow,p)){if((n=p.getOuterRect(!1,!0)).left=Math.floor(n.left),n.top=Math.floor(n.top),n.width=Math.round(n.width),n.height=Math.round(n.height),n.right=Math.round(n.right),n.bottom=Math.round(n.bottom),n.width>e.width)return 2;if(n.height>e.height)return 2}else n=t;p.off("ticked",h.combine);var a=e.$children.filter(function(e){for(var t=0;t<o.length;t++)if(o[t].$id===e.$id)return!0}),l=p.getStyle("opacity");a.forEach(function(e){e.settings&&(e.settings.$combineGlobalAlpha=e.settings.globalAlpha,e.settings.globalAlpha=0<l?e.settings.globalAlpha/l:1,e.props.$moved||(e.props.$moved=!0,e.props.left-=n.left,e.props.top-=n.top))});var s=e.$combinerCanvas;s||((s=e.$combinerCanvas=document.createElement("canvas")).width=e.width,s.height=e.height);var c=s.getContext("2d");c.clearRect(0,0,e.width,e.height),e.$render(c,a,!0),a.forEach(function(e){e.settings&&(e.settings.globalAlpha=e.settings.$combineGlobalAlpha)});var u=document.createElement("canvas");u.width=n.width,u.height=n.height,u.getContext("2d").drawImage(s,0,0,n.width,n.height,0,0,n.width,n.height),p.$combine={content:p.content,children:p.children,style:Object.assign({},p.style)},p.children=[],p.content={img:u};var f=p.getSelfStyle("left")-(Math.floor(t.left)-n.left),d=p.getSelfStyle("top")-(Math.floor(t.top)-n.top);return Object.assign(p.style,{scale:1,left:f,top:d,width:u.width,height:u.height,backgroundColor:void 0}),1}),this)}},function(e,t,n){"use strict";var o;(o=n(1))&&o.__esModule;e.exports=function(){var t=this;this.$combine&&(9!==this.$combine?(this.content=this.$combine.content,this.children=this.$combine.children,Object.keys(this.style).forEach(function(e){t.style[e]=void 0}),Object.keys(this.$combine.style).forEach(function(e){t.style[e]=t.$combine.style[e]}),this.$combine=!1,this.recalculate(!0)):this.$combine=!1)}},function(e,t,n){"use strict";var g=o(n(0)),y=o(n(8)),m=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(t){var a=this;if(t||g.default.execFuncs(a.hooks.beforeTick,a,[a.$canvas.$rafTime]),!1===g.default.funcOrValue(a.style.visible,a))return a.$cache.visible=!1,void(t||g.default.execFuncs(a.hooks.ticked,a,[a.$canvas.$rafTime]));a.$cache.visible=!0,t&&(a.$cache={},m.default.styles.forEach(function(e){a.$needUpdate[e]=1,a.$cache[e]=void 0}));var e=Object.keys(a.$needUpdate).length;if(a.$lastUpdate=a.$needUpdate,e){var l={},n=function(t){var e=a.$cache[t];if("function"==typeof a.$style[t])l[t]=1,a.$cache[t]=a.$style[t].call(a);else if("string"==typeof a.$style[t]&&-1<a.$style[t].indexOf("%")){var n=a.$parent&&a.$parent.$cache.width||a.$canvas.width||0,o=a.$parent&&a.$parent.$cache.width||a.$canvas.width||0;"left"===t||"width"===t?a.$cache[t]=Math.floor(parseFloat(a.$style[t])/100*n):"top"===t||"height"===t?a.$cache[t]=Math.floor(parseFloat(a.$style[t])/100*o):"fontSize"===t&&(a.$cache[t]=Math.floor(parseFloat(a.$style[t])/100*a.$canvas.width))}else a.$cache[t]=a.$style[t];if("left"===t||"top"===t){var r=a.$parent;r&&(a.$cache[t]+=r.$cache[t]||0)}else if("opacity"===t||"scale"===t){var i=a.$parent;i&&(a.$cache[t]*=g.default.firstValuable(i.$cache[t],1))}e===a.$cache[t]?delete a.$needUpdate[t]:"left"!==t&&"top"!==t&&"opacity"!==t&&"scale"!==t||e!==a.$cache[t]&&a.children.forEach(function(e){e.$needUpdate[t]=1})};for(var o in a.$needUpdate)n(o);e=Object.keys(a.$needUpdate).length,a.$needUpdate=l}t||g.default.execFuncs(a.hooks.ticked,a,[a.$canvas.$rafTime]);var r=g.default.funcOrValue(a.content.text,a),i=g.default.funcOrValue(a.content.img,a);if(e||a.$cache.text!==r||a.$cache.img!==i||a.content.img&&!a.$render._imgWidth){var s=a.$render;a.$cache.img=s.img=i=g.default.funcOrValue(a.content.img,a),a.$cache.text=s.text=r,"string"==typeof s.img&&(s.img=a.content.img=a.$canvas.imgLoader(s.img)),i&&!1===i._complete&&(i=!1),s.backgroundColor=a.$cache.backgroundColor,s.border=a.$cache.border,s.overflow=a.$cache.overflow,s.overflowX=a.$cache.overflowX,s.overflowY=a.$cache.overflowY,s.locate=a.$cache.locate,s.rotate=a.$cache.rotate,s.scale=a.$cache.scale,s.opacity=a.$cache.opacity,s.$moved=!1,s.childrenInside=(s.overflow||s.overflowX||s.overflowY)&&"visible"!==s.overflow,s.left=a.$cache.left,s.top=a.$cache.top,s.width=a.$cache.width,s.height=a.$cache.height,s._imgWidth=0,s._imgHeight=0,i&&i.width&&(s._imgWidth=i.width||0,s._imgHeight=i.height||0,s.cutLeft=a.$cache.cutLeft||0,s.cutTop=a.$cache.cutTop||0,s.cutWidth=a.$cache.cutWidth||s._imgWidth,s.cutHeight=a.$cache.cutHeight||s._imgHeight,s.cutLeft=Math.round(s.cutLeft),s.cutTop=Math.round(s.cutTop),s.cutWidth=Math.round(s.cutWidth),s.cutHeight=Math.round(s.cutHeight),s.width=s.width||s.cutWidth||0,s.height=s.height||s.cutHeight||0),"lt"===s.locate||("ld"===s.locate?s.top-=s.height:"rt"===s.locate?s.left-=s.width:"rd"===s.locate?(s.left-=s.width,s.top-=s.height):(s.left-=s.width>>1,s.top-=s.height>>1)),s.left=Math.round(s.left),s.top=Math.round(s.top),s.width=Math.round(s.width),s.height=Math.round(s.height);var c=s.settings={};if(c.globalAlpha=g.default.firstValuable(s.opacity,1),s.childrenInside&&(c.clip=!0),1!==a.$cache.scale){var u=s.scale,f=function e(t){if(t)return 1!==g.default.funcOrValue(t.$style.scale,t)?t:e(t.$parent)}(a);if(f){var d=f.$render.left+f.$render.width/2,h=f.$render.top+f.$render.height/2;s.left-=(d-s.left)*(u-1),s.top-=(h-s.top)*(u-1),s.width*=u,s.height*=u}}if((s.fh||s.fv)&&(s.fh=s.fh||0,s.fv=s.fv||0,s.fx=s.fx||0,s.fy=s.fy||0,c.transform={fh:s.fh,fv:s.fv,fx:-(s.top+(s.height>>1))*s.fv+s.fx,fy:-(s.left+(s.width>>1))*s.fh+s.fy}),s.blend&&("string"==typeof s.blend?c.globalCompositeOperation=s.blend:c.globalCompositeOperation=blend[s.blend]),s.backgroundColor&&(c.fillRect=s.backgroundColor),s.border&&(c.line=s.border),s.mirrX?(c.translate=[$canvas.width,0],c.scale=[-1,1],s.left=$canvas.width-s.left-s.width,s.mirrY&&(c.translate=[$canvas.width,$canvas.height],c.scale=[-1,-1],s.top=$canvas.height-s.top-s.height)):s.mirrY&&(c.translate=[0,$canvas.height],c.scale=[1,-1],s.top=$canvas.height-s.top-s.height),s.rotate){s.rx=g.default.firstValuable(g.default.funcOrValue(a.$cache.rx,a),s.left+.5*s.width),s.ry=g.default.firstValuable(g.default.funcOrValue(a.$cache.ry,a),s.top+.5*s.height);var p=g.default.firstValuable(s.rx,s.left+.5*s.width),v=g.default.firstValuable(s.ry,s.top+.5*s.height);c.beforeRotate=[p,v],c.rotate=-s.rotate*Math.PI/180,c.rotate=Number(c.rotate.toFixed(4)),c.afterRotate=[-p,-v]}s.$insight=(0,y.default)(s.left,s.top,s.width,s.height,0,0,a.$canvas.width,a.$canvas.height,c.beforeRotate&&c.beforeRotate[0],c.beforeRotate&&c.beforeRotate[1],s.rotate)}a.children.forEach(function(e){e.recalculate(t)})}},function(e,t,n){"use strict";var o=a(n(43)),r=a(n(45)),i=a(n(46));a(n(47));function a(e){return e&&e.__esModule?e:{default:e}}var l={$render:r.default,$eventHandler:i.default,$perPaint:o.default};e.exports=l},function(e,t,n){"use strict";var O=o(n(0)),T=(o(n(1)),o(n(44)));o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}O.default.blend;e.exports=function(t,e){if((t.$rendered=!1)!==t.$cache.visible){var n=this;(function(){var t=this;this.$canvas.$extendList.forEach(function(e){e.onPaint&&e.onPaint.call(t)})}).call(t);var i=t.$render,a=i.text,o=i.img,r=i.childrenInside;if(o||a||i.backgroundColor||i.border||r){var l=t.children,s=i.settings;if(s.clip){var c={$id:t.$id,type:"clip",props:i};c.$origin=t,n.$children.push(c)}if(l.length&&(0,T.default)(n,l,-1),s.fillRect){t.$rendered=!0;var u={$id:t.$id,type:"fillRect",settings:s,props:i};u.$origin=t,n.$children.push(u)}if(i._imgWidth&&0!==i.opacity&&i.cutWidth&&i.cutHeight){t.$rendered=!0;var f={$id:t.$id,type:"img",settings:s,img:o,props:i};f.$origin=t,n.$children.push(f)}if(a){i.fontSize=t.$cache.fontSize,i.fontFamily=t.$cache.fontFamily,i.color=t.$cache.color,i.textAlign=t.$cache.textAlign,i.textVerticalAlign=t.$cache.textVerticalAlign,t.$rendered=!0;var d=i.left,h=i.top,p=i.align||i.textAlign||"left",v=(i.fontSize||14)+"px "+(i.fontFamily||"serif"),g=parseInt(v),y="top",m=i.lineHeight||g;if("center"===p?d+=i.width/2:"right"===p&&(d+=i.width),"top"===i.textVerticalAlign?y="top":"bottom"===i.textVerticalAlign?(y="bottom",h+=i.height):"middle"===i.textVerticalAlign&&(h+=i.height>>1,y="middle"),"string"==typeof a||"number"==typeof a)n.$children.push({$id:t.$id,type:"text",settings:s,props:{left:d,top:h,content:String(a),fontsize:g,align:p,baseline:y,font:v,color:i.color,type:i.textToppe},$origin:t});else if(a.length)a.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:s,props:{left:d+O.default.funcOrValue(e.left,t),top:h+O.default.funcOrValue(e.top,t),content:O.default.funcOrValue(e.content,t),fontsize:g,baseline:y,align:p,font:v,color:i.color,type:i.textToppe},$origin:t})});else if("multline-text"===a.toppe){var b=a.text.split(/\t|\n/),$=[];b.forEach(function(e,t){e=String.prototype.trim.apply(e),a.config.start&&(e=e.replace(a.config.start,""));for(var n,o=0,r=i.width;e.length&&o<e.length;)r<=0&&(r=i.width,$.push(e.substr(0,o)),e=e.substr(o),o=0),r-=g*(n=e[++o],/[^\u4e00-\u9fa5]/.test(n)?.6:1.05);(e||t)&&$.push(e)}),$.forEach(function(e){n.$children.push({$id:t.$id,type:"text",settings:s,props:{left:d,top:h,fontsize:g,content:e,baseline:y,align:p,font:v,color:i.color,type:i.textToppe},$origin:t}),h+=m||g})}}if(o||a||(t.$rendered=void 0),l.length&&(0,T.default)(n,l,1),s.clip){var w={$id:t.$id,type:"clipOver",props:i};w.$origin=t,n.$children.push(w)}if(s.line){t.$rendered=!0;var x={$id:t.$id,type:"line",settings:s,props:i};x.$origin=t,n.$children.push(x)}}else{t.$rendered=void 0;var _=t.children;_.length&&((0,T.default)(n,_,-1),(0,T.default)(n,_,1))}}}},function(e,t,n){"use strict";var o,r=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(n,e,o){e.filter(function(e){var t=r.default.funcOrValue(e.style.zIndex,e);return o<0?t<0:0<=t}).sort(function(e,t){var n=r.default.funcOrValue(e.style.zIndex,e),o=r.default.funcOrValue(t.style.zIndex,t);return n===o?0:o<n?1:-1}).forEach(function(e,t){n.$perPaint.call(n,e,t)})}},function(e,t,n){"use strict";var o,g=(o=n(0))&&o.__esModule?o:{default:o};e.exports=function(h,e,t){var p=this,v=e||p.$children;t||p.webgl||(v=v.filter(function(e){return!1!==e.props.$insight})),v.forEach(function(e,t){var n,o=e.props;if(o&&"clip"!==e.type&&"text"!==e.type&&"clipOver"!==e.type&&"line"!==e.type&&4e4<(n=o.width*o.height)&&!e.settings.transform&&!e.settings.rotate)for(var r=v.length,i=t+1;i<r;i++){var a=v[i];if(!a.$cannotCover)if("clip"!==a.type){var l=a.settings;if(a.type&&"img"===a.type||"fillRect"===a.type&&-1===l.fillRect.indexOf("rgba")){var s=a.props;if(s.width*s.height<4e4)a.$cannotCover=!0;else if(!(s.width*s.height<n))if(!a.img||a.img.$noAlpha){if(1!==l.globalAlpha||l.globalCompositeOperation||l.transform||l.rotate)a.$cannotCover=!0;else if(g.default.pointInRect(o.left,o.top,s.left,s.left+s.width,s.top,s.top+s.height)&&g.default.pointInRect(o.left+o.width,o.top+o.height,s.left,s.left+s.width,s.top,s.top+s.height))return void 0}else a.$cannotCover=!0}else a.$cannotCover=!0}else for(;i<r&&"clipOver"!==v[++i].type;);}var c=e.settings||{};if(!function(n,o){var r=this,i=!1;return this.$extendList.forEach(function(e){if(e.onRender){var t=e.onRender.call(r,n,o);t&&(i=t)}}),i}.call(p,e,c)){0;var u=h||p.$paintContext;"clip"===e.type&&(u.save(),u.beginPath(),u.moveTo(o.left,o.top),u.lineTo(o.left+o.width,o.top),u.lineTo(o.left+o.width,o.top+o.height),u.lineTo(o.left,o.top+o.height),u.lineTo(o.left,o.top),u.closePath(),u.clip());var f=!1;if(c.globalCompositeOperation&&(f||(u.save(),f=!0),u.globalCompositeOperation=c.globalCompositeOperation),u.$globalAlpha!==c.globalAlpha&&(u.$globalAlpha=u.globalAlpha=c.globalAlpha),c.translate&&(f||(u.save(),f=!0),u.translate(c.translate[0]||0,c.translate[1]||0)),c.rotate&&(f||(u.save(),f=!0),u.translate(c.beforeRotate[0]||0,c.beforeRotate[1]||0),u.rotate(c.rotate||0),u.translate(c.afterRotate[0]||0,c.afterRotate[1]||0)),c.scale&&(f||(u.save(),f=!0),u.scale(c.scale[0]||1,c.scale[1]||1)),c.transform&&(f||(u.save(),f=!0),u.transform(1,c.transform.fh,c.transform.fv,1,c.transform.fx,c.transform.fy)),"img"===e.type)u.drawImage(e.img,o.cutLeft,o.cutTop,o.cutWidth,o.cutHeight,o.left,o.top,o.width,o.height);else if("text"===e.type&&o.content)u.font=o.font,u.fillStyle=o.color||"white",u.textAlign=o.align,u.textBaseline=o.baseline,u[o.type||"fillText"](o.content,o.left,o.top);else if("fillRect"===e.type)u.fillStyle=c.fillRect,u.fillRect(o.left,o.top,o.width,o.height);else if("line"===e.type){u.beginPath();var d=o.border.substr(o.border.indexOf(" "))||"black";u.strokeStyle=d,u.lineWidth=o.border.split(" ")[0]||1,u.moveTo(o.left,o.top),u.lineTo(o.left+o.width,o.top),u.lineTo(o.left+o.width,o.top+o.height),u.lineTo(o.left,o.top+o.height),u.closePath(),u.stroke()}else"clipOver"===e.type&&u.restore();f&&(u.$globalAlpha=!1,u.restore())}})}},function(e,t,n){"use strict";var h=o(n(0));o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function p(e){return e.sort(function(e,t){return h.default.funcOrValue(h.default.firstValuable(e.events.eIndex,e.style.zIndex),e)<h.default.funcOrValue(h.default.firstValuable(t.events.eIndex,t.style.zIndex),t)?1:-1})}function v(e,t){var n=e.getRect();return h.default.pointInRect(t.canvasX,t.canvasY,n.left,n.left+n.width,n.top,n.top+n.height)}var g,y="undefined"!=typeof wx||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),m=function e(t,n,o){o&&o.push(t),t.events[n.type]&&(t.events[n.type].call(t,n),n.$stopPropagation)||(t.$parent?e(t.$parent,n,o):t.$canvas&&!n.$stopPropagation&&(e(t.$canvas,n),n.stopPropagation()))},b={x:0,y:0,timeStamp:0};g=function(e,t){var n,o,r=this,i=1,a=1;if(!t){o=!e.layerX&&e.targetTouches&&e.targetTouches[0]?(n=e.targetTouches[0].pageX-e.currentTarget.offsetLeft,e.targetTouches[0].pageY-e.currentTarget.offsetTop):!e.layerX&&e.changedTouches&&e.changedTouches[0]?(n=e.changedTouches[0].pageX-e.currentTarget.offsetLeft,e.changedTouches[0].pageY-e.currentTarget.offsetTop):(n=e.layerX,e.layerY);if(this.$dom.getBoundingClientRect){var l=this.$dom.getBoundingClientRect();l.width,l.height,this.width,this.height,i=Math.floor(l.width)/this.width,a=Math.floor(l.height)/this.height}}var s=t||{type:e.type,canvasX:n/i,canvasY:o/a,event:e};if(y&&r.fastclick){if("click"===s.type&&!s.$fakeClick)return;"touchstart"===s.type?(b.x=s.canvasX,b.y=s.canvasY,b.timeStamp=Date.now()):"touchend"===s.type&&Math.abs(b.x-s.canvasX)<30&&Math.abs(b.y-s.canvasY)<30&&Date.now()-b.timeStamp<200&&g.call(this,null,{$fakeClick:!0,type:"click",canvasX:b.x,canvasY:b.y,event:e})}if(s.stopPropagation=function(){s.$stopPropagation=!0},!r.events.interceptor||(s=h.default.firstValuable(r.events.interceptor.call(r,s),s))&&!s.$stopPropagation){var c=[];if(function e(t,n,o){if(t&&t.length&&!n.$stopPropagation)for(var r=t.length,i=0;i<r;i++){var a=t[i];if(!1!==h.default.funcOrValue(a.style.visible,a)&&(!a.events||"none"!==a.events.pointerEvents)){if(v(a,n)){var l=a.events.interceptor;if(l){var s=h.default.firstValuable(l.call(a,n),n);if(!s||s.$stopPropagation)return}}var c=a.$combine&&a.$combine.children?a.$combine.children:a.children;if(c.length&&e(p(c.filter(function(e){return 0<=h.default.funcOrValue(h.default.firstValuable(e.events.eIndex,e.style.zIndex),e)})),n,o),n.$stopPropagation)break;if(v(a,n))return m(a,n,o),void n.stopPropagation();c.length&&e(p(c.filter(function(e){return!(0<=h.default.funcOrValue(h.default.firstValuable(e.events.eIndex,e.style.zIndex),e))})),n,o)}}}(p(r.children),s,c),function(t,n){var o=this;this.$extendList.forEach(function(e){e.onEvent&&e.onEvent.call(o,t,n)})}.call(r,s,c),("mousemove"===s.type||"touchmove"===s.type)&&r.eLastMouseHover&&-1===c.indexOf(r.eLastMouseHover)){var u=r.eLastMouseHover.events.mouseout||r.eLastMouseHover.events.touchout;u&&u.call(r.eLastMouseHover,s)}if(r.eLastMouseHover=c[0],!c.length&&r.eLastMouseHover){var f=r.eLastMouseHover.events.mouseout;f&&f.call(r.eLastMouseHover,s),r.eLastMouseHover=null}var d=r.events[s.type];return d&&!s.$stopPropagation&&d.call(r,s)?!(r.eHoldingFlag=!1):void 0}},e.exports=g},function(e,t,n){"use strict";o(n(0)),o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){}},function(e,t,n){"use strict";e.exports={$dom:null,$paintContext:null,$nextTickTime:0,$lastPaintTime:0,$pausing:!1,$freezing:!1,name:"",fps:0,lastFps:0,fpsCalculateTime:0,fpsHandler:null,width:0,height:0,events:{click:null},children:[],eHoldingFlag:!1,eLastMouseHover:null,maxFps:-1,$flags:{}}},function(e,t,n){"use strict";var o=i(n(7)),r=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,l){var s;return(0,r.default)(e,function(e){return(0,o.default)(e,function(e){for(var t=e.width,n=e.height,o=e.getContext("2d").getImageData(0,0,t,n),r=o.data,i=r.length-1;0<=i;i-=4)if(l&&l.conversion){var a=l.conversion({r:r[i-3],g:r[i-2],b:r[i-1],a:r[i]},(i+1>>2)%t,Math.floor((i+1>>2)/t));r[i-3]=a.r,r[i-2]=a.g,r[i-1]=a.b,r[i-0]=a.a}e.getContext("2d").clearRect(0,0,t,n),e.getContext("2d").putImageData(o,0,0),s=e},{canvas:!0,cacheFlag:Math.random()})}),function(){return s}}},function(e,t,n){"use strict";e.exports=function(e,t){return{type:"multline-text",text:e,config:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=r.default.prototype.$extendList;if(0<=t.indexOf(e))return;t.push(e)};var o,r=(o=n(6))&&o.__esModule?o:{default:o}},function(e,t,n){"use strict";o(n(1)),o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}},,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(71)},function(e,t,n){"use strict";n(72);var o,r=(o=n(22))&&o.__esModule?o:{default:o};e.exports=r.default},function(e,t,n){"use strict";function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var r,i;i={},o.m=r=[function(e,t,n){var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1));var l=GameGlobal;GameGlobal.__isAdapterInjected||(GameGlobal.__isAdapterInjected=!0,function(){a.addEventListener=a.canvas.addEventListener=function(e,t){a.document.addEventListener(e,t)},a.removeEventListener=a.canvas.removeEventListener=function(e,t){a.document.removeEventListener(e,t)};var e=wx.getSystemInfoSync().platform;if("undefined"==typeof __devtoolssubcontext&&"devtools"===e){for(var t in a){var n=Object.getOwnPropertyDescriptor(l,t);n&&!0!==n.configurable||Object.defineProperty(window,t,{value:a[t]})}for(var o in a.document){var r=Object.getOwnPropertyDescriptor(l.document,o);r&&!0!==r.configurable||Object.defineProperty(l.document,o,{value:a.document[o]})}window.parent=window}else{for(var i in a)l[i]=a[i];l.window=a,window=l,window.top=window.parent=window}}())},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelAnimationFrame=t.requestAnimationFrame=t.clearInterval=t.clearTimeout=t.setInterval=t.setTimeout=t.canvas=t.location=t.localStorage=t.HTMLElement=t.FileReader=t.Audio=t.Image=t.WebSocket=t.XMLHttpRequest=t.navigator=t.document=void 0;var o=n(2);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var r=n(3);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=g(n(9)),a=g(n(10)),l=g(n(17)),s=g(n(18)),c=g(n(19)),u=g(n(11)),f=g(n(12)),d=g(n(20)),h=g(n(4)),p=g(n(21)),v=g(n(22));function g(e){return e&&e.__esModule?e:{default:e}}t.document=a.default,t.navigator=l.default,t.XMLHttpRequest=s.default,t.WebSocket=c.default,t.Image=u.default,t.Audio=f.default,t.FileReader=d.default,t.HTMLElement=h.default,t.localStorage=p.default,t.location=v.default;var y=new i.default;t.canvas=y,t.setTimeout=setTimeout,t.setInterval=setInterval,t.clearTimeout=clearTimeout,t.clearInterval=clearInterval,t.requestAnimationFrame=requestAnimationFrame,t.cancelAnimationFrame=cancelAnimationFrame},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=wx.getSystemInfoSync(),o=n.screenWidth,r=n.screenHeight,i=n.devicePixelRatio,a=t.innerWidth=o,l=t.innerHeight=r;t.devicePixelRatio=i;t.screen={availWidth:a,availHeight:l},t.performance={now:function(){return Date.now()/1e3}},t.ontouchstart=null,t.ontouchmove=null,t.ontouchend=null},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLCanvasElement=t.HTMLImageElement=void 0;var o,r=n(4),i=(o=r)&&o.__esModule?o:{default:o};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.HTMLImageElement=(s(c,i.default),c);function c(){return a(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,"img"))}t.HTMLCanvasElement=(s(u,i.default),u);function u(){return a(this,u),l(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,"canvas"))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a=n(5),l=(i=a)&&i.__esModule?i:{default:i},s=n(8),c=n(2);var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l.default),o(f,[{key:"setAttribute",value:function(e,t){this[e]=t}},{key:"getAttribute",value:function(e){return this[e]}},{key:"getBoundingClientRect",value:function(){return{top:0,left:0,width:c.innerWidth,height:c.innerHeight}}},{key:"focus",value:function(){}},{key:"clientWidth",get:function(){var e=parseInt(this.style.fontSize,10)*this.innerHTML.length;return Number.isNaN(e)?0:e}},{key:"clientHeight",get:function(){var e=parseInt(this.style.fontSize,10);return Number.isNaN(e)?0:e}}]),f);function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return t.className="",t.childern=[],t.style={width:c.innerWidth+"px",height:c.innerHeight+"px"},t.insertBefore=s.noop,t.innerHTML="",t.tagName=e.toUpperCase(),t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6);var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,((o=r)&&o.__esModule?o:{default:o}).default),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.className="",e.children=[],e}t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a=n(7);var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,((i=a)&&i.__esModule?i:{default:i}).default),o(s,[{key:"appendChild",value:function(e){if(!(e instanceof s))throw new TypeError("Failed to executed 'appendChild' on 'Node': parameter 1 is not of type 'Node'.");this.childNodes.push(e)}},{key:"cloneNode",value:function(){var e=Object.create(this);return Object.assign(e,this),e}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex(function(e){return e===t});return-1<e?this.childNodes.splice(e,1):null}}]),s);function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.childNodes=[],e}t.default=l},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=new WeakMap,r=(n(a,[{key:"addEventListener",value:function(e,t,n){var o=2<arguments.length&&void 0!==n?n:{},r=i.get(this);r||(r={},i.set(this,r)),r[e]||(r[e]=[]),r[e].push(t),o.capture&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),o.once&&console.warn("EventTarget.addEventListener: options.once is not implemented."),o.passive&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")}},{key:"removeEventListener",value:function(e,t){var n=i.get(this)[e];if(n&&0<n.length)for(var o=n.length;o--;)if(n[o]===t){n.splice(o,1);break}}},{key:"dispatchEvent",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=i.get(this)[t.type];if(n)for(var o=0;o<n.length;o++)n[o](t)}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.set(this,{})}t.default=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=wx.createCanvas();e.type="canvas",e.__proto__.__proto__=new o.default("canvas");e.getContext;return e.getBoundingClientRect=function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},e};n(3);var o=r(n(4));r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),r=s(n(4)),i=s(n(11)),a=s(n(12)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}n(15);var c={},u={readyState:"complete",visibilityState:"visible",documentElement:o,hidden:!1,style:{},location:o.location,ontouchstart:null,ontouchmove:null,ontouchend:null,head:new r.default("head"),body:new r.default("body"),createElement:function(e){return"canvas"===e?new l.default:"audio"===e?new a.default:"img"===e?new i.default:new r.default(e)},getElementById:function(e){return e===o.canvas.id?o.canvas:null},getElementsByTagName:function(e){return"head"===e?[u.head]:"body"===e?[u.body]:"canvas"===e?[o.canvas]:[]},querySelector:function(e){return"head"===e?u.head:"body"===e?u.body:"canvas"===e?o.canvas:e==="#"+o.canvas.id?o.canvas:null},querySelectorAll:function(e){return"head"===e?[u.head]:"body"===e?[u.body]:"canvas"===e?[o.canvas]:[]},addEventListener:function(e,t){c[e]||(c[e]=[]),c[e].push(t)},removeEventListener:function(e,t){var n=c[e];if(n&&0<n.length)for(var o=n.length;o--;)if(n[o]===t){n.splice(o,1);break}},dispatchEvent:function(e){var t=c[e.type];if(t)for(var n=0;n<t.length;n++)t[n](e)}};t.default=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return wx.createImage()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a=n(13),l=(i=a)&&i.__esModule?i:{default:i};var s=new WeakMap,c=new WeakMap,u=(new WeakMap,new WeakMap,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,l.default),o(f,[{key:"load",value:function(){console.warn("HTMLAudioElement.load() is not implemented.")}},{key:"play",value:function(){s.get(this).play()}},{key:"pause",value:function(){s.get(this).pause()}},{key:"canPlayType",value:function(e){var t=0<arguments.length&&void 0!==e?e:"";return"string"!=typeof t?"":-1<t.indexOf("audio/mpeg")||t.indexOf("audio/mp4")?"probably":""}},{key:"cloneNode",value:function(){var e=new f;return e.loop=s.get(this).loop,e.autoplay=s.get(this).loop,e.src=this.src,e}},{key:"currentTime",get:function(){return s.get(this).currentTime},set:function(e){s.get(this).seek(e)}},{key:"src",get:function(){return c.get(this)},set:function(e){c.set(this,e),s.get(this).src=e}},{key:"loop",get:function(){return s.get(this).loop},set:function(e){s.get(this).loop=e}},{key:"autoplay",get:function(){return s.get(this).autoplay},set:function(e){s.get(this).autoplay=e}},{key:"paused",get:function(){return s.get(this).paused}}]),f);function f(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));t.HAVE_NOTHING=0,t.HAVE_METADATA=1,t.HAVE_CURRENT_DATA=2,t.HAVE_FUTURE_DATA=3,t.HAVE_ENOUGH_DATA=4,t.readyState=0,c.set(t,"");var n=wx.createInnerAudioContext();return s.set(t,n),n.onCanplay(function(){t.dispatchEvent({type:"load"}),t.dispatchEvent({type:"loadend"}),t.dispatchEvent({type:"canplay"}),t.dispatchEvent({type:"canplaythrough"}),t.dispatchEvent({type:"loadedmetadata"}),t.readyState=2}),n.onPlay(function(){t.dispatchEvent({type:"play"})}),n.onPause(function(){t.dispatchEvent({type:"pause"})}),n.onEnded(function(){t.dispatchEvent({type:"ended"}),t.readyState=4}),n.onError(function(){t.dispatchEvent({type:"error"})}),e&&(s.get(t).src=e),t}t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(14);var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,((o=r)&&o.__esModule?o:{default:o}).default),a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"audio"))}t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i,a=n(4);var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+d(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,((i=a)&&i.__esModule?i:{default:i}).default),o(s,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==d(t)&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e))}t.default=l},function(e,t,n){n(16)},function(e,t,n){var o,r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(1)),i=n(10),a=(o=i)&&o.__esModule?o:{default:o},l=n(8);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.target=r.canvas,this.currentTarget=r.canvas,this.touches=[],this.targetTouches=[],this.changedTouches=[],this.preventDefault=l.noop,this.stopPropagation=l.noop,this.type=e}var c=0,u=0;function f(n){return function(e){var t=new s(n);t.touches=e.touches,e.touches[0]&&(c=e.touches[0].clientX,u=e.touches[0].clientY),t.layerX=c,t.layerY=u,t.targetTouches=Array.prototype.slice.call(e.touches),t.changedTouches=e.changedTouches,t.timeStamp=e.timeStamp,a.default.dispatchEvent(t)}}wx.onTouchStart(f("touchstart")),wx.onTouchMove(f("touchmove")),wx.onTouchEnd(f("touchend")),wx.onTouchCancel(f("touchcancel"))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),r={platform:wx.getSystemInfoSync().platform,language:"zh-cn",appVersion:"5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN",onLine:!0,geolocation:{getCurrentPosition:o.noop,watchPosition:o.noop,clearWatch:o.noop}};t.default=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=new WeakMap,i=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap;function c(e){if("function"==typeof this["on"+e]){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this["on"+e].apply(this,n)}}function u(e){this.readyState=e,c.call(this,"readystatechange")}var f=(n(d,[{key:"abort",value:function(){var e=l.get(this);e&&e.abort()}},{key:"getAllResponseHeaders",value:function(){var t=s.get(this);return Object.keys(t).map(function(e){return e+": "+t[e]}).join("\n")}},{key:"getResponseHeader",value:function(e){return s.get(this)[e]}},{key:"open",value:function(e,t){i.set(this,e),r.set(this,t),u.call(this,d.OPENED)}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(e){var l=this,t=0<arguments.length&&void 0!==e?e:"";if(this.readyState!==d.OPENED)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");wx.request({data:t,url:r.get(this),method:i.get(this),header:a.get(this),responseType:this.responseType,success:function(e){var t=e.data,n=e.statusCode,o=e.header;if("string"!=typeof t&&!(t instanceof ArrayBuffer))try{t=JSON.stringify(t)}catch(e){t=t}if(l.status=n,s.set(l,o),c.call(l,"loadstart"),u.call(l,d.HEADERS_RECEIVED),u.call(l,d.LOADING),(l.response=t)instanceof ArrayBuffer){l.responseText="";for(var r=new Uint8Array(t),i=r.byteLength,a=0;a<i;a++)l.responseText+=String.fromCharCode(r[a])}else l.responseText=t;u.call(l,d.DONE),c.call(l,"load"),c.call(l,"loadend")},fail:function(e){var t=e.errMsg;-1!==t.indexOf("abort")?c.call(l,"abort"):c.call(l,"error",t),c.call(l,"loadend")}})}},{key:"setRequestHeader",value:function(e,t){var n=a.get(this);n[e]=t,a.set(this,n)}}]),d);function d(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.onabort=null,this.onerror=null,this.onload=null,this.onloadstart=null,this.onprogress=null,this.ontimeout=null,this.onloadend=null,this.onreadystatechange=null,this.readyState=0,this.response=null,this.responseText=null,this.responseType="",this.responseXML=null,this.status=0,this.statusText="",this.upload={},this.withCredentials=!1,a.set(this,{"content-type":"application/x-www-form-urlencoded"}),s.set(this,{})}f.UNSEND=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,t.default=f},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=new WeakMap,i=(n(a,[{key:"close",value:function(e,t){this.readyState=a.CLOSING,r.get(this).close({code:e,reason:t})}},{key:"send",value:function(e){if("string"!=typeof e&&!(e instanceof ArrayBuffer))throw new TypeError("Failed to send message: The data "+e+" is invalid");r.get(this).send({data:e})}}]),a);function a(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.binaryType="",this.bufferedAmount=0,this.extensions="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.protocol="",this.readyState=3,"string"!=typeof e||!/(^ws:\/\/)|(^wss:\/\/)/.test(e))throw new TypeError("Failed to construct 'WebSocket': The URL '"+e+"' is invalid");this.url=e,this.readyState=a.CONNECTING;var o=wx.connectSocket({url:e,protocols:Array.isArray(n)?n:[n]});return r.set(this,o),o.onClose(function(e){t.readyState=a.CLOSED,"function"==typeof t.onclose&&t.onclose(e)}),o.onMessage(function(e){"function"==typeof t.onmessage&&t.onmessage(e)}),o.onOpen(function(){t.readyState=a.OPEN,"function"==typeof t.onopen&&t.onopen()}),o.onError(function(e){"function"==typeof t.onerror&&t.onerror(new Error(e.errMsg))}),this}i.CONNECTING=0,i.OPEN=1,i.CLOSING=2,i.CLOSED=3,t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={get length(){return wx.getStorageInfoSync().keys.length},key:function(e){return wx.getStorageInfoSync().keys[e]},getItem:function(e){return wx.getStorageSync(e)},setItem:function(e,t){return wx.setStorageSync(e,t)},removeItem:function(e){wx.removeStorageSync(e)},clear:function(){wx.clearStorageSync()}};t.default=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={href:"game.js",reload:function(){}}}],o.c=i,o.p="",o(0)}]));